matrix:
  include:
    # linux
    - os: linux
      env: BUILD_TARGET=linux
      language: cpp
      sudo: required
      addons:
        apt:
          sources:
            - george-edison55-precise-backports # cmake 3.2.3 / doxygen 1.8.3
          packages:
            - cmake
            - cmake-data
    # android
    - os: linux
      env: BUILD_TARGET=android
      language: android
      sudo: required
      android:
        components:
          - android-10
    # mac lua-tests + js-tests
    - os: osx
      env: BUILD_TARGET=mac
      language: cpp
      osx_image: xcode7.3
      sudo: required
      python:
        - "2.7"
      cache: pip
    # mac cpp-tests
    - os: osx
      env: BUILD_TARGET=mac BUILD_CPP=true
      language: cpp
      osx_image: xcode7.3
      sudo: required
      python:
        - "2.7"
      cache: pip
    # iOS lua-tests + js-tests
    - os: osx
      env: BUILD_TARGET=ios
      language: cpp
      osx_image: xcode7.3
      sudo: required
      python:
        - "2.7"
      cache: pip
    # iOS cpp-tests
    - os: osx
      env: BUILD_TARGET=ios BUILD_CPP=true
      language: cpp
      osx_image: xcode7.3
      sudo: required
      python:
        - "2.7"
      cache: pip
global:
  - secure: |-
      cHXOjAda+t2tmBVuVAiQfvhDN+unToO6hX1rc3dJeGDOk4rlQnylJacjA7o/
      enkWeHagbW2Ja4h7BxQz4h7dada8zEbIbEMK4VEHx6AWwQM+GIEqkJPv5g8k
      4P20MLpX4XyUwm/16btpnqgXlyd8Q3Zjh3Vui/5/VzwPnxUQEho=
  - secure: |-
      U/JsyiSR9q+8wX1arfciy3BdbMQaKmgt48/9tiU7P2RQJ/FR2AHGq85sNGI/
      ZUxN4JPLGALEvkFMo4NYyJDUcsdRHZX3vbp5xbSSRaBigqJIj3HDxtlPVf2m
      /W2GzcfNNX1ACO18hSWH0d2yFlF263ZmvudzQIfqTESfjGQBzwA=
  - secure: |-
      Wsngwo3jlZtvuPfr3RNhqrz/liNIhKYnlw4KYJO90gMQ9ZQKRTlMv2BMiPw/
      9lV+vgJQDRcFe7dKwtC86vk10EU7Ym2bhVmhMxi/AlmJXgavjmPVdizRT7rh
      X2Ry/Nb6hGRkH3WS0T3D/KG1+e7lP/TMB9bvo6/locLJ2A6Z1YI=
  - secure: PGMnEvysYv9Mnjrof05v9MU41ZlVO7A7SQb4oLuYqhBf0stvZUVEF4fmkOcXRPAd4Cg41aAbtE8RyGaqIFaKHtjHFtTdisM9XVXqL+eMfv5L+8nFCk4S5Fi/ohglO+FBJ9X/NLfAfRZmlwJR+UedU5AJwqlQbKraNkyv/FmDMUc=
script:
- tools/travis-scripts/run-script.sh
before_install:
- tools/travis-scripts/before-install.sh

cache:
  bundler: true

notifications:
  email: false

# blocklist
branches:
  except:
  - v1
  - v2
  - v4-develop
  - v3-doc
  - v3.11_backup
  - v35-for-tizen
