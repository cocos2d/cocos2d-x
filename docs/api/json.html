<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>quick-cocos2d-x v3 API Documents - json</title>
<link rel="stylesheet" href="luadocx-style.css" type="text/css" />
<link rel="stylesheet" href="luadocx-style-monokai.css" type="text/css" />
<script src="luadocx-highlight.min.js"></script>
<script type="text/javascript" charset="utf-8">hljs.initHighlightingOnLoad();</script>
</head>
<body>
  <div id="container">

    <table id="main">
      <tr>
        <td id="navigation">

          <h2>Links</h2>
          <ul>
            <li><a href="index.html">Index</a></li>
          </ul>

          <h2>Modules</h2>
          <ul>
            <li><a href="audio.html">audio</a></li>
            <li><a href="cocos2dx.html">cocos2dx</a></li>
            <li><a href="crypto.html">crypto</a></li>
            <li><a href="debug.html">debug</a></li>
            <li><a href="device.html">device</a></li>
            <li><a href="display.html">display</a></li>
            <li><a href="filter.html">filter</a></li>
            <li><a href="functions.html">functions</a></li>
            <li><a href="index.html">init</a></li>
            <li><strong>json</strong></li>
            <li><a href="luaj.html">luaj</a></li>
            <li><a href="luaoc.html">luaoc</a></li>
            <li><a href="network.html">network</a></li>
            <li><a href="scheduler.html">scheduler</a></li>
            <li><a href="shortcodes.html">shortcodes</a></li>
            <li><a href="transition.html">transition</a></li>
            <li><a href="ui.html">ui</a></li>
          </ul>

        </td> <!-- navigation -->

        <td id="content">

          <!-- BEGIN module doc -->

          <div id="module_doc">

<h1>json</h1>

          </div>

          <!-- END module doc -->


          <!--  BEGIN functions index -->


          <table class="function_list">

              <tr>
                  <th colspan="2">Functions</th>
              </tr>


            <tr>
              <td class="name" nowrap colspan="2"><a href="#anchor_safeLoad">safeLoad()</a></td>
            </tr>

            <tr>
              <td class="summary" colspan="2">JSON 编码与解码</td>
            </tr>


            <tr>
              <td class="name" nowrap colspan="2"><a href="#anchor_json_encode">json.encode(var)</a></td>
            </tr>

            <tr>
              <td class="summary" colspan="2">将表格数据编码为 JSON 字符串</td>
            </tr>


            <tr>
              <td class="name" nowrap colspan="2"><a href="#anchor_json_decode">json.decode(text)</a></td>
            </tr>

            <tr>
              <td class="summary" colspan="2">将 JSON 字符串解码为表格对象</td>
            </tr>


          </table>

          <!--  END functions index -->


          <!-- BEGIN functions details -->

          <h2>Functions</h2>
          <dl class="function">


<!--            <dt class="--><!--">-->
<!--              --><!--<a name="--><!--"></a>-->
<!--              <h3>--><!--</h3>-->
<!--            </dt>-->

            <a name="anchor_safeLoad"></a>

            <dd class="">

<h3>safeLoad()</h3>

<blockquote>
  <p>safeLoad()</p>
</blockquote>

<p>JSON 编码与解码</p>

            </dd>


<!--            <dt class="--><!--">-->
<!--              --><!--<a name="--><!--"></a>-->
<!--              <h3>--><!--</h3>-->
<!--            </dt>-->

            <a name="anchor_json_encode"></a>

            <dd class="">

<h3>json.encode()</h3>

<blockquote>
  <p>json.encode(var)</p>
</blockquote>

<p>将表格数据编码为 JSON 字符串</p>

<pre><code class="lua"><br />local str = json.encode({a=1,b="ss",c={c1=1,c2=2},d={10,11},100})
echo(str) -- {"a":1,"b":"ss","c":{"c1":1,"c2":2},"d":[10,11],"1":100}
local str = json.encode({1,2,"3",{10,11}})
echo(str) -- [ 1,2,"3",[10,11] ]

</code></pre>

<p>注意: table作为字典使用时，整型键值将被转换为字符串键值</p>

<pre><code class="lua"><br />local str = json.encode({a=1,[5]=3})
echo(str) -- {"a":1,"5":3}

</code></pre>

<p>注意: table所有键值为整型时，会当作数组看待，空位将转化为null</p>

<pre><code class="lua"><br />local str = json.encode({[3]=2,[5]=3})
echo(str) -- [null,null,2,null,3]

</code></pre>

<h4>Parameters</h4>

<ul>
<li>table <strong>表格对象</strong></li>
</ul>

<h4>Returns</h4>

<ul>
<li>string json字符串</li>
</ul>

            </dd>


<!--            <dt class="--><!--">-->
<!--              --><!--<a name="--><!--"></a>-->
<!--              <h3>--><!--</h3>-->
<!--            </dt>-->

            <a name="anchor_json_decode"></a>

            <dd class="">

<h3>json.decode()</h3>

<blockquote>
  <p>json.decode(text)</p>
</blockquote>

<p>将 JSON 字符串解码为表格对象</p>

<pre><code class="lua"><br />local json = require("framework.shared.json")
local tb = json.decode('{"a":1,"b":"ss","c":{"c1":1,"c2":2},"d":[10,11],"1":100}')
dump(tb) --[ [
- "&lt;var&gt;" = {
-     "1" = 100
-     "a" = 1
-     "b" = "ss"
-     "c" = {
-         "c1" = 1
-         "c2" = 2
-     }
-     "d" = {
-         1 = 10
-         2 = 11
-     }
- }
] ]
local tb = json.decode('[1,2,"3",[10,11] ]')
dump(tb) --[ [
- "&lt;var&gt;" = {
-     1 = 1
-     2 = 2
-     3 = "3"
-     4 = {
-         1 = 10
-         2 = 11
-     }
- }
] ]

</code></pre>

<h4>Parameters</h4>

<ul>
<li>string <strong>json字符串</strong></li>
</ul>

<h4>Returns</h4>

<ul>
<li>table 表格对象</li>
</ul>

            </dd>


          </dl>

          <!-- BEGIN functions details -->


      </td> <!-- id="content" -->

      </tr>
    </table> <!-- id="main" -->

    <div id="about">
      <i>update: 2014-09-19 16:07:27, generated by <a href="http://github.com/dualface/luadocx">luadocx 1.3</a></i>
    </div> <!-- id="about" -->

  </div> <!-- id="container" -->

</body>
</html>
