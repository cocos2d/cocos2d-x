function e(a){throw a;}var g=!0,h=null,j=!1;function k(){return function(){}}function aa(a){return function(){return this[a]}}function l(a){return function(){return a}}var n,cc=cc||{};cc.eu=4294967295;cc.tv=1;cc.uv=2;cc.vv=0;cc.xw=1;cc.yw=2;cc.zw=3;cc.Aw=0;cc.jk=771;cc.kk=1;cc.Wm=0;cc.Xm=0;cc.bn=0.1;cc.Nn=0;cc.On=1;cc.Pn=1;cc.ma=0;cc.Qn=1;cc.Ao=0;cc.So=0;cc.pp=0;cc.qp=0;cc.Np=0;cc.Op=2;cc.Pp=1;cc.Aq=1;cc.zs=16;cc.cu=1;cc.du=0;cc.Su=0;cc.Tu=1;cc.hw=1;cc.kj=-1;cc.Um=6;cc.Vm=7;cc.Om=4;cc.Pm=5;
cc.Qm=0;cc.Rm=2;cc.Sm=3;cc.Tm=1;cc.Ym=0;cc.Zm=1;cc.$m=2;cc.an=1;cc.xo=1;cc.yo=0;cc.Co=3758096384;cc.Do=536870911;cc.Ye=0;cc.Ze=1;cc.hp=32;cc.rp=-1;cc.xp=1;cc.yp=2;cc.zp=3;cc.Ap=5;cc.Bp=4;cc.Cp=0;cc.Qp=168165376;cc.Rp=168230912;cc.Sp=168296448;cc.Ob=-128;cc.sg=1;cc.tg=0;cc.Bq=-1;cc.Yc=-1;cc.ug=0;cc.Zc=1;cc.$d=-1;cc.Pb=-1;cc.ls=0;cc.ms=2;cc.ns=1;cc.ps=-2147483647;cc.qs=-2147483648;cc.sa=1;cc.Qb=0;cc.$e=4294967294;cc.ft=1;cc.gt=2;cc.ht=0;cc.Fg=536870912;cc.bd=2147483648;cc.vb=1073741824;cc.za=1;
cc.Fa=0;cc.ub=2;cc.Fu=3;cc.Gu=5;cc.Hu=0;cc.Iu=4;cc.Ju=9;cc.Ku=8;cc.Ou=2;cc.Lu=7;cc.Pu=1;cc.Mu=6;cc.Nu=0;cc.wv=0;cc.xv=1;cc.de=1;cc.lc=0;cc.mc=1;cc.ee=0;cc.Av=5;cc.Fv=1;cc.Dv=2;cc.Hv=0;cc.Jv=6;cc.Lv=7;cc.Nv=4;cc.Pv=3;cc.Cv=8;cc.Jg=2;cc.ow=0;cc.pw=7;cc.fe=1;cc.Kg=4;cc.cf=1;cc.qw=3;cc.Sb=0;cc.df=2;cc.ge=2;cc.he=1;cc.Za=0;cc.Er=67108864;cc.Fr=67109120;cc.Gr=67174400;cc.Hr=67239936;cc.Ir=67240192;cc.Jr=67305472;cc.Kr=67305728;cc.Lr=67305984;cc.Mr=67306240;cc.Nr=67306496;cc.Or=67306752;cc.Pr=83886080;
cc.Qr=83886336;cc.Rr=83951616;cc.Sr=100663296;cc.Nj="CCAnimationFrameDisplayedNotification";cc.rk="chipmunk.h";cc.bk="a_color";cc.og="a_position";cc.pg="a_texCoord";cc.Pt="ShaderPositionColor";cc.Qt="ShaderPositionLengthTextureColor";cc.Rt="ShaderPositionTexture";cc.St="ShaderPositionTextureA8Color";cc.Tt="ShaderPositionTextureColor";cc.Ut="ShaderPositionTextureColorAlphaTest";cc.Vt="ShaderPositionTexture_uColor";cc.Wt="ShaderPosition_uColor";cc.bf="CC_AlphaValue";cc.Bv="CC_CosTime";cc.Gv="CC_MVMatrix";
cc.Ev="CC_MVPMatrix";cc.Iv="CC_PMatrix";cc.Kv="CC_Random01";cc.Mv="CC_Texture0";cc.Ov="CC_SinTime";cc.Qv="CC_Time";cc=cc||{};cc.LANGUAGE_ENGLISH=0;cc.LANGUAGE_CHINESE=1;cc.LANGUAGE_FRENCH=2;cc.LANGUAGE_ITALIAN=3;cc.LANGUAGE_GERMAN=4;cc.LANGUAGE_SPANISH=5;cc.LANGUAGE_RUSSIAN=6;cc.vp=7;cc.up=8;cc.tp=9;cc.wp=10;cc.sp=11;cc.qb=0;cc.jc=1;cc.Ya=0;cc.kv=1;cc.Dg=2;cc.Bg=3;cc.jv=4;cc.iv=5;cc.kc=6;cc.Eg=7;cc.Cg=8;cc.Cg=9;cc.af=cc.Ya;cc.Fa=0;cc.za=1;cc.ub=2;cc.Za=0;cc.he=1;cc.ge=2;cc.Ye=0;cc.Ze=0;cc.Qb=0;cc.sa=1;cc.ae=0;cc.ce=1;cc.be=2;cc.Yc=-1;cc.ug=0;cc.Zc=1;cc.Pb=-1;cc.$d=-1;cc.Gg=0;cc.Hg=1;cc.bd=2147483648;cc.vb=1073741824;
cc.Fg=536870912;cc.lc=0;cc.mc=1;cc.ee=0;cc.de=1;cc.Rb={r:255,g:0,b:0};cc.Yd={r:0,g:255,b:0};cc.We={r:0,g:0,b:255};cc.ik={r:0,g:0,b:0};cc.Lg={r:255,g:255,b:255};cc.ie={r:255,g:255,b:0};cc.js={x:0,y:0};cc.$e=4294967295;cc.tg=0;cc.sg=1;cc.Ob=-128;cc.ym=5;cc.mf=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}];cc._reuse_p_index=0;cc._reuse_size={width:0,height:0};cc._reuse_rect={x:0,y:0,width:0,height:0};cc._reuse_color3b={r:255,g:255,b:255};cc._reuse_color4b={r:255,g:255,b:255,a:255};cc.log=cc.Fw||cc.log||log;
cc.D=function(a,b,c){return{r:a,g:b,b:c}};cc._c3b=function(a,b,c){cc._reuse_color3b.r=a;cc._reuse_color3b.g=b;cc._reuse_color3b.b=c;return cc._reuse_color3b};cc.o=function(a,b,c,d){return{r:a,g:b,b:c,a:d}};cc._c4b=function(a,b,c,d){cc._reuse_color4b.r=a;cc._reuse_color4b.g=b;cc._reuse_color4b.b=c;cc._reuse_color4b.a=d;return cc._reuse_color4b};cc.Nw=cc.o;cc._c4=cc._c4b;cc.G=function(a,b,c,d){return{r:a,g:b,b:c,a:d}};cc.p=function(a,b){return{x:a,y:b}};
cc._p=function(a,b){cc._reuse_p_index==cc.mf.length&&(cc._reuse_p_index=0);var c=cc.mf[cc._reuse_p_index];cc._reuse_p_index++;c.x=a;c.y=b;return c};cc.dx=function(a,b){return a.x==b.x&&a.y==b.y};cc._g=function(a,b){cc.lf.x=a;cc.lf.y=b;return cc.lf};cc.size=function(a,b){return{width:a,height:b}};cc._size=function(a,b){cc._reuse_size.width=a;cc._reuse_size.height=b;return cc._reuse_size};cc.vx=function(a,b){return a.width==b.width&&a.height==b.height};
cc.rect=function(a,b,c,d){return{x:a,y:b,width:c,height:d}};cc._rect=function(a,b,c,d){cc._reuse_rect.x=a;cc._reuse_rect.y=b;cc._reuse_rect.width=c;cc._reuse_rect.height=d;return cc._reuse_rect};cc.Yf=function(a,b){return a.x==b.x&&a.y==b.y&&a.width==b.width&&a.height==b.height};cc.fx=function(a,b){return a.x>=b.x||a.y>=b.y||a.x+a.width<=b.x+b.width||a.y+a.height<=b.y+b.height?j:g};cc.gx=function(a){return a.x+a.width};cc.ix=function(a){return a.x+a.width/2};cc.kx=function(a){return a.x};
cc.hx=function(a){return a.y+a.height};cc.jx=function(a){return a.y+a.height/2};cc.lx=function(a){return a.y};cc.Id=function(a,b){var c=j;b.x>=a.x&&(b.x<=a.x+a.width&&b.y>=a.y&&b.y<=a.y+a.height)&&(c=g);return c};cc.Zf=function(a,b){return!(a.x>b.x+b.width||a.x+a.width<b.x||a.y>b.y+b.height||a.y+a.height<b.y)};cc.ri=function(a,b){var c=cc.rect(0,0,0,0);c.x=Math.min(a.x,b.x);c.y=Math.min(a.y,b.y);c.width=Math.max(a.x+a.width,b.x+b.width)-c.x;c.height=Math.max(a.y+a.height,b.y+b.height)-c.y;return c};
cc.qi=function(a,b){var c=cc.rect(Math.max(a.x,b.x),Math.max(a.y,b.y),0,0);c.width=Math.min(a.x+a.width,b.x+b.width)-c.x;c.height=Math.min(a.y+a.height,b.y+b.height)-c.y;return c};cc.qg=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1};cc.ck=function(a,b){return-1!=cc.qg(a,b)};cc.dk=function(a,b){for(var c=0;c<a.length;c++)a[c]==b&&a.splice(c,1)};cc.td=function(a){for(var b in a)cc.log(b+" = "+a[b])};var sys=sys||void 0;cc.Qw=function(){sys&&(cc.td(sys),cc.td(sys.capabilities))};
cc.MenuItemToggle.create=function(){var a=arguments.length;if("function"===typeof arguments[a-2]||"function"===typeof arguments[a-1]){var b=Array.prototype.slice.call(arguments),c=h;"function"===typeof arguments[a-2]&&(c=b.pop());a=b.pop();b=cc.MenuItemToggle._create.apply(this,b);c!==h?b.setCallback(a,c):b.setCallback(a);return b}return cc.MenuItemToggle._create.apply(this,arguments)};
cc.LabelAtlas.create=function(a,b,c,d,f){return 5==arguments.length?cc.LabelAtlas._create(a,b,c,d,f.charCodeAt(0)):cc.LabelAtlas._create.apply(this,arguments)};cc.LayerMultiplex.create=cc.LayerMultiplex.createWithArray;cc.associateWithNative=k();cc.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.Od=b.prototype;a.prototype=new c;a.prototype.constructor=a};
cc.base=function(a,b,c){var d=arguments.callee.caller;if(d.Od)return ret=d.Od.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),i=j,m=a.constructor;m;m=m.Od&&m.Od.constructor)if(m.prototype[b]===d)i=g;else if(i)return m.prototype[b].apply(a,f);if(a[b]===d)return a.constructor.prototype[b].apply(a,f);e(Error("cc.base called from a method of one name to a method of a different name"))};cc.Class=k();
cc.Class.extend=function(a){function b(){!initializing&&this.ctor&&this.ctor.apply(this,arguments)}var c=this.prototype;initializing=g;var d=new this;initializing=j;fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;for(var f in a)d[f]="function"==typeof a[f]&&"function"==typeof c[f]&&fnTest.test(a[f])?function(a,b){return function(){var d=this._super;this._super=c[a];var f=b.apply(this,arguments);this._super=d;return f}}(f,a[f]):a[f];b.prototype=d;b.prototype.constructor=b;b.extend=arguments.callee;
return b};cc.Node.extend=cc.Class.extend;cc.Layer.extend=cc.Class.extend;cc.LayerGradient.extend=cc.Class.extend;cc.LayerColor.extend=cc.Class.extend;cc.Sprite.extend=cc.Class.extend;cc.MenuItemFont.extend=cc.Class.extend;cc.Scene.extend=cc.Class.extend;cc.DrawNode.extend=cc.Class.extend;cc.Zd=cc.Class.extend({th:function(a,b,c){b&&(this.Qg=b,this.Pa=c);this.Qg.call(this.Pa)}});cc.Zd.pi=function(a,b,c){this.ff||(this.ff=new cc.Zd);this.ff.th(a,b,c)};cc=cc||{};cc.Ft=-1;cc.yg=0;cc.zg=1;cc.Et=2;cc.Ag=0;cc.Eu=1;cc.ip=0;cc.jp=1;cc.mp=2;cc.lp=3;cc.kp=4;cc.Gn=0;cc.In=1;cc.Jn=2;cc.Kn=3;cc.Mn=4;cc.Hn=5;cc.Ln=6;cc.En=0;cc.Fn=1;cc.Dn=2;cc.Cn=3;cc.Bn=4;cc.PhysicsDebugNode.create=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return cc.PhysicsDebugNode._create(b)};cc.PhysicsDebugNode.prototype.setSpace=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return this._setSpace(b)};
cc.PhysicsSprite.prototype.setBody=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return this._setCPBody(b)};cc.ScrollView.extend=cc.Class.extend;cc.TableView.extend=cc.Class.extend;cc.TableViewCell.extend=cc.Class.extend;cc.GLNode.extend=cc.Class.extend;var cp=cp||{};cp.oj=1;cp.ALL_LAYERS=4294967295;cp.nk=32768;cp.sk=0;cp.Vo=3344921057;cp.cq=4;cp.NO_GROUP=0;cp.Gq=3;cp.ks=2;cp.Gt=1;cp.fw=1;cp.gw=0;cp.iw=6;cp.jw=1;cp.kw=1;cp=cp||{};cp.v=cc.p;cp._v=cc._p;cp.vzero=cp.v(0,0);cp.v.add=cp.vadd;cp.v.clamp=cp.vclamp;cp.v.cross=cp.vcross;cp.v.dist=cp.vdist;cp.v.distsq=cp.vdistsq;cp.v.dot=cp.vdot;cp.v.eql=cp.veql;cp.v.forangle=cp.vforangle;cp.v.len=cp.vlength;cp.v.lengthsq=cp.vlengthsq;cp.v.lerp=cp.vlerp;cp.v.lerpconst=cp.vlerpconst;cp.v.mult=cp.vmult;cp.v.near=cp.vnear;cp.v.neg=cp.vneg;cp.v.normalize=cp.vnormalize;cp.v.normalize_safe=cp.vnormalize_safe;cp.v.perp=cp.vperp;cp.v.project=cp.vproject;cp.v.rotate=cp.vrotate;
cp.v.qx=cp.vrperp;cp.v.slerp=cp.vslerp;cp.v.slerpconst=cp.vslerpconst;cp.v.sub=cp.vsub;cp.v.toangle=cp.vtoangle;cp.v.unrotate=cp.vunrotate;cp.clamp01=cp.fclamp01;cp.BoxShape2=function(a,b){return new cp.PolyShape(a,[b.l,b.b,b.l,b.t,b.r,b.t,b.r,b.b],cp.vzero)};cp.BoxShape=function(a,b,c){b/=2;c/=2;return cp.BoxShape2(a,new cp.BB(-b,-c,b,c))};cp.StaticBody=function(){return new cp.Body(Infinity,Infinity)};cp.BB=function(a,b,c,d){return{l:a,b:b,r:c,t:d}};
cp.bb=function(a,b,c,d){return new cp.BB(a,b,c,d)};Object.defineProperties(cp.Base.prototype,{handle:{get:function(){return this.getHandle()},enumerable:g,configurable:g}});
Object.defineProperties(cp.Space.prototype,{gravity:{get:function(){return this.getGravity()},set:function(a){this.setGravity(a)},enumerable:g,configurable:g},iterations:{get:function(){return this.getIterations()},set:function(a){this.setIterations(a)},enumerable:g,configurable:g},damping:{get:function(){return this.getDamping()},set:function(a){this.setDamping(a)},enumerable:g,configurable:g},staticBody:{get:function(){return this.getStaticBody()},enumerable:g,configurable:g},idleSpeedThreshold:{get:function(){return this.getIdleSpeedThreshold()},
set:function(a){this.setIdleSpeedThreshold(a)},enumerable:g,configurable:g},sleepTimeThreshold:{get:function(){return this.getSleepTimeThreshold()},set:function(a){this.setSleepTimeThreshold(a)},enumerable:g,configurable:g},collisionSlop:{get:function(){return this.getCollisionSlop()},set:function(a){this.setCollisionSlop(a)},enumerable:g,configurable:g},collisionBias:{get:function(){return this.getCollisionBias()},set:function(a){this.setCollisionBias(a)},enumerable:g,configurable:g},collisionPersistence:{get:function(){return this.getCollisionPersistence()},
set:function(a){this.setCollisionPersistence(a)},enumerable:g,configurable:g},enableContactGraph:{get:function(){return this.getEnableContactGraph()},set:function(a){this.setEnableContactGraph(a)},enumerable:g,configurable:g}});
Object.defineProperties(cp.Body.prototype,{a:{get:function(){return this.getAngle()},set:function(a){this.setAngle(a)},enumerable:g,configurable:g},w:{get:function(){return this.getAngVel()},set:function(a){this.setAngVel(a)},enumerable:g,configurable:g},p:{get:function(){return this.getPos()},set:function(a){this.setPos(a)},enumerable:g,configurable:g},v:{get:function(){return this.getVel()},set:function(a){this.setVel(a)},enumerable:g,configurable:g},i:{get:function(){return this.getMoment()},set:function(a){this.setMoment(a)},
enumerable:g,configurable:g}});Object.defineProperties(cp.Shape.prototype,{body:{get:function(){return this.getBody()},set:function(a){this.setBody(a)},enumerable:g,configurable:g},group:{get:function(){return this.getGroup()},set:function(a){this.setGroup(a)},enumerable:g,configurable:g},collision_type:{get:function(){return this.getCollisionType()},enumerable:g,configurable:g}});
Object.defineProperties(cp.Constraint.prototype,{maxForce:{get:function(){return this.getMaxForce()},set:function(a){this.setMaxForce(a)},enumerable:g,configurable:g}});Object.defineProperties(cp.PinJoint.prototype,{anchr1:{get:function(){return this.getAnchr1()},set:function(a){this.setAnchr1(a)},enumerable:g,configurable:g},anchr2:{get:function(){return this.getAnchr2()},set:function(a){this.setAnchr2(a)},enumerable:g,configurable:g}});var gl=gl||{};gl.Ro=37472;gl.Bw=34810;gl.Cw=34809;gl.ACTIVE_ATTRIBUTES=35721;gl.lj=35722;gl.mj=33369;gl.ACTIVE_TEXTURE=34016;gl.ACTIVE_UNIFORMS=35718;gl.nj=35719;gl.ALIASED_LINE_WIDTH_RANGE=33902;gl.ALIASED_POINT_SIZE_RANGE=33901;gl.pj=34034;gl.qj=4294967295;gl.ALPHA=6406;gl.rj=34844;gl.sj=34838;gl.tj=32828;gl.uj=32828;gl.ALPHA_BITS=3413;gl.vj=3009;gl.wj=3008;gl.xj=3010;gl.yj=37146;gl.ALWAYS=519;gl.zj=1;gl.Aj=1;gl.Bj=1;gl.Cj=1;gl.Dj=1;gl.Ej=1;gl.Fj=1;gl.Gj=1;gl.Hj=1;gl.Ij=1;gl.Jj=1;gl.Kj=1;
gl.Lj=1;gl.Mj=1;gl.Oj=36202;gl.Pj=35887;gl.Qj=1;gl.Rj=1;gl.Sj=1;gl.Tj=1;gl.Uj=1;gl.Vj=1;gl.Wj=1;gl.Xj=1;gl.Yj=1;gl.ARRAY_BUFFER=34962;gl.ARRAY_BUFFER_BINDING=34964;gl.Zj=35987;gl.$j=34798;gl.ak=35986;gl.ATTACHED_SHADERS=35717;gl.BACK=1029;gl.ek=37793;gl.fk=32993;gl.gk=32993;gl.hk=36784;gl.BLEND=3042;gl.BLEND_COLOR=32773;gl.BLEND_DST_ALPHA=32970;gl.BLEND_DST_RGB=32968;gl.BLEND_EQUATION=32777;gl.BLEND_EQUATION_ALPHA=34877;gl.BLEND_EQUATION_RGB=32777;gl.BLEND_SRC_ALPHA=32971;gl.BLEND_SRC_RGB=32969;
gl.BLUE_BITS=3412;gl.BOOL=35670;gl.BOOL_VEC2=35671;gl.BOOL_VEC3=35672;gl.BOOL_VEC4=35673;gl.lk=33504;gl.mk=35003;gl.ok=35004;gl.pk=35005;gl.qk=37201;gl.BUFFER_SIZE=34660;gl.BUFFER_USAGE=34661;gl.BYTE=5120;gl.CCW=2305;gl.tk=33069;gl.CLAMP_TO_EDGE=33071;gl.COLOR_ATTACHMENT0=36064;gl.uk=36064;gl.vk=36074;gl.wk=36075;gl.xk=36076;gl.yk=36077;gl.zk=36078;gl.Ak=36079;gl.Bk=36065;gl.Ck=36066;gl.Dk=36067;gl.Ek=36068;gl.Fk=36069;gl.Gk=36070;gl.Hk=36071;gl.Ik=36072;gl.Jk=36073;gl.Kk=37104;
gl.COLOR_BUFFER_BIT=16384;gl.Lk=1;gl.Mk=2;gl.Nk=4;gl.Ok=8;gl.Pk=16;gl.Qk=32;gl.Rk=64;gl.Sk=128;gl.COLOR_CLEAR_VALUE=3106;gl.Tk=6144;gl.COLOR_WRITEMASK=3107;gl.Uk=34894;gl.COMPILE_STATUS=35713;gl.Vk=37819;gl.Wk=37816;gl.Xk=37817;gl.Yk=37818;gl.Zk=37820;gl.$k=37821;gl.al=37808;gl.bl=37809;gl.cl=37810;gl.dl=37811;gl.el=37812;gl.fl=37813;gl.hl=37814;gl.il=37815;gl.jl=35843;gl.kl=37175;gl.ll=35842;gl.ml=37176;gl.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777;gl.nl=33778;gl.ol=33779;gl.pl=35841;gl.ql=35840;
gl.COMPRESSED_RGB_S3TC_DXT1_EXT=33776;gl.rl=37851;gl.sl=37848;gl.tl=37849;gl.ul=37850;gl.vl=37852;gl.wl=37853;gl.xl=37840;gl.yl=37841;gl.zl=37842;gl.Al=37843;gl.Bl=37844;gl.Cl=37845;gl.Dl=37846;gl.El=37847;gl.Fl=35917;gl.Gl=35918;gl.Hl=35919;gl.Il=35916;gl.COMPRESSED_TEXTURE_FORMATS=34467;gl.Jl=37148;gl.CONSTANT_ALPHA=32771;gl.CONSTANT_COLOR=32769;gl.Kl=2;gl.Ll=37107;gl.Ml=35777;gl.Nl=35776;gl.Ol=36565;gl.Pl=36562;gl.Ql=36567;gl.Rl=36563;gl.Sl=32768;gl.Tl=36561;gl.Ul=36560;gl.Vl=36566;gl.Wl=36564;
gl.Xl=36785;gl.CULL_FACE=2884;gl.CULL_FACE_MODE=2885;gl.CURRENT_PROGRAM=35725;gl.Yl=34917;gl.CURRENT_VERTEX_ATTRIB=34342;gl.CW=2304;gl.Zl=33348;gl.$l=33349;gl.am=33389;gl.bm=37189;gl.cm=33347;gl.dm=37600;gl.em=33346;gl.fm=37190;gl.gm=37192;gl.hm=37191;gl.im=33387;gl.jm=33350;gl.km=33354;gl.lm=33355;gl.mm=33352;gl.nm=33353;gl.om=33351;gl.pm=33357;gl.qm=33356;gl.rm=33384;gl.sm=33361;gl.tm=33360;gl.um=33386;gl.vm=33359;gl.wm=33385;gl.xm=33358;gl.DECR=7683;gl.DECR_WRAP=34056;gl.DELETE_STATUS=35712;
gl.zm=35056;gl.DEPTH_ATTACHMENT=36096;gl.DEPTH_BITS=3414;gl.DEPTH_BUFFER_BIT=256;gl.Am=256;gl.Bm=512;gl.Cm=1024;gl.Dm=2048;gl.Em=4096;gl.Fm=8192;gl.Gm=16384;gl.Hm=32768;gl.DEPTH_CLEAR_VALUE=2931;gl.DEPTH_COMPONENT=6402;gl.DEPTH_COMPONENT16=33189;gl.Im=36396;gl.Jm=33189;gl.Km=33190;gl.Lm=33191;gl.Mm=6145;gl.DEPTH_FUNC=2932;gl.DEPTH_RANGE=2928;gl.Nm=34041;gl.DEPTH_TEST=2929;gl.DEPTH_WRITEMASK=2930;gl.DITHER=3024;gl.cn=1;gl.DONT_CARE=4352;gl.dn=34853;gl.en=34863;gl.fn=34864;gl.gn=34865;gl.hn=34866;
gl.jn=34867;gl.kn=34868;gl.ln=34854;gl.mn=34855;gl.nn=34856;gl.on=34857;gl.pn=34858;gl.qn=34859;gl.rn=34860;gl.sn=34861;gl.tn=34862;gl.un=3073;gl.vn=36009;gl.wn=36009;gl.xn=36006;gl.yn=36006;gl.zn=36006;gl.An=36009;gl.DST_ALPHA=772;gl.DST_COLOR=774;gl.DYNAMIC_DRAW=35048;gl.ELEMENT_ARRAY_BUFFER=34963;gl.ELEMENT_ARRAY_BUFFER_BINDING=34965;gl.EQUAL=514;gl.Rn=1;gl.Sn=36196;gl.Tn=35054;gl.Un=7939;gl.Vn=1;gl.Wn=1;gl.Xn=1;gl.Yn=1;gl.Zn=1;gl.$n=1;gl.ao=1;gl.bo=1;gl.co=1;gl.eo=1;gl.fo=1;gl.ho=1;gl.io=1;
gl.jo=1;gl.ko=1;gl.lo=1;gl.mo=1;gl.no=1;gl.oo=1;gl.po=1;gl.qo=1;gl.ro=1;gl.so=1;gl.to=1;gl.uo=0;gl.FASTEST=4353;gl.vo=34036;gl.wo=34035;gl.zo=5132;gl.Bo=1;gl.FLOAT=5126;gl.FLOAT_MAT2=35674;gl.FLOAT_MAT3=35675;gl.FLOAT_MAT4=35676;gl.FLOAT_VEC2=35664;gl.FLOAT_VEC3=35665;gl.FLOAT_VEC4=35666;gl.FRAGMENT_SHADER=35632;gl.Eo=2;gl.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723;gl.Fo=35410;gl.FRAMEBUFFER=36160;gl.Go=37795;gl.Ho=33296;gl.Io=33297;gl.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;
gl.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;gl.Jo=36052;gl.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;gl.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;gl.Ko=36204;gl.FRAMEBUFFER_BINDING=36006;gl.FRAMEBUFFER_COMPLETE=36053;gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;gl.Lo=36182;gl.Mo=36182;gl.No=36182;gl.Oo=37172;gl.Po=36182;gl.Qo=33305;gl.FRAMEBUFFER_UNSUPPORTED=36061;gl.FRONT=1028;
gl.FRONT_AND_BACK=1032;gl.FRONT_FACE=2886;gl.FUNC_ADD=32774;gl.FUNC_REVERSE_SUBTRACT=32779;gl.FUNC_SUBTRACT=32778;gl.GENERATE_MIPMAP_HINT=33170;gl.GEQUAL=518;gl.To=36786;gl.GREATER=516;gl.GREEN_BITS=3411;gl.Uo=33363;gl.HALF_FLOAT_OES=36193;gl.HIGH_FLOAT=36338;gl.HIGH_INT=36341;gl.Wo=1;gl.Xo=1;gl.Yo=1;gl.Zo=1;gl.$o=1;gl.ap=1;gl.bp=35739;gl.dp=35738;gl.INCR=7682;gl.INCR_WRAP=34055;gl.ep=35716;gl.fp=33364;gl.INT=5124;gl.gp=36343;gl.INT_VEC2=35667;gl.INT_VEC3=35668;gl.INT_VEC4=35669;gl.INVALID_ENUM=1280;
gl.INVALID_FRAMEBUFFER_OPERATION=1286;gl.INVALID_OPERATION=1282;gl.INVALID_VALUE=1281;gl.INVERT=5386;gl.KEEP=7680;gl.np=1;gl.op=1;gl.LEQUAL=515;gl.LESS=513;gl.LINEAR=9729;gl.LINEAR_MIPMAP_LINEAR=9987;gl.LINEAR_MIPMAP_NEAREST=9985;gl.LINES=1;gl.LINE_LOOP=2;gl.LINE_STRIP=3;gl.LINE_WIDTH=2849;gl.LINK_STATUS=35714;gl.Dp=33362;gl.LOW_FLOAT=36336;gl.LOW_INT=36339;gl.LUMINANCE=6409;gl.Ep=34846;gl.Fp=34840;gl.Gp=32835;gl.Hp=32837;gl.Ip=32837;gl.Jp=32832;gl.Kp=32832;gl.LUMINANCE_ALPHA=6410;gl.Lp=34847;
gl.Mp=34841;gl.Tp=36705;gl.Up=36704;gl.Vp=16;gl.Wp=8;gl.Xp=4;gl.Yp=1;gl.Zp=32;gl.$p=2;gl.aq=32883;gl.bq=36063;gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661;gl.MAX_CUBE_MAP_TEXTURE_SIZE=34076;gl.dq=33388;gl.eq=37188;gl.fq=37187;gl.gq=34852;gl.hq=32776;gl.MAX_FRAGMENT_UNIFORM_VECTORS=36349;gl.iq=33512;gl.jq=37106;gl.MAX_RENDERBUFFER_SIZE=34024;gl.kq=36183;gl.lq=36183;gl.mq=36183;gl.nq=37173;gl.oq=36183;gl.pq=37137;gl.MAX_TEXTURE_IMAGE_UNITS=34930;gl.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047;
gl.MAX_TEXTURE_SIZE=3379;gl.MAX_VARYING_VECTORS=36348;gl.MAX_VERTEX_ATTRIBS=34921;gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;gl.MAX_VERTEX_UNIFORM_VECTORS=36347;gl.MAX_VIEWPORT_DIMS=3386;gl.MEDIUM_FLOAT=36337;gl.MEDIUM_INT=36340;gl.qq=32775;gl.MIRRORED_REPEAT=33648;gl.rq=16777216;gl.sq=33554432;gl.tq=67108864;gl.uq=134217728;gl.vq=268435456;gl.wq=536870912;gl.xq=1073741824;gl.yq=2147483648;gl.zq=37105;gl.NEAREST=9728;gl.NEAREST_MIPMAP_LINEAR=9986;gl.NEAREST_MIPMAP_NEAREST=9984;gl.NEVER=512;
gl.NICEST=4354;gl.NONE=0;gl.NOTEQUAL=517;gl.NO_ERROR=0;gl.Cq=33377;gl.Dq=34466;gl.Eq=34814;gl.Fq=36345;gl.Hq=1;gl.Iq=1;gl.Jq=1;gl.Kq=1;gl.Lq=1;gl.Mq=1;gl.Nq=1;gl.Oq=1;gl.Pq=1;gl.Qq=1;gl.Rq=1;gl.Sq=1;gl.Tq=1;gl.Uq=1;gl.Vq=1;gl.Wq=1;gl.Xq=1;gl.Yq=1;gl.Zq=1;gl.$q=1;gl.ar=1;gl.br=37138;gl.cr=1;gl.dr=1;gl.er=1;gl.fr=1;gl.gr=1;gl.hr=1;gl.ir=1;gl.jr=1;gl.kr=1;gl.lr=1;gl.mr=1;gl.nr=1;gl.or=1;gl.pr=1;gl.qr=1;gl.rr=1;gl.sr=1;gl.tr=1;gl.ur=1;gl.vr=1;gl.wr=1;gl.xr=1;gl.yr=1;gl.zr=1;gl.Ar=1;gl.Br=1;gl.Cr=1;
gl.Dr=1;gl.ONE=1;gl.ONE_MINUS_CONSTANT_ALPHA=32772;gl.ONE_MINUS_CONSTANT_COLOR=32770;gl.ONE_MINUS_DST_ALPHA=773;gl.ONE_MINUS_DST_COLOR=775;gl.ONE_MINUS_SRC_ALPHA=771;gl.ONE_MINUS_SRC_COLOR=769;gl.OUT_OF_MEMORY=1285;gl.PACK_ALIGNMENT=3333;gl.Tr=37796;gl.Ur=35730;gl.Vr=35732;gl.Wr=35728;gl.Xr=35731;gl.Yr=35729;gl.Zr=35735;gl.$r=35737;gl.as=35733;gl.bs=35736;gl.cs=35734;gl.es=35779;gl.fs=36768;gl.gs=35782;gl.hs=35780;gl.is=35781;gl.POINTS=0;gl.POLYGON_OFFSET_FACTOR=32824;gl.POLYGON_OFFSET_FILL=32823;
gl.POLYGON_OFFSET_UNITS=10752;gl.rs=33506;gl.ss=37798;gl.ts=34815;gl.us=34625;gl.vs=35648;gl.ws=33370;gl.xs=35407;gl.ys=33368;gl.As=1;gl.Bs=1;gl.Cs=1;gl.Ds=1;gl.Es=1;gl.Fs=1;gl.Gs=1;gl.Hs=1;gl.Is=33507;gl.Js=37203;gl.Ks=34919;gl.Ls=34918;gl.Ms=33325;gl.Ns=33326;gl.Os=33321;gl.Ps=3074;gl.Qs=3074;gl.Rs=36008;gl.Ss=36008;gl.Ts=36010;gl.Us=36010;gl.Vs=36010;gl.Ws=36008;gl.RED_BITS=3410;gl.Xs=6403;gl.RENDERBUFFER=36161;gl.RENDERBUFFER_ALPHA_SIZE=36179;gl.RENDERBUFFER_BINDING=36007;
gl.RENDERBUFFER_BLUE_SIZE=36178;gl.RENDERBUFFER_DEPTH_SIZE=36180;gl.RENDERBUFFER_GREEN_SIZE=36177;gl.RENDERBUFFER_HEIGHT=36163;gl.RENDERBUFFER_INTERNAL_FORMAT=36164;gl.RENDERBUFFER_RED_SIZE=36176;gl.Ys=36011;gl.Zs=36011;gl.$s=36011;gl.at=37171;gl.bt=36011;gl.RENDERBUFFER_STENCIL_SIZE=36181;gl.RENDERBUFFER_WIDTH=36162;gl.RENDERER=7937;gl.ct=36787;gl.REPEAT=10497;gl.REPLACE=7681;gl.dt=36200;gl.et=33366;gl.it=33327;gl.jt=33328;gl.kt=33323;gl.RGB=6407;gl.lt=32857;gl.mt=32850;gl.nt=34843;gl.ot=34837;
gl.RGB565=36194;gl.pt=36194;gl.RGB5_A1=32855;gl.qt=32855;gl.rt=32849;gl.RGBA=6408;gl.st=34842;gl.tt=34836;gl.RGBA4=32854;gl.ut=32854;gl.vt=32856;gl.wt=35359;gl.xt=33319;gl.yt=33510;gl.SAMPLER_2D=35678;gl.zt=36292;gl.At=35682;gl.Bt=35679;gl.SAMPLER_CUBE=35680;gl.Ct=36293;gl.Dt=36198;gl.SAMPLES=32937;gl.SAMPLE_ALPHA_TO_COVERAGE=32926;gl.SAMPLE_BUFFERS=32936;gl.SAMPLE_COVERAGE=32928;gl.SAMPLE_COVERAGE_INVERT=32939;gl.SAMPLE_COVERAGE_VALUE=32938;gl.SCISSOR_BOX=3088;gl.SCISSOR_TEST=3089;gl.Ht=35850;
gl.It=37168;gl.Jt=33505;gl.Kt=37456;gl.Lt=36344;gl.Mt=36804;gl.Nt=36346;gl.Ot=35656;gl.Xt=35720;gl.SHADER_TYPE=35663;gl.SHADING_LANGUAGE_VERSION=35724;gl.SHORT=5122;gl.Yt=37145;gl.Zt=35909;gl.$t=35911;gl.au=35908;gl.bu=35910;gl.SRC_ALPHA=770;gl.SRC_ALPHA_SATURATE=776;gl.SRC_COLOR=768;gl.fu=35907;gl.gu=35905;gl.hu=35906;gl.iu=35904;gl.ju=1283;gl.ku=1284;gl.lu=35804;gl.STATIC_DRAW=35044;gl.STENCIL_ATTACHMENT=36128;gl.STENCIL_BACK_FAIL=34817;gl.STENCIL_BACK_FUNC=34816;
gl.STENCIL_BACK_PASS_DEPTH_FAIL=34818;gl.STENCIL_BACK_PASS_DEPTH_PASS=34819;gl.STENCIL_BACK_REF=36003;gl.STENCIL_BACK_VALUE_MASK=36004;gl.STENCIL_BACK_WRITEMASK=36005;gl.STENCIL_BITS=3415;gl.STENCIL_BUFFER_BIT=1024;gl.mu=65536;gl.nu=131072;gl.ou=262144;gl.pu=524288;gl.qu=1048576;gl.ru=2097152;gl.su=4194304;gl.tu=8388608;gl.STENCIL_CLEAR_VALUE=2961;gl.uu=6146;gl.STENCIL_FAIL=2964;gl.STENCIL_FUNC=2962;gl.vu=36166;gl.wu=36167;gl.STENCIL_INDEX8=36168;gl.STENCIL_PASS_DEPTH_FAIL=2965;
gl.STENCIL_PASS_DEPTH_PASS=2966;gl.STENCIL_REF=2967;gl.STENCIL_TEST=2960;gl.STENCIL_VALUE_MASK=2963;gl.STENCIL_WRITEMASK=2968;gl.STREAM_DRAW=35040;gl.SUBPIXEL_BITS=3408;gl.xu=37139;gl.yu=37142;gl.zu=37141;gl.Au=1;gl.Bu=37143;gl.Cu=35411;gl.Du=37140;gl.TEXTURE=5890;gl.TEXTURE0=33984;gl.TEXTURE1=33985;gl.TEXTURE10=33994;gl.TEXTURE11=33995;gl.TEXTURE12=33996;gl.TEXTURE13=33997;gl.TEXTURE14=33998;gl.TEXTURE15=33999;gl.TEXTURE16=34E3;gl.TEXTURE17=34001;gl.TEXTURE18=34002;gl.TEXTURE19=34003;
gl.TEXTURE2=33986;gl.TEXTURE20=34004;gl.TEXTURE21=34005;gl.TEXTURE22=34006;gl.TEXTURE23=34007;gl.TEXTURE24=34008;gl.TEXTURE25=34009;gl.TEXTURE26=34010;gl.TEXTURE27=34011;gl.TEXTURE28=34012;gl.TEXTURE29=34013;gl.TEXTURE3=33987;gl.TEXTURE30=34014;gl.TEXTURE31=34015;gl.TEXTURE4=33988;gl.TEXTURE5=33989;gl.TEXTURE6=33990;gl.TEXTURE7=33991;gl.TEXTURE8=33992;gl.TEXTURE9=33993;gl.TEXTURE_2D=3553;gl.Ru=32879;gl.TEXTURE_BINDING_2D=32873;gl.Uu=32874;gl.TEXTURE_BINDING_CUBE_MAP=34068;gl.Vu=36199;gl.Wu=4100;
gl.Xu=34893;gl.Yu=34892;gl.TEXTURE_CUBE_MAP=34067;gl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;gl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;gl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;gl.TEXTURE_CUBE_MAP_POSITIVE_X=34069;gl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;gl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073;gl.Zu=35796;gl.$u=36197;gl.av=35798;gl.bv=35795;gl.cv=35800;gl.dv=37167;gl.ev=35797;gl.TEXTURE_MAG_FILTER=10240;gl.TEXTURE_MAX_ANISOTROPY_EXT=34046;gl.fv=33085;gl.TEXTURE_MIN_FILTER=10241;gl.gv=35801;gl.hv=35803;gl.lv=37174;
gl.mv=35802;gl.nv=35799;gl.ov=37794;gl.pv=35794;gl.qv=32882;gl.TEXTURE_WRAP_S=10242;gl.TEXTURE_WRAP_T=10243;gl.rv=37147;gl.sv=1.8446744073709552E19;gl.yv=37792;gl.TRIANGLES=4;gl.TRIANGLE_FAN=6;gl.TRIANGLE_STRIP=5;gl.zv=1;gl.Rv=33365;gl.UNPACK_ALIGNMENT=3317;gl.Sv=3314;gl.Tv=3316;gl.Uv=3315;gl.Vv=37144;gl.UNSIGNED_BYTE=5121;gl.UNSIGNED_INT=5125;gl.Wv=35778;gl.Xv=36342;gl.Yv=34042;gl.Zv=33640;gl.$v=35863;gl.UNSIGNED_SHORT=5123;gl.aw=33638;gl.UNSIGNED_SHORT_4_4_4_4=32819;gl.bw=33637;gl.cw=33637;
gl.UNSIGNED_SHORT_5_5_5_1=32820;gl.UNSIGNED_SHORT_5_6_5=33635;gl.dw=34234;gl.ew=34235;gl.VALIDATE_STATUS=35715;gl.VENDOR=7936;gl.VERSION=7938;gl.VERTEX_ARRAY_BINDING_OES=34229;gl.lw=37204;gl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975;gl.mw=35070;gl.nw=35070;gl.VERTEX_ATTRIB_ARRAY_ENABLED=34338;gl.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;gl.VERTEX_ATTRIB_ARRAY_POINTER=34373;gl.VERTEX_ATTRIB_ARRAY_SIZE=34339;gl.VERTEX_ATTRIB_ARRAY_STRIDE=34340;gl.VERTEX_ATTRIB_ARRAY_TYPE=34341;gl.VERTEX_SHADER=35633;
gl.rw=1;gl.VIEWPORT=2978;gl.sw=1;gl.tw=37149;gl.uw=34851;gl.vw=35001;gl.ww=34624;gl.ZERO=0;gl=gl||{};gl.createTexture=function(){return{mg:gl._createTexture()}};gl.createBuffer=function(){return{qd:gl._createBuffer()}};gl.createRenderbuffer=function(){return{mx:gl.Gw()}};gl.createFramebuffer=function(){return{nh:gl._createFramebuffer()}};gl.createProgram=function(){return{La:gl._createProgram()}};gl.createShader=function(a){return{ic:gl._createShader(a)}};gl.deleteTexture=function(a){var b=a.mg;"number"===typeof a&&(b=a);gl._deleteTexture(b)};
gl.deleteBuffer=function(){var a=buffer.qd;"number"===typeof buffer&&(a=buffer);gl._deleteBuffer(a)};gl.deleteRenderbuffer=function(){gl._deleteRenderbuffer(renderbuffer_id)};gl.deleteFramebuffer=function(){var a=buffer.nh;"number"===typeof buffer&&(a=buffer);gl._deleteFramebuffer(a)};gl.deleteProgram=function(a){var b=a.La;"number"===typeof a&&(b=a);gl._deleteProgram(b)};gl.deleteShader=function(a){var b=a.ic;"number"===typeof a&&(b=a);gl._deleteShader(b)};
gl.bindTexture=function(a,b){gl._bindTexture(a,"number"===typeof b?b:b===h?0:b.mg)};gl.bindBuffer=function(a,b){gl._bindBuffer(a,"number"===typeof b?b:b===h?0:b.qd)};gl.Mw=function(a,b){gl._bindRenderbuffer(a,"number"===typeof b?b:b===h?0:b.qd)};gl.bindFramebuffer=function(a,b){gl._bindFramebuffer(a,"number"===typeof b?b:b===h?0:b.qd)};gl.getUniform=function(a,b){return gl._getUniform("number"===typeof a?a:a.La,"number"===typeof b?b:b.ax)};gl.compileShader=function(a){gl._compileShader(a.ic)};
gl.shaderSource=function(a,b){gl._shaderSource(a.ic,b)};gl.getShaderParameter=function(a,b){return gl._getShaderParameter(a.ic,b)};gl.getShaderInfoLog=function(a){return gl._getShaderInfoLog(a.ic)};gl.attachShader=function(a,b){var c=a.La;"number"===typeof a&&(c=a);gl._attachShader(c,b.ic)};gl.linkProgram=function(a){var b=a.La;"number"===typeof a&&(b=a);gl._linkProgram(b)};gl.getProgramParameter=function(a,b){var c=a.La;"number"===typeof a&&(c=a);return gl._getProgramParameter(c,b)};
gl.useProgram=function(a){gl._useProgram("number"===typeof a?a:a.La)};gl.getAttribLocation=function(a,b){var c=a.La;"number"===typeof a&&(c=a);return gl._getAttribLocation(c,b)};gl.getUniformLocation=function(a,b){var c=a.La;"number"===typeof a&&(c=a);return gl._getUniformLocation(c,b)};gl.getActiveAttrib=function(a,b){var c=a.La;"number"===typeof a&&(c=a);return gl._getActiveAttrib(c,b)};gl.getActiveUniform=function(a,b){var c=a.La;"number"===typeof a&&(c=a);return gl._getActiveUniform(c,b)};
gl.getAttachedShaders=function(a){var b=a.La;"number"===typeof a&&(b=a);return gl._getAttachedShaders(b)};gl.texImage2D=function(){9!=arguments.length&&e("texImage2D: Unsupported number of parameters:"+arguments.length);gl._texImage2D.apply(this,arguments)};gl.texSubImage2D=function(){9!=arguments.length&&e("texImage2D: Unsupported number of parameters");gl._texSubImage2D.apply(this,arguments)};gl.getExtension=function(a){return-1<gl.getSupportedExtensions().indexOf(a)?{}:h};cc.BuilderReader=cc.BuilderReader||{};cc.BuilderReader.kf="";var ba=this;cc.BuilderReader.setResourcePath=function(a){cc.BuilderReader.kf=a};
cc.BuilderReader.load=function(a,b,c){var d=cc.Dw.create();d.setCCBRootPath(cc.BuilderReader.kf);a=c?d.load(a,h,c):d.load(a);if(b){for(var f=d.getOwnerCallbackNames(),i=d.getOwnerCallbackNodes(),c=0;c<f.length;c++){var m=f[c],o=i[c];o.setCallback(b[m],b)}f=d.getOwnerOutletNames();i=d.getOwnerOutletNodes();for(c=0;c<f.length;c++)m=f[c],o=i[c],b[m]=o}f=d.getNodesWithAnimationManagers();d=d.getAnimationManagersForNodes();for(c=0;c<f.length;c++){var q=f[c],i=d[c];q.Lw=i;if(m=i.getDocumentControllerName()){var u=
new ba[m];u.Pw=m;q.Ow=u;u.px=q;for(var p=i.getDocumentCallbackNames(),s=i.getDocumentCallbackNodes(),q=0;q<p.length;q++)m=p[q],o=s[q],o.setCallback(u[m],u);p=i.getDocumentOutletNames();s=i.getDocumentOutletNodes();for(q=0;q<p.length;q++)m=p[q],o=s[q],u[m]=o;"function"==typeof u.Bh&&u.Bh();o=i.Sw();for(q=0;q<o.length;q++)m=o[q].split(":"),p=m[0],m=m[1],1==p?(m=cc.CallFunc.create(u[m],u),i.Hi(m,o[q])):2==p&&b&&(m=cc.CallFunc.create(b[m],b),i.Hi(m,o[q]));u=i.getAutoPlaySequenceId();-1!=u&&i.rx(u,0)}}return a};
cc.BuilderReader.loadAsScene=function(a,b,c){a=cc.BuilderReader.load(a,b,c);b=cc.Scene.create();b.addChild(a);return b};sys=sys||{};Object.defineProperties(sys,{capabilities:{get:function(){var a={opengl:g};"mobile"==sys.platform?(a.accelerometer=g,a.touches=g):(a.keyboard=g,a.mouse=g);return a},enumerable:g,configurable:g},os:{get:function(){return __getOS()},enumerable:g,configurable:g},platform:{get:function(){return __getPlatform()},enumerable:g,configurable:g},version:{get:function(){return __getVersion()},enumerable:g,configurable:g}});sys.garbageCollect=function(){__jsc__.garbageCollect()};sys.dumpRoot=function(){__jsc__.dumpRoot()};
sys.restartVM=function(){__restartVM()};var ca="res/Images/texture512x512.png",da="res/Images/bugs/circle.plist",ca="res/Images/texture512x512.png",da="res/Images/bugs/circle.plist";var r=h,t=h,v=v||j,ea=ea||"N/A",w=cc.Scene.extend({ctor:function(){this._super();this.init()},onEnter:function(){this._super();var a=cc.LabelTTF.create("Main Menu","Arial",20),a=cc.MenuItemLabel.create(a,this.Lh,this),b=cc.Menu.create(a);b.setPosition(0,0);a.setPosition(t.width-50,25);this.addChild(b,1)},Lh:function(){var a=cc.Scene.create(),b=new fa;a.addChild(b);a=cc.TransitionProgressRadialCCW.create(0.5,a);r.replaceScene(a)},N:k()}),ga=40,ha=cc.p(0,0),fa=cc.LayerGradient.extend({fa:h,Ng:0,Xw:j,
ctor:function(){this._super();this.init(cc.o(0,0,0,255),cc.o(70,130,180,255));r=cc.Director.getInstance();t=r.getWinSize();var a=cc.MenuItemImage.create("res/Images/close.png","res/Images/close.png",this.Ah,this);a.setPosition(t.width-30,t.height-30);var b=cc.MenuItemFont.create("Automated Test: Off");b.setFontSize(18);var c=cc.MenuItemFont.create("Automated Test: On");c.setFontSize(18);b=cc.MenuItemToggle.create(b,c);b.setCallback(this.ei,this);b.setPosition(t.width-90,20);v&&b.setSelectedIndex(1);
a=cc.Menu.create(a,b);a.setPosition(0,0);this.fa=cc.Menu.create();b=0;for(c=ia.length;b<c;b++){var d=cc.LabelTTF.create(ia[b].title,"Arial",24),d=cc.MenuItemLabel.create(d,this.ia,this);this.fa.addChild(d,b+1E4);d.setPosition(t.width/2,t.height-(b+1)*ga);"browser"==sys.platform?"opengl"in sys.capabilities?d.setEnabled(ia[b].J&2|ia[b].J&4):d.setEnabled(ia[b].J&2):d.setEnabled(ia[b].J&1)}this.fa.setContentSize(cc.size(t.width,(ia.length+1)*ga));this.fa.setPosition(ha);this.addChild(this.fa);this.addChild(a,
1);"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},onEnter:function(){this._super();this.fa.setPosition(this.fa.getPosition().x,fa.ef)},ia:function(a){fa.ef=this.fa.getPosition().y;a=a.getZOrder()-1E4;ea=ia[a].title;var b=ia[a];cc.Zd.pi(b.ja||[],function(){var a=b.I();a&&a.N()},this)},Ah:function(){history.go(-1)},ei:function(){v=!v},onTouchesMoved:function(a){this.gc(a[0].getDelta());return g},onMouseDragged:function(a){this.gc(a.getDelta());
return g},onScrollWheel:function(a){this.gc({y:-a.getWheelDelta()});return g},gc:function(a){var b=this.fa.getPosition(),a=b.y+a.y;0>a&&(a=0);a>(ia.length+1)*ga-t.height&&(a=(ia.length+1)*ga-t.height);this.fa.setPosition(b.x,a)}});fa.ef=0;
var ia=[{title:"ActionManager Test",J:7,I:function(){return new ja}},{title:"Actions Test",J:7,I:function(){return new ka}},{title:"Box2D Test",ja:[],J:2,I:function(){return new Box2DTestScene}},{title:"Chipmunk Test",J:7,I:function(){return new la}},{title:"Click and Move Test",J:7,I:function(){return new ma}},{title:"ClippingNode Test",J:5,I:function(){return new ClippingNodeTestScene}},{title:"CocosDenshion Test",ja:[],J:7,I:function(){return new CocosDenshionTestScene}},{title:"CurrentLanguage Test",
J:2,I:function(){return new CurrentLanguageTestScene}},{title:"DrawPrimitives Test",J:7,I:function(){return new na}},{title:"EaseActions Test",J:7,I:function(){return new oa}},{title:"Event Test",J:7,I:function(){return new pa}},{title:"Extensions Test",ja:[],J:7,I:function(){return new qa}},{title:"Effects Test",J:5,I:function(){return new ra}},{title:"Effects Advanced Test",J:5,I:function(){return new EffectAdvanceScene}},{title:"FileUtils Test",ja:[],J:7,I:function(){return new sa}},{title:"Font Test",
ja:[],J:7,I:function(){return new FontTestScene}},{title:"Interval Test",J:7,I:function(){return new IntervalTestScene}},{title:"Label Test",ja:[],J:7,I:function(){return new ta}},{title:"Layer Test",J:7,I:function(){return new ua}},{title:"Menu Test",ja:[],J:7,I:function(){return new va}},{title:"MotionStreak Test",J:7,I:function(){return new MotionStreakTestScene}},{title:"Node Test",J:7,I:function(){return new wa}},{title:"OpenGL Test",ja:[],J:5,I:function(){return new xa}},{title:"Parallax Test",
ja:[],J:7,I:function(){return new ParallaxTestScene}},{title:"Particle Test",J:7,ja:[],I:function(){return new ya}},{title:"Performance Test",J:7,ja:[],I:function(){return new za}},{title:"ProgressActions Test",J:7,I:function(){return new Aa}},{title:"RenderTexture Test",J:5,I:function(){return new Ba}},{title:"RotateWorld Test",J:7,I:function(){return new Ca}},{title:"Scene Test",J:7,I:function(){return new SceneTestScene}},{title:"Scheduler Test",J:7,I:function(){return new Da}},{title:"Sprite Test",
ja:[],J:7,I:function(){return new Ea}},{title:"Scale9Sprite Test",ja:[],J:7,I:function(){return new Fa}},{title:"TextInput Test",J:2,I:function(){return new TextInputTestScene}},{title:"TextureCache Test",J:2,I:function(){return new TextureCacheTestScene}},{title:"TileMap Test",ja:[],J:7,I:function(){return new Ga}},{title:"Touches Test",ja:[],J:2,I:function(){return new TouchesTestScene}},{title:"Transitions Test",ja:[],J:7,I:function(){return new Ha}},{title:"Unit Tests",J:7,I:function(){return new Ia}},
{title:"Sys Tests",J:7,I:function(){return new Ja}},{title:"cocos2d JS Presentation",J:1,I:function(){return new Ka}},{title:"XMLHttpRequest",J:1,I:function(){return new XHRTestScene}}];cc.rect(0,0,0,0);cc.p(0,0);cc.p(0,0);cc.p(0,0);cc.p(0,0);cc.p(0,0);cc.p(0,0);cc.p(0,0);cc.p(0,0);var v=v||j,ea=ea||"N/A",x=cc.LayerGradient.extend({ctor:function(a,b){sys.garbageCollect();this._super();var c=cc.o(98,99,117,255),d=cc.o(0,0,0,255);1<=arguments.length&&(c=a);2==arguments.length&&(d=b);v&&(c=cc.o(0,0,0,255),d=cc.o(0,0,0,255));this.init(c,d);t=r.getWinSize();v&&(this.W(),this.scheduleOnce(this.lh,this.B),this.Ea())},Ea:k(),te:function(){var a="";"title"in this?a=this.title():"_title"in this&&(a=this.j);return a},rh:function(){var a="";"subtitle"in this?a=this.f():"_subtitle"in this&&
(a=this.q);return a},log:function(a){v||cc.log(a)},onEnter:function(){this._super();var a=this.te(),a=cc.LabelTTF.create(a,"Arial",28);this.addChild(a,100,11);a.setPosition(t.width/2,t.height-50);if(a=this.rh())a=cc.LabelTTF.create(a.toString(),"Thonburi",16),this.addChild(a,101,12),a.setPosition(t.width/2,t.height-80);var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.R,this),b=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.S,this),c=cc.MenuItemImage.create("res/Images/f1.png",
"res/Images/f2.png",this.Q,this);a.setTag(1);b.setTag(2);c.setTag(3);var d=cc.Menu.create(a,b,c);d.setPosition(0,0);var f=b.getContentSize();a.setPosition(t.width/2-2*f.width,f.height/2);b.setPosition(t.width/2,f.height/2);c.setPosition(t.width/2+2*f.width,f.height/2);this.addChild(d,102,10)},S:k(),Q:k(),R:k(),B:0.25,n:function(){e("Not Implemented")},m:function(){e("Not Implemented")},Yg:function(a,b){return a==b},Ui:function(){var a=this.m(),b=this.n(),c=this.Yg(a,b);c||(this.Bf="Expected value: '"+
b+"'. Current value'"+a+"'.");return c},lh:function(a){this.Bf="";var b=this.te();try{this.Ui(a)?cc.log(ea+" - "+this.T()+": Test '"+b+"':' OK"):cc.log(ea+" - "+this.T()+": Test '"+b+"': Error: "+this.Bf)}catch(c){cc.log(ea+" - "+this.T()+": Test '"+b+"':'"+c)}this.Fc()},W:function(){e("Override me: numberOfPendingTests")},T:function(){e("Override me: getTestNumber")},Fc:function(){if(0>=this.W()){var a=cc.Scene.create(),b=new fa;a.addChild(b);r.replaceScene(a)}else try{this.Q(this)}catch(c){cc.log(ea+
" - "+this.T()+": Test '"+this.te()+"':'"+c),this.Fc()}},C:function(a,b,c,d){function f(a,b){return c&&(0<a-b?a-b:b-a)<d||!c&&a==b?g:j}for(var d=d||50,c=c||j,i=0;i<a.length;i+=4)if(f(a[i],b[0])&&f(a[i+1],b[1])&&f(a[i+2],b[2])&&f(a[i+3],b[3]))return g;return j},readPixels:function(a,b,c,d){if("opengl"in sys.capabilities){var f=new Uint8Array(4*c*d);gl.readPixels(a,b,c,d,gl.RGBA,gl.UNSIGNED_BYTE,f);return f}return cc.renderContext.getImageData(a,t.height-b-d,c,d).data},eg:function(a){var b={},c,d=[];
for(c in a)a.hasOwnProperty(c)&&d.push(c);d.sort();for(c=0;c<d.length;c++)b[d[c]]=a[d[c]];return b}});var La=5560,y=-1,Pa=x.extend({Mg:h,j:"",title:l("No title"),f:l(""),R:function(){var a=new ja;a.addChild(Ma());r.replaceScene(a)},S:function(){var a=new ja;a.addChild(new Na[y]);r.replaceScene(a)},Q:function(){var a=new ja;a.addChild(Oa());r.replaceScene(a)},W:function(){return Na.length-1-y},T:function(){return y}}),Qa=Pa.extend({title:l("Test 1. Should not crash"),onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(200,200);this.addChild(a,1);a.runAction(cc.RotateBy.create(1.5,
90));a.runAction(cc.Sequence.create(cc.DelayTime.create(1.4),cc.FadeOut.create(1.1)));this.runAction(cc.Sequence.create(cc.DelayTime.create(1.4),cc.CallFunc.create(this.Xh,this)))},Xh:function(){this.getParent().removeChild(this);this.Q(this)},n:l("NOT_CRASHED"),m:l("NOT_CRASHED")}),Ra=Pa.extend({title:l("Logic test"),onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,2);a.setPosition(200,200);a.runAction(cc.Sequence.create(cc.MoveBy.create(1,cc.p(150,
0)),cc.CallFunc.create(this.yh,this)));v&&(this.k=a)},yh:function(a){a.stopAllActions();a.runAction(cc.ScaleTo.create(2,2))},B:4,n:function(){return JSON.stringify([{scaleX:2,scaleY:2}])},m:function(){var a=this.k.getScaleX(),b=this.k.getScaleY();return JSON.stringify([{scaleX:a,scaleY:b}])}}),Sa=Pa.extend({title:l("Pause Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("After 3 seconds grossini should move","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,
245);a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,5561);a.setPosition(200,200);b=cc.MoveBy.create(1,cc.p(150,0));r.getActionManager().addAction(b,a,g);this.schedule(this.Sf,3);v&&(this.scheduleOnce(this.wa,2),this.scheduleOnce(this.Ta,4.5),this.k=a)},Sf:function(){this.unschedule(this.Sf);var a=this.getChildByTag(5561);r.getActionManager().resumeTarget(a)},B:5.5,wa:function(){this.ca=this.k.getPosition()},Ta:function(){this.oa=this.k.getPosition()},n:function(){return JSON.stringify([{x:200,
y:200},{x:350,y:200}])},m:function(){return JSON.stringify([{x:this.ca.x,y:this.ca.y},{x:this.oa.x,y:this.oa.y}])}}),Ta=Pa.extend({title:l("Remove Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Should not crash","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);a=cc.MoveBy.create(2,cc.p(200,0));b=cc.CallFunc.create(this.stopAction,this);a=cc.Sequence.create(a,b);a.setTag(5562);b=cc.Sprite.create("res/Images/grossini.png");b.setPosition(200,200);this.addChild(b,
1,5561);b.runAction(a)},stopAction:function(){this.getChildByTag(5561).stopActionByTag(5562)},B:3.5,n:l("NOT_CRASHED"),m:l("NOT_CRASHED")}),Ua=Pa.extend({title:l("Resume Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Grossini only rotate/scale in 3 seconds","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);this.k=b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b,0,5561);b.setPosition(a.width/2,a.height/2);b.runAction(cc.ScaleBy.create(2,2));
r.getActionManager().pauseTarget(b);b.runAction(cc.RotateBy.create(2,360));this.schedule(this.ag,3)},ag:function(){this.unschedule(this.ag);var a=this.getChildByTag(5561);r.getActionManager().resumeTarget(a)},B:6,Ea:function(){this.scheduleOnce(this.wa,1);this.scheduleOnce(this.Ta,5.5)},wa:function(){this.$g=this.k.getScaleX();this.ah=this.k.getScaleY();this.Zg=this.k.getRotation()},Ta:function(){this.dh=this.k.getScaleX();this.eh=this.k.getScaleY();this.bh=this.k.getRotation()},n:function(){return JSON.stringify([{Rot:0},
{sX:1,sY:1},{Rot:360},{sX:2,sY:2}])},m:function(){return JSON.stringify([{Rot:this.Zg},{sX:this.$g,sY:this.ah},{Rot:this.bh},{sX:this.dh,sY:this.eh}])}}),ja=w.extend({N:function(){y=-1;this.addChild(Oa());r.replaceScene(this)}}),Na=[Qa,Ra,Sa,Ta,Ua];function Oa(){y++;y%=Na.length;return new Na[y]}function Ma(){y--;0>y&&(y+=Na.length);return new Na[y]};var z=-1,ka=w.extend({N:function(){z=-1;this.addChild(Va());r.replaceScene(this)}}),A=x.extend({k:h,s:h,u:h,da:h,ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255));this.k=cc.Sprite.create("res/Images/grossini.png");this.s=cc.Sprite.create("res/Images/grossinis_sister1.png");this.u=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(this.k,1);this.addChild(this.s,2);this.addChild(this.u,3);var a=r.getWinSize();this.k.setPosition(a.width/2,a.height/3);this.s.setPosition(a.width/
2,2*a.height/3);this.u.setPosition(a.width/2,a.height/2)},M:function(a){var b=r.getWinSize();0===a?(this.s.setVisible(j),this.u.setVisible(j),this.k.setVisible(j)):1==a?(this.s.setVisible(j),this.u.setVisible(j),this.k.setPosition(b.width/2,b.height/2)):2==a?(this.u.setPosition(b.width/3,b.height/2),this.s.setPosition(2*b.width/3,b.height/2),this.k.setVisible(j)):3==a&&(this.k.setPosition(b.width/2,b.height/2),this.s.setPosition(b.width/4,b.height/2),this.u.setPosition(3*b.width/4,b.height/2))},Eb:function(a){var b=
r.getWinSize();1==a?(this.s.setVisible(j),this.u.setVisible(j),this.k.setPosition(60,b.height/2)):2==a?(this.u.setPosition(60,b.height/3),this.s.setPosition(60,2*b.height/3),this.k.setVisible(j)):3==a&&(this.k.setPosition(60,b.height/2),this.s.setPosition(60,2*b.height/3),this.u.setPosition(60,b.height/3))},title:l("ActionsTest"),f:l(""),R:function(){var a=new ka;a.addChild(Wa());r.replaceScene(a)},S:function(){var a=new ka;a.addChild(new Xa[z]);r.replaceScene(a)},Q:function(){var a=new ka;a.addChild(Va());
r.replaceScene(a)},W:function(){return Xa.length-1-z},T:function(){return z}}),Ya=A.extend({da:"sprite.setPosition( 10,20 );\nsprite.setRotation( 90 );\nsprite.setScale( 2 );",onEnter:function(){this._super();this.s.setScaleX(2.5);this.s.setScaleY(-1);this.s.setPosition(100,70);this.s.setOpacity(128);this.k.setRotation(120);this.k.setPosition(t.width/2,t.height/2);this.k.setColor(cc.D(255,0,0));this.u.setPosition(t.width-100,t.height/2);this.u.setColor(cc.D(0,0,255))},title:l("Sprite properties"),
f:l("Manual Transformation"),B:0.1,n:function(){return JSON.stringify([2.5,{x:100,y:70},128,120,{x:t.width/2,y:t.height/2},{r:255,g:0,b:0},{x:t.width-100,y:t.height/2},{r:0,g:0,b:255}])},m:function(){var a=[];a.push(this.s.getScaleX());a.push(this.s.getPosition());a.push(this.s.getOpacity());a.push(this.k.getRotation());a.push(this.k.getPosition());a.push(this.k.getColor());a.push(this.u.getPosition());a.push(this.u.getColor());return JSON.stringify(a)}}),Za=A.extend({da:"a = cc.MoveBy.create( time, cc.p(x,y) );\na = cc.MoveTo.create( time, cc.p(x,y) );",
onEnter:function(){this._super();this.M(3);var a=r.getWinSize(),a=cc.MoveTo.create(2,cc.p(a.width-40,a.height-40)),b=cc.MoveBy.create(1,cc.p(80,80)),c=b.reverse();this.s.runAction(a);this.k.runAction(cc.Sequence.create(b,c));this.u.runAction(cc.MoveTo.create(1,cc.p(40,40)))},title:l("cc.MoveTo / cc.MoveBy"),B:2.1,n:function(){return JSON.stringify([{x:t.width-40,y:t.height-40},{x:t.width/2,y:t.height/2},{x:40,y:40}])},m:function(){var a=[];a.push(this.s.getPosition());a.push(this.k.getPosition());
a.push(this.u.getPosition());return JSON.stringify(a)}}),$a=A.extend({da:"a = cc.ScaleBy.create( time, scale );\na = cc.ScaleTo.create( time, scaleX, scaleY );",onEnter:function(){this._super();this.M(3);var a=cc.ScaleTo.create(2,0.5),b=cc.ScaleBy.create(2,2),c=cc.ScaleBy.create(2,0.25,4.5);this.s.runAction(a);this.u.runAction(cc.Sequence.create(c,cc.DelayTime.create(0.25),c.reverse()));this.k.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),b.reverse()))},title:l("cc.ScaleTo / cc.ScaleBy"),
B:2.1,n:function(){return JSON.stringify([0.5,2,0.25,4.5])},m:function(){var a=[];a.push(this.s.getScale());a.push(this.k.getScale());a.push(this.u.getScaleX());a.push(this.u.getScaleY());return JSON.stringify(a)}}),ab=A.extend({da:"a = cc.RotateBy.create( time, degrees );\na = cc.RotateTo.create( time, degrees );",onEnter:function(){this._super();this.M(3);var a=cc.RotateTo.create(2,45),b=cc.RotateTo.create(2,-45),c=cc.RotateTo.create(2,0);this.s.runAction(cc.Sequence.create(a,cc.DelayTime.create(0.25),
c));var a=cc.RotateBy.create(2,360),d=a.reverse();this.k.runAction(cc.Sequence.create(a,cc.DelayTime.create(0.25),d));this.u.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),c.copy()))},title:l("cc.RotateTo / cc.RotateBy"),B:2.1,n:function(){return JSON.stringify([45,360,-45])},m:function(){var a=[];a.push(this.s.getRotation());a.push(this.k.getRotation());a.push(this.u.getRotation());return JSON.stringify(a)}}),bb=A.extend({onEnter:function(){this._super();this.M(3);var a=cc.RotateTo.create(2,
37.2,-37.2),b=cc.RotateTo.create(2,0,0),c=cc.RotateBy.create(2,0,-90),d=cc.RotateBy.create(2,45,45),f=cc.DelayTime.create(0.25);this.s.runAction(cc.Sequence.create(a,f,b));this.k.runAction(cc.Sequence.create(c,f.copy(),c.reverse()));this.u.runAction(cc.Sequence.create(d,f.copy(),d.reverse()))},title:l("cc.RotateBy(x,y) / cc.RotateTo(x,y)"),B:2.1,n:function(){return JSON.stringify(["37.20","-37.20",0,-90,45,45])},m:function(){var a=[];a.push(this.s.getRotationX().toFixed(2));a.push(this.s.getRotationY().toFixed(2));
a.push(this.k.getRotationX());a.push(this.k.getRotationY());a.push(this.u.getRotationX());a.push(this.u.getRotationY());return JSON.stringify(a)}}),cb=A.extend({da:"a = cc.SkewBy.create( time, skew );\na = cc.SkewTo.create( time, skewX, skewY );",onEnter:function(){this._super();this.M(3);var a=cc.SkewTo.create(2,37.2,-37.2),b=cc.SkewTo.create(2,0,0),c=cc.SkewBy.create(2,0,-90),d=cc.SkewBy.create(2,45,45),f=cc.DelayTime.create(0.25);this.s.runAction(cc.Sequence.create(a,f,b));this.k.runAction(cc.Sequence.create(c,
f.copy(),c.reverse()));this.u.runAction(cc.Sequence.create(d,f.copy(),d.reverse()))},title:l("cc.SkewTo / cc.SkewBy"),B:2.1,n:function(){return JSON.stringify(["37.20","-37.20",0,0,45,45])},m:function(){var a=[];a.push(this.s.getSkewX().toFixed(2));a.push(this.s.getSkewY().toFixed(2));a.push(this.k.getSkewX());a.push(this.k.getSkewX());a.push(this.u.getSkewX());a.push(this.u.getSkewY());return JSON.stringify(a)}}),db=A.extend({onEnter:function(){this._super();this.M(0);var a=cc.size(100,100),b=cc.LayerColor.create(cc.o(255,
255,0,255));b.setAnchorPoint(cc.p(0,0));b.setPosition((t.width-a.width)/2,(t.height-a.height)/2);b.setContentSize(a);var c=cc.LayerColor.create(cc.o(255,0,0,255));b.addChild(c);c.setContentSize(cc.size(10,10));c.setPosition(0,a.height-10);c.setAnchorPoint(cc.p(0,0));c=cc.LayerColor.create(cc.o(0,0,255,255));b.addChild(c);c.setContentSize(cc.size(10,10));c.setPosition(a.width-10,a.height-10);c.setAnchorPoint(cc.p(0,0));this.addChild(b);var a=cc.SkewTo.create(2,0,2),c=cc.RotateTo.create(2,61),d=cc.ScaleTo.create(2,
-0.44,0.47),f=cc.ScaleTo.create(2,1,1),i=cc.RotateTo.create(2,0),m=cc.SkewTo.create(2,0,0),o=cc.DelayTime.create(0.25);b.runAction(cc.Sequence.create(a,o,m));b.runAction(cc.Sequence.create(c,o.copy(),i));b.runAction(cc.Sequence.create(d,o.copy(),f));this.tc=b},title:l("Skew + Rotate + Scale"),B:2.1,n:function(){return JSON.stringify([0,2,61,"-0.44","0.47"])},m:function(){var a=[];a.push(this.tc.getSkewX());a.push(this.tc.getSkewY());a.push(this.tc.getRotation());a.push(this.tc.getScaleX().toFixed(2));
a.push(this.tc.getScaleY().toFixed(2));return JSON.stringify(a)}}),eb=A.extend({da:"a = cc.JumpBy.create( time, point, height, #_of_jumps );\na = cc.JumpTo.create( time, point, height, #_of_jumps );",onEnter:function(){this._super();this.M(3);var a=cc.JumpTo.create(2,cc.p(300,300),50,4),b=cc.JumpBy.create(2,cc.p(300,0),50,4),c=cc.JumpBy.create(2,cc.p(0,0),80,4),d=b.reverse(),f=cc.DelayTime.create(0.25);this.s.runAction(a);this.k.runAction(cc.Sequence.create(b,f,d));this.u.runAction(cc.RepeatForever.create(cc.Sequence.create(c,
f.copy())))},title:l("cc.JumpTo / cc.JumpBy"),f:l("Actions will stop for 0.25s after 2 seconds"),B:2.1,n:function(){return JSON.stringify([{x:300,y:300},{x:t.width/2+300,y:t.height/2},{x:3*t.width/4,y:t.height/2}])},m:function(){var a=[];a.push(this.s.getPosition());a.push(this.k.getPosition());a.push(this.u.getPosition());return JSON.stringify(a)}}),fb=A.extend({onEnter:function(){this._super();var a=r.getWinSize();this.M(3);var b=cc.DelayTime.create(0.25),c=[cc.p(0,374),cc.p(300,-374),cc.p(300,
100)],c=cc.BezierBy.create(2,c),b=cc.RepeatForever.create(cc.Sequence.create(c,b,c.reverse(),b.copy()));this.s.setPosition(80,160);c=[cc.p(100,a.height/2),cc.p(200,-a.height/2),cc.p(240,160)];a=cc.BezierTo.create(2,c);c=c.slice();this.u.setPosition(400,160);c=cc.BezierTo.create(2,c);this.k.runAction(b);this.s.runAction(a);this.u.runAction(c)},title:l("cc.BezierBy / cc.BezierTo"),B:2.1,Ea:function(){this.scheduleOnce(this.wa,0.66667);this.scheduleOnce(this.Ta,1.33333)},wa:function(){this.ca=this.k.getPosition()},
Wc:function(){var a=Math.abs(this.ca.y-87-t.height/2);return 5>Math.abs(this.ca.x-77-t.width/2)&&5>a},Ta:function(){this.oa=this.k.getPosition()},Xc:function(){var a=Math.abs(this.oa.y+53-t.height/2);return 5>Math.abs(this.oa.x-222-t.width/2)&&5>a},n:function(){return JSON.stringify([g,g,{x:t.width/2+300,y:t.height/2+100}])},m:function(){var a=[];a.push(this.Wc());a.push(this.Xc());a.push(this.k.getPosition());return JSON.stringify(a)}}),gb=A.extend({onEnter:function(){this._super();this.M(2);this.s.setPosition(80,
160);var a=[cc.p(100,t.height/2),cc.p(200,-t.height/2),cc.p(240,160)],a=cc.BezierTo.create(2,a);this.u.setPosition(80,160);var b=a.copy();this.s.runAction(a);this.u.runAction(b)},title:l("cc.BezierTo copy test"),f:l("Both sprites should move across the same path")}),hb=A.extend({onEnter:function(){this._super();this.M(1);this.k.setPosition(428,279);var a=[cc.p(428,279),cc.p(100,100),cc.p(100,100)],b=[cc.p(100,100),cc.p(428,279),cc.p(428,279)],a=cc.BezierTo.create(1.5,a),b=cc.BezierTo.create(1.5,b),
c=cc.CallFunc.create(this.ji,this),d=cc.DelayTime.create(0.25);this.k.runAction(cc.RepeatForever.create(cc.Sequence.create(a,b,c,d)))},ji:function(a){a=a.getPosition();cc.log("Position x: "+a.x+" y:"+a.y);(428!=a.x||279!=a.y)&&this.log("Error: Issue 1008 is still open");this.bj=a},title:l("Issue 1008"),f:l("cc.BezierTo + Repeat. See console"),B:3.1,n:function(){return JSON.stringify({x:428,y:279})},m:function(){return JSON.stringify(this.bj)}}),ib=A.extend({da:"a = cc.Blink.create( time, #_of_blinks );",
onEnter:function(){this._super();this.M(2);var a=cc.Blink.create(2,10),b=cc.Blink.create(2,5);this.s.runAction(a);this.u.runAction(b)},title:l("cc.Blink"),B:2.1,Ea:function(){this.scheduleOnce(this.wa,0.1)},wa:function(){this.ca=this.u.isVisible()},n:function(){return JSON.stringify([j,g,g])},m:function(){var a=[];a.push(this.ca);a.push(this.s.isVisible());a.push(this.u.isVisible());return JSON.stringify(a)}}),jb=A.extend({da:"a = cc.FadeIn.create( time );\na = cc.FadeOut.create( time );",onEnter:function(){this._super();
this.M(2);var a=cc.DelayTime.create(0.25);this.s.setOpacity(0);var b=cc.FadeIn.create(1),c=b.reverse(),d=cc.FadeOut.create(1),f=d.reverse();this.s.runAction(cc.Sequence.create(b,a,c));this.u.runAction(cc.Sequence.create(d,a.copy(),f))},title:l("cc.FadeIn / cc.FadeOut"),B:1.1,n:function(){return JSON.stringify([255,0])},m:function(){var a=[];a.push(this.s.getOpacity());a.push(this.u.getOpacity());return JSON.stringify(a)}}),kb=A.extend({da:"a = cc.TintBy.create( time, red, green, blue );\na = cc.TintTo.create( time, red, green, blue );",
onEnter:function(){this._super();this.M(2);var a=cc.TintTo.create(2,255,0,255),b=cc.TintBy.create(2,-127,-255,-127),c=b.reverse();this.s.runAction(a);this.u.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),c))},title:l("cc.TintTo / cc.TintBy"),B:2.1,n:function(){return JSON.stringify([{r:255,g:0,b:255},{r:128,g:0,b:128}])},m:function(){var a=[];a.push(this.s.getColor());a.push(this.u.getColor());return JSON.stringify(a)}}),lb=A.extend({onEnter:function(){this._super();this.M(3);for(var a=
cc.Animation.create(),b=1;15>b;b++)a.addSpriteFrameWithFile("res/Images/grossini_dance_"+(10>b?"0"+b:b)+".png");a.setDelayPerUnit(2.8/14);a.setRestoreOriginalFrame(g);a=cc.Animate.create(a);this.k.runAction(cc.Sequence.create(a,a.reverse()));a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");a=a.getAnimation("dance_1");b=cc.Animate.create(a);this.s.runAction(cc.Sequence.create(b,b.reverse()));a=a.copy();a.setLoops(4);this.u.runAction(cc.Animate.create(a))},title:l("Animation"),
f:l("Center: Manual animation. Border: using file format animation")}),mb=A.extend({da:"a = cc.Sequence.create( a1, a2, a3,..., aN);",onEnter:function(){this._super();this.Eb(1);this.k.runAction(cc.Sequence.create(cc.MoveBy.create(1.5,cc.p(240,0)),cc.RotateBy.create(1.5,540)))},title:l("cc.Sequence: Move + Rotate"),B:3.1,n:function(){return JSON.stringify([{x:300,y:t.height/2},540])},m:function(){var a=[];a.push(this.k.getPosition());a.push(this.k.getRotation());return JSON.stringify(a)}}),nb=A.extend({onEnter:function(){this._super();
this.M(1);this.k.setVisible(j);this.k.runAction(cc.Sequence.create(cc.Place.create(cc.p(200,200)),cc.Show.create(),cc.MoveBy.create(1,cc.p(100,0)),cc.CallFunc.create(this.Fe,this),cc.CallFunc.create(this.Ge.bind(this)),cc.CallFunc.create(this.He,this)));this.qf=this.rf=this.sf=j},Fe:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 1 called","Marker Felt",16);b.setPosition(1*(a.width/4),a.height/2);this.addChild(b);this.qf=g},Ge:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 2 called",
"Marker Felt",16);b.setPosition(2*(a.width/4),a.height/2);this.addChild(b);this.rf=g},He:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 3 called","Marker Felt",16);b.setPosition(3*(a.width/4),a.height/2);this.addChild(b);this.sf=g},title:l("Sequence of InstantActions"),B:1.1,n:function(){return JSON.stringify([g,g,g,g,{x:300,y:200}])},m:function(){var a=[];a.push(this.qf);a.push(this.rf);a.push(this.sf);a.push(this.k.isVisible());a.push(this.k.getPosition());return JSON.stringify(a)}}),
ob=A.extend({da:"a = cc.CallFunc.create( this.callback );\na = cc.CallFunc.create( this.callback, this, optional_arg );",onEnter:function(){this._super();this.M(3);var a=cc.Sequence.create(cc.MoveBy.create(2,cc.p(200,0)),cc.CallFunc.create(this.Fe.bind(this))),b=cc.Sequence.create(cc.ScaleBy.create(2,2),cc.FadeOut.create(2),cc.CallFunc.create(this.Ge,this)),c=cc.Sequence.create(cc.RotateBy.create(3,360),cc.FadeOut.create(2),cc.CallFunc.create(this.He,this,"Hi!"));this.k.runAction(a);this.s.runAction(b);
this.u.runAction(c)},Fe:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 1 called","Marker Felt",16);b.setPosition(1*(a.width/4),a.height/2);this.addChild(b);this.ca=g},Ge:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 2 called","Marker Felt",16);b.setPosition(2*(a.width/4),a.height/2);this.addChild(b);this.oa=g},He:function(a,b){var c=r.getWinSize(),d=cc.LabelTTF.create("callback 3 called:"+b,"Marker Felt",16);d.setPosition(3*(c.width/4),c.height/2);this.addChild(d);
this.jb=g},title:l("Callbacks: CallFunc and friends"),B:5.05,Ea:function(){this.ca=this.oa=this.jb=j},n:function(){return JSON.stringify([g,g,g])},m:function(){var a=[];a.push(this.ca);a.push(this.oa);a.push(this.jb);return JSON.stringify(a)}}),pb=A.extend({onEnter:function(){this._super();this.M(1);this.k.runAction(cc.Sequence.create(cc.MoveBy.create(2,cc.p(200,0)),cc.CallFunc.create(this.removeFromParentAndCleanup,this.k,g)))},removeFromParentAndCleanup:function(a,b){a.removeFromParent(b)},title:l("cc.CallFunc + auto remove"),
f:l("cc.CallFunc + removeFromParentAndCleanup. Grossini dissapears in 2s"),B:2.1,Ea:k(),n:function(){return JSON.stringify([h])},m:function(){var a=[];a.push(this.getChildByTag(1));return JSON.stringify(a)}}),qb=A.extend({onEnter:function(){this._super();this.M(1);this.runAction(cc.CallFunc.create(function(a,b){this.ca="Value is: "+b;this.log("Object:"+a+". "+this.ca)},this,"Hello world"))},title:l("cc.CallFunc + parameters"),f:l("cc.CallFunc + parameters. Take a look at the console"),B:0.1,Ea:k(),
n:function(){return JSON.stringify(["Value is: Hello world"])},m:function(){var a=[];a.push(this.ca);return JSON.stringify(a)}}),rb=A.extend({da:"a = cc.Spawn.create( a1, a2, ..., aN );",onEnter:function(){this._super();this.Eb(1);this.k.runAction(cc.Spawn.create(cc.JumpBy.create(2,cc.p(300,0),50,4),cc.RotateBy.create(2,720)))},title:l("cc.Spawn: Jump + Rotate"),B:2.1,n:function(){return JSON.stringify([{x:360,y:t.height/2},720])},m:function(){var a=[];a.push(this.k.getPosition());a.push(this.k.getRotation());
return JSON.stringify(a)}}),sb=A.extend({da:"a = cc.RepeatForever.create( action_to_repeat );",onEnter:function(){this._super();this.M(1);this.k.runAction(cc.Sequence.create(cc.DelayTime.create(1),cc.CallFunc.create(this.xi)))},xi:function(a){var b=cc.RepeatForever.create(cc.RotateBy.create(1,360));a.runAction(b)},title:l("cc.CallFunc + cc.RepeatForever"),B:3.5,n:function(){return JSON.stringify([g])},m:function(){var a=[],b=this.k.getRotation();a.push(915>b&&885<b);return JSON.stringify(a)}}),tb=
A.extend({da:"a = cc.Repeat.create( action_to_repeat, #_of_times );",onEnter:function(){this._super();this.M(2);var a=cc.RotateTo.create(0.5,90),b=cc.RotateTo.create(0.5,0),b=cc.Sequence.create(a,b),a=cc.RepeatForever.create(b),b=cc.Repeat.create(b.copy(),4);this.s.runAction(a);this.u.runAction(b)},title:l("Repeat/RepeatForever + RotateTo"),B:4.5,n:function(){return JSON.stringify([0,g])},m:function(){var a=[];a.push(this.u.getRotation());var b=this.s.getRotation();a.push(105>b&&75<b);return JSON.stringify(a)}}),
ub=A.extend({onEnter:function(){this._super();this.M(2);var a=cc.Sequence.create(cc.RotateTo.create(0.5,-20),cc.RotateTo.create(0.5,20)),b=cc.Repeat.create(a,10),a=cc.RepeatForever.create(a.copy());this.s.runAction(b);this.u.runAction(a)},title:l("RepeatForever / Repeat + Rotate")}),vb=A.extend({da:"a = action.reverse();",onEnter:function(){this._super();this.Eb(1);var a=cc.JumpBy.create(2,cc.p(300,0),50,4),b=cc.DelayTime.create(0.25);this.k.runAction(cc.Sequence.create(a,b,a.reverse()))},title:l("Reverse Jump action"),
B:4.4,Ea:function(){this.scheduleOnce(this.wa,2.1)},wa:function(){this.ca=this.k.getPosition()},n:function(){return JSON.stringify([{x:360,y:t.height/2},{x:60,y:t.height/2}])},m:function(){var a=[];a.push(this.ca);a.push(this.k.getPosition());return JSON.stringify(a)}}),wb=A.extend({da:"a = cc.DelayTime.create( time );",onEnter:function(){this._super();this.Eb(1);var a=cc.MoveBy.create(1,cc.p(150,0));this.k.runAction(cc.Sequence.create(a,cc.DelayTime.create(2),a.copy()))},title:l("DelayTime: m + delay + m"),
B:2.9,n:function(){return JSON.stringify([{x:210,y:t.height/2}])},m:function(){var a=[];a.push(this.k.getPosition());return JSON.stringify(a)}}),xb=A.extend({onEnter:function(){this._super();this.Eb(1);var a=cc.MoveBy.create(1,cc.p(250,0)),b=cc.MoveBy.create(1,cc.p(0,50)),a=cc.Sequence.create(a,b,a.reverse());this.k.runAction(cc.Sequence.create(a,a.reverse()))},f:l("Reverse a sequence")}),yb=A.extend({onEnter:function(){this._super();this.Eb(2);var a=cc.MoveBy.create(3,cc.p(250,0)),b=cc.MoveBy.create(3,
cc.p(0,50)),c=cc.ToggleVisibility.create(),d=cc.ToggleVisibility.create(),a=cc.Sequence.create(a,c,b,d,a.reverse());this.u.runAction(cc.Repeat.create(cc.Sequence.create(a,a.reverse()),3));a=cc.MoveBy.create(1,cc.p(100,0));b=cc.MoveBy.create(1,cc.p(50,0));c=cc.Hide.create();a=cc.Sequence.create(a,c,b);b=a.reverse();this.s.runAction(cc.Sequence.create(a,b))},f:l("Reverse sequence 2")}),zb=A.extend({onEnter:function(){this._super();this.Eb(2);var a=cc.MoveBy.create(1,cc.p(150,0)),b=cc.Repeat.create(cc.Sequence.create(cc.Place.create(cc.p(60,
60)),a),3),a=cc.RepeatForever.create(cc.Sequence.create(a.copy(),a.reverse(),cc.DelayTime.create(0.25)));this.u.runAction(b);this.s.runAction(a)},title:l("Repeat / RepeatForever actions"),B:4.3,n:function(){return JSON.stringify([{x:210,y:60},{x:60,y:2*t.height/3}])},m:function(){var a=[];a.push(this.u.getPosition());a.push(this.s.getPosition());return JSON.stringify(a)}}),Ab=A.extend({onEnter:function(){this._super();this.M(3);var a=cc.OrbitCamera.create(2,1,0,0,180,0,0),a=cc.Sequence.create(a,a.reverse()),
b=cc.OrbitCamera.create(2,1,0,0,180,-45,0),b=cc.Sequence.create(b,b.reverse()),c=cc.OrbitCamera.create(2,1,0,0,180,90,0),c=cc.Sequence.create(c,c.reverse());this.u.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(b));this.k.runAction(cc.RepeatForever.create(c));a=cc.MoveBy.create(3,cc.p(100,-100));b=a.reverse();a=cc.Sequence.create(a,b);a=cc.RepeatForever.create(a);this.u.runAction(a);this.s.runAction(a.copy());this.k.runAction(a.copy())},f:l("OrbitCamera action")}),
Bb=A.extend({onEnter:function(){this._super();this.M(1);var a=r.getWinSize();this.k.setPosition(-(a.width/2),a.height/2);var b=cc.MoveBy.create(2,cc.p(3*a.width,0)),c=b.reverse(),b=cc.Sequence.create(b,c);this.k.runAction(cc.RepeatForever.create(b));this.runAction(cc.Follow.create(this.k,cc.rect(0,0,2*a.width-100,a.height)))},f:l("Follow action")}),Cb=A.extend({Tb:h,da:" a = cc.CadinalSplineBy.create( time, array_of_points, tension );\n a = cc.CadinalSplineTo.create( time, array_of_points, tension );",
ctor:function(){this._super();this.Tb=[]},onEnter:function(){this._super();this.M(2);var a=cc.DelayTime.create(0.25),b=[cc.p(0,0),cc.p(t.width/2-30,0),cc.p(t.width/2-30,t.height-80),cc.p(0,t.height-80),cc.p(0,0)],c=cc.CardinalSplineBy.create(2,b,0),d=c.reverse(),c=cc.Sequence.create(c,a,d,a.copy());this.s.setPosition(50,50);this.s.runAction(c);c=cc.CardinalSplineBy.create(2,b,1);d=c.reverse();a=cc.Sequence.create(c,a.copy(),d,a.copy());this.u.setPosition(t.width/2,50);this.u.runAction(a);this.Tb=
b},draw:function(a){this._super();var a=a||cc.renderContext,b=r.getWinSize();"opengl"in sys.capabilities?(cc.kmGLPushMatrix(),cc.kmGLTranslatef(50,50,0),cc.drawingUtil.drawCardinalSpline(this.Tb,0,100),cc.kmGLPopMatrix(),cc.kmGLPushMatrix(),cc.kmGLTranslatef(b.width/2,50,0),cc.drawingUtil.drawCardinalSpline(this.Tb,1,100),cc.kmGLPopMatrix()):(this.getAnchorPointInPoints(),a.save(),a.translate(50,-50),cc.drawingUtil.drawCardinalSpline(this.Tb,0,100),a.restore(),a.save(),a.translate(b.width/2,-50),
cc.drawingUtil.drawCardinalSpline(this.Tb,1,100),a.restore())},f:l("Cardinal Spline paths. Testing different tensions for one array"),title:l("CardinalSplineBy / CardinalSplineAt"),B:2.1,Ea:function(){this.scheduleOnce(this.wa,0.5);this.scheduleOnce(this.Ta,1);this.scheduleOnce(this.qe,1.5)},wa:function(){this.ca=this.s.getPosition()},Wc:function(){var a=Math.abs(50-this.ca.y);return 5>Math.abs(50+t.width/2-30-this.ca.x)&&5>a},Ta:function(){this.oa=this.s.getPosition()},Xc:function(){var a=Math.abs(50+
t.height-80-this.oa.y);return 5>Math.abs(50+t.width/2-30-this.oa.x)&&5>a},qe:function(){this.jb=this.s.getPosition()},Ve:function(){var a=Math.abs(50+t.height-80-this.jb.y);return 5>Math.abs(50-this.jb.x)&&5>a},n:function(){return JSON.stringify([g,g,g,{x:50,y:50}])},m:function(){var a=[];a.push(this.Wc());a.push(this.Xc());a.push(this.Ve());a.push(this.s.getPosition());return JSON.stringify(a)}}),Db=A.extend({dd:h,je:h,da:"a = cc.CatmullRomBy.create( time, array_of_points );\n a = cc.CatmullRomTo.create( time, array_of_points );",
ctor:function(){this._super();this.dd=[];this.je=[]},onEnter:function(){this._super();this.M(2);var a=cc.DelayTime.create(0.25);this.s.setPosition(50,50);var b=[cc.p(0,0),cc.p(80,80),cc.p(t.width-80,80),cc.p(t.width-80,t.height-80),cc.p(80,t.height-80),cc.p(80,80),cc.p(t.width/2,t.height/2)],c=cc.CatmullRomBy.create(3,b),d=c.reverse();this.s.runAction(cc.Sequence.create(c,a,d));var c=[cc.p(t.width/2,30),cc.p(t.width-80,30),cc.p(t.width-80,t.height-80),cc.p(t.width/2,t.height-80),cc.p(t.width/2,30)],
d=cc.CatmullRomTo.create(3,c),f=d.reverse();this.u.runAction(cc.Sequence.create(d,a.copy(),f));this.dd=b;this.je=c},draw:function(a){this._super();a=a||cc.renderContext;"opengl"in sys.capabilities?(cc.kmGLPushMatrix(),cc.kmGLTranslatef(50,50,0),cc.drawingUtil.drawCatmullRom(this.dd,50),cc.kmGLPopMatrix()):(a.save(),a.translate(50,-50),cc.drawingUtil.drawCatmullRom(this.dd,50),a.restore());cc.drawingUtil.drawCatmullRom(this.je,50)},f:l("Catmull Rom spline paths. Testing reverse too"),title:l("CatmullRomBy / CatmullRomTo"),
B:3.1,Ea:function(){this.scheduleOnce(this.wa,0);this.scheduleOnce(this.Ta,0.75);this.scheduleOnce(this.qe,1.5)},wa:function(){this.ca=this.u.getPosition()},Wc:function(){var a=Math.abs(30-this.ca.y);return 5>Math.abs(t.width/2-this.ca.x)&&5>a},Ta:function(){this.oa=this.u.getPosition()},Xc:function(){var a=Math.abs(30-this.oa.y);return 5>Math.abs(t.width-80-this.oa.x)&&5>a},qe:function(){this.jb=this.u.getPosition()},Ve:function(){var a=Math.abs(t.height-80-this.jb.y);return 5>Math.abs(t.width-80-
this.jb.x)&&5>a},n:function(){return JSON.stringify([g,g,g,{x:t.width/2,y:30}])},m:function(){var a=[];a.push(this.Wc());a.push(this.Xc());a.push(this.Ve());a.push(this.u.getPosition());return JSON.stringify(a)}}),Eb=A.extend({da:"a = cc.TargetedAction.create( target, action );",onEnter:function(){this._super();this.M(2);var a=cc.JumpBy.create(2,cc.p(0,0),100,3),b=a.copy(),c=cc.RotateBy.create(1,360),d=c.copy(),b=cc.TargetedAction.create(this.u,b),d=cc.TargetedAction.create(this.u,d),a=cc.Sequence.create(a,
b,c,d);this.s.runAction(cc.RepeatForever.create(a))},title:l("Action that runs on another target. Useful for sequences"),f:l("ActionTargeted")}),Fb=A.extend({onEnter:function(){this._super();this.M(2);var a=cc.JumpBy.create(2,cc.p(0,0),100,3),b=a.copy(),b=cc.TargetedAction.create(this.u,b).copy();this.s.runAction(cc.Sequence.create(a,b))},title:l("Action that runs on another target. Useful for sequences"),f:l("Testing copy on TargetedAction")}),Gb=A.extend({onEnter:function(){this._super();this.M(1);
this.k.setPosition(40,t.height/2);var a=cc.MoveBy.create(0.2,cc._p(0,50)),b=a.reverse();cc.DelayTime.create(0.25);a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a));a=cc.MoveBy.create(2,cc._p(t.width-80,0));b=a.reverse();a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a))},title:l("Stackable actions: MoveBy + MoveBy"),f:l("Grossini shall move up and down while moving horizontally"),B:0.2,n:function(){return JSON.stringify([g,g])},m:function(){var a=[],b=this.k.getPosition(),
c=40+0.2*(t.width-80)/2,d=t.height/2+50,d=b.y<d+10&&b.y>d-10;a.push(b.x<c+10&&b.x>c-10);a.push(d);return JSON.stringify(a)}}),Hb=A.extend({onEnter:function(){this._super();this.M(1);this.k.setPosition(40,t.height/2);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a));a=cc.JumpBy.create(2,cc._p(t.width-80,0),90,5);b=a.reverse();a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a))},title:l("Stackable actions: MoveBy + JumpBy"),
f:l("Grossini shall shake while he is jumping")}),Ib=A.extend({onEnter:function(){this._super();this.M(1);this.k.setPosition(40,t.height/2);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a));a=[cc.p(0,t.height/2),cc.p(t.width-80,-t.height/2),cc.p(t.width-80,100)];a=cc.BezierBy.create(3,a);this.k.runAction(cc.RepeatForever.create(cc.Sequence.create(a,a.reverse())))},title:l("Stackable actions: MoveBy + BezierBy"),f:l("Grossini shall shake while he moves along a bezier path")}),
Jb=A.extend({onEnter:function(){this._super();this.M(1);this.k.setPosition(40,40);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a));a=[cc.p(0,0),cc.p(80,80),cc.p(t.width-80,80),cc.p(t.width-80,t.height-80),cc.p(80,t.height-80),cc.p(80,80),cc.p(t.width/2,t.height/2)];a=cc.CatmullRomBy.create(6,a);b=a.reverse();a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a))},title:l("Stackable actions: MoveBy + CatmullRomBy"),
f:l("Grossini shall shake while he moves along a CatmullRom path")}),Kb=A.extend({onEnter:function(){this._super();this.M(1);this.k.setPosition(40,40);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a));a=[cc.p(0,0),cc.p(80,80),cc.p(t.width-80,80),cc.p(t.width-80,t.height-80),cc.p(80,t.height-80),cc.p(80,80),cc.p(t.width/2,t.height/2)];a=cc.CardinalSplineBy.create(6,a,0.9);b=a.reverse();a=cc.Sequence.create(a,b);this.k.runAction(cc.RepeatForever.create(a))},
title:l("Stackable actions: MoveBy + CardinalSplineBy"),f:l("Grossini shall shake while he moves along a CardinalSpline path")}),Lb=A.extend({jf:[],onEnter:function(){this._super();this.M(2);this.s.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,360)));this.k.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,-360)));this.u.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,360)));this.schedule(this.pause,3,j,0);this.schedule(this.resume,5,j,0)},pause:function(){cc.log("Pausing");this.jf=
r.getActionManager().pauseAllRunningActions()},resume:function(){cc.log("Resuming");r.getActionManager().resumeTargets(this.jf)},title:l("PauseResumeActions"),f:l("All actions pause at 3s and resume at 5s")}),Mb=A.extend({Iw:h,onEnter:function(){this._super();this.M(0);this.me=cc.Sprite.create("res/Images/grossini.png");this.me.runAction(cc.CallFunc.create(this.Gh,this));this.scheduleOnce(this.wh,2)},onExit:function(){this._super()},Gh:function(){cc.log("This message SHALL ONLY appear when the sprite is added to the scene, NOT BEFORE")},
wh:function(){this.me.setPosition(250,250);this.addChild(this.me)},title:l("Issue 1305"),f:l("In two seconds you should see a message on the console. NOT BEFORE.")}),Nb=A.extend({onEnter:function(){this._super();this.M(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(200,200);this.addChild(a);var b=cc.MoveBy.create(2,cc.p(0,100)),c=cc.CallFunc.create(this.Hh),d=cc.MoveBy.create(2,cc.p(0,-100)),f=cc.CallFunc.create(this.Ih,this),i=cc.MoveBy.create(2,cc.p(100,-100)),m=cc.CallFunc.create(this.Jh.bind(this)),
o=cc.MoveBy.create(2,cc.p(-100,0)),q=cc.CallFunc.create(this.Kh,this),b=cc.Sequence.create(b,c,d,f,i,m,o,q);r.getActionManager().addAction(b,a,j)},Hh:function(){cc.log("1st block")},Ih:function(){cc.log("2nd block")},Jh:function(){cc.log("3rd block")},Kh:function(){cc.log("4th block")},title:l("Issue 1305 #2"),f:l("See console. You should only see one message for each block")}),Ob=A.extend({onEnter:function(){this._super();this.M(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,
100);this.addChild(a);var b=cc.MoveBy.create(0.5,cc.p(100,0)),c=b.reverse(),b=cc.Sequence.create(b,c),b=cc.Repeat.create(b,2);a.runAction(b)},title:l("Issue 1288"),f:l("Sprite should end at the position where it started.")}),Pb=A.extend({onEnter:function(){this._super();this.M(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,100);this.addChild(a);var b=cc.MoveBy.create(0.5,cc.p(100,0));a.runAction(cc.Repeat.create(b,1))},title:l("Issue 1288 #2"),f:l("Sprite should move 100 pixels, and stay there")}),
Qb=A.extend({onEnter:function(){this._super();this.M(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,100);this.addChild(a);var b=cc.CallFunc.create(this.Bc),c=cc.RotateBy.create(0.25,45),d=cc.CallFunc.create(this.Bc,this),f=cc.RotateBy.create(0.25,45),i=cc.CallFunc.create(this.Bc.bind(this)),m=cc.RotateBy.create(0.25,45),o=cc.CallFunc.create(this.Bc),q=cc.RotateBy.create(0.25,45),u=cc.CallFunc.create(this.Bc),b=cc.Sequence.create(b,c,d,f,i,m,o,q,u);a.runAction(b)},Bc:function(a){cc.log(a.getRotation())},
title:l("Issue 1327"),f:l("See console: You should see: 0, 45, 90, 135, 180")}),Rb=A.extend({onEnter:function(){this._super();this.M(2);for(var a=cc.Animation.create(),b=0;4>b;b++)for(var c=1;15>c;c++)a.addSpriteFrameWithFile("res/Images/grossini_dance_"+(10>c?"0"+c:c)+".png");a.setDelayPerUnit(1/60);a.setRestoreOriginalFrame(g);this.u.runAction(cc.Animate.create(a));a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");a=a.getAnimation("dance_1");a.setDelayPerUnit(1/
60);a=cc.Animate.create(a);this.s.runAction(cc.Sequence.create(a,a.reverse()))},title:l("Animation"),f:l("Issue 1438. Set FPS to 30 to test this bug.")}),Sb=A.extend({title:l("Sequence + Speed in 'reverse mode'"),f:l("Issue #1446. 'Hello World' should be visible for only 0.1 seconds"),onEnter:function(){this._super();this.M(0);var a=this.label=cc.LabelTTF.create("Hello World","Arial",64);a.setPosition(t.width/2,t.height/2);a.setOpacity(0);this.addChild(a);this.pe=cc.Speed.create(cc.Sequence.create(cc.DelayTime.create(2),
cc.FadeTo.create(1,255),cc.DelayTime.create(2)),1);a.runAction(this.pe);this.scheduleOnce(this.Si,0.1)},Si:function(){this.pe.getInnerAction().step(2.5);this.pe.setSpeed(-10)}}),Xa=[Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,Cb,Db,ib,jb,kb,mb,nb,rb,vb,wb,zb,sb,tb,ub,ob,pb,qb,xb,yb,Bb,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,lb,Rb,Sb];"opengl"in sys.capabilities&&Xa.push(Ab);function Va(){z++;z%=Xa.length;return new Xa[z]}function Wa(){z--;0>z&&(z+=Xa.length);return new Xa[z]};var B=-1;function C(){x.call(this,cc.o(0,0,0,255),cc.o(49,49.5,58.5,255));this.j="No title";this.q="No Subtitle";var a=cc.MenuItemFont.create("Physics On/Off",this.fi,this);a.setFontSize(24);a=cc.Menu.create(a);this.addChild(a);a.setPosition(cc._p(t.width-100,t.height-90));this.H=new cp.Space;this.wb=cc.PhysicsDebugNode.create(this.H);this.wb.setVisible(j);this.addChild(this.wb)}cc.inherits(C,x);n=C.prototype;n.fi=function(){this.wb.setVisible(!this.wb.isVisible())};
n.onEnter=function(){x.prototype.onEnter.call(this);sys.dumpRoot();sys.garbageCollect()};n.S=function(){this.unscheduleUpdate();var a=new la;a.addChild(new Tb[B]);r.replaceScene(a)};n.Q=function(){this.unscheduleUpdate();var a=new la;a.addChild(Ub());r.replaceScene(a)};n.R=function(){this.unscheduleUpdate();var a=new la;a.addChild(Vb());r.replaceScene(a)};n.W=function(){return Tb.length-1-B};n.T=function(){return B};
function Wb(){C.call(this);this.ib=function(a){this.addChild(this.createPhysicsSprite(a))};this.j="Chipmunk Sprite Test";this.q="Chipmunk + cocos2d sprites tests. Tap screen.";this.Fb()}cc.inherits(Wb,C);n=Wb.prototype;
n.Fb=function(){for(var a=this.H,b=a.staticBody,b=[new cp.SegmentShape(b,cp.v(0,0),cp.v(t.width,0),0),new cp.SegmentShape(b,cp.v(0,t.height),cp.v(t.width,t.height),0),new cp.SegmentShape(b,cp.v(0,0),cp.v(0,t.height),0),new cp.SegmentShape(b,cp.v(t.width,0),cp.v(t.width,t.height),0)],c=0;c<b.length;c++){var d=b[c];d.setElasticity(1);d.setFriction(1);a.addStaticShape(d)}a.gravity=cp.v(0,-100)};
n.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.H.addBody(b);a=new cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.H.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b);return a};n.onEnter=function(){C.prototype.onEnter.call(this);this.scheduleUpdate();for(var a=0;10>a;a++)this.ib(cp.v(t.width/2,t.height/2));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)};
n.update=function(a){this.H.step(a)};n.onMouseDown=function(a){this.ib(a.getLocation())};n.onTouchesEnded=function(a){for(var b=a.length,c=0;c<b;c++)this.ib(a[c].getLocation())};function Xb(){Wb.call(this);this.sc=cc.SpriteBatchNode.create("res/Images/grossini.png",50);this.addChild(this.sc);this.ib=function(a){this.sc.addChild(this.createPhysicsSprite(a))};this.j="Chipmunk SpriteBatch Test";this.q="Chipmunk + cocos2d sprite batch tests. Tap screen."}cc.inherits(Xb,Wb);
function Yb(){C.call(this);this.j="Chipmunk Collision test";this.q="Using Object Oriented API. ** Use this API **";this.Fb=function(){for(var a=this.H.staticBody,a=[new cp.SegmentShape(a,cp.v(0,0),cp.v(t.width,0),0),new cp.SegmentShape(a,cp.v(0,t.height),cp.v(t.width,t.height),0),new cp.SegmentShape(a,cp.v(0,0),cp.v(0,t.height),0),new cp.SegmentShape(a,cp.v(t.width,0),cp.v(t.width,t.height),0)],b=0;b<a.length;b++){var c=a[b];c.setElasticity(1);c.setFriction(1);this.H.addStaticShape(c)}this.H.gravity=
cp.v(0,-100);this.H.iterations=15};this.createPhysicsSprite=function(a,b,c){var d=new cp.Body(1,cp.momentForBox(1,48,108));d.setPos(a);this.H.addBody(d);a=new cp.BoxShape(d,48,108);a.setElasticity(0.5);a.setFriction(0.5);a.setCollisionType(c);this.H.addShape(a);b=cc.PhysicsSprite.create(b);b.setBody(d);return b};this.onEnter=function(){C.prototype.onEnter.call(this);this.Fb();this.scheduleUpdate();var a=this.createPhysicsSprite(cc.p(t.width/2,t.height-20),"res/Images/grossini.png",1),b=this.createPhysicsSprite(cc.p(t.width/
2,50),"res/Images/grossinis_sister1.png",2);this.addChild(a);this.addChild(b);this.H.addCollisionHandler(1,2,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};this.onExit=function(){this.H.removeCollisionHandler(1,2);C.prototype.onExit.call(this)};this.update=function(a){this.H.step(a)};this.collisionBegin=function(a){if(!this.Cd){var b=cc.LabelBMFont.create("Collision Detected","res/fonts/bitmapFontTest5.fnt");this.addChild(b);
b.setPosition(t.width/2,t.height/2);this.Cd=g}cc.log("collision begin");a=a.getShapes();b=a[1].collision_type;cc.log("Collision Type A:"+a[0].collision_type);cc.log("Collision Type B:"+b);return g};this.collisionPre=function(){cc.log("collision pre");return g};this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")}}cc.inherits(Yb,C);
function Zb(){C.call(this);this.Cd=j;this.j="Chipmunk Collision Test";this.q='using "C"-like API. ** DO NOT USE THIS API **';this.Fb=function(){this.H=cp.spaceNew();this.wb.setSpace(this.H);for(var a=cp.spaceGetStaticBody(this.H),a=[cp.segmentShapeNew(a,cp.v(0,0),cp.v(t.width,0),0),cp.segmentShapeNew(a,cp.v(0,t.height),cp.v(t.width,t.height),0),cp.segmentShapeNew(a,cp.v(0,0),cp.v(0,t.height),0),cp.segmentShapeNew(a,cp.v(t.width,0),cp.v(t.width,t.height),0)],b=0;b<a.length;b++){var c=a[b];cp.shapeSetElasticity(c,
1);cp.shapeSetFriction(c,1);cp.spaceAddStaticShape(this.H,c)}cp.spaceSetGravity(this.H,cp.v(0,-30))};this.createPhysicsSprite=function(a,b,c){var d=cp.bodyNew(1,cp.momentForBox(1,48,108));cp.bodySetPos(d,a);cp.spaceAddBody(this.H,d);a=cp.boxShapeNew(d,48,108);cp.shapeSetElasticity(a,0.5);cp.shapeSetFriction(a,0.5);cp.shapeSetCollisionType(a,c);cp.spaceAddShape(this.H,a);b=cc.PhysicsSprite.create(b);b.setBody(d);return b};this.onEnter=function(){C.prototype.onEnter.call(this);this.Fb();this.scheduleUpdate();
var a=this.createPhysicsSprite(cc.p(t.width/2,t.height-20),"res/Images/grossini.png",1),b=this.createPhysicsSprite(cc.p(t.width/2,50),"res/Images/grossinis_sister1.png",2);this.addChild(a);this.addChild(b);cp.spaceAddCollisionHandler(this.H,1,2,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};this.onExit=function(){cp.spaceRemoveCollisionHandler(this.H,1,2);cp.spaceFree(this.H);C.prototype.onExit.call(this)};this.update=
function(a){cp.spaceStep(this.H,a)};this.collisionBegin=function(a){if(!this.Cd){var b=cc.LabelBMFont.create("Collision Detected","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(t.width/2,t.height/2);this.Cd=g}cc.log("collision begin");cp.arbiterGetBodies(a);b=cp.arbiterGetShapes(a);a=cp.shapeGetCollisionType(b[0]);b=cp.shapeGetCollisionType(b[1]);cc.log("Collision Type A:"+a);cc.log("Collision Type B:"+b);return g};this.collisionPre=function(){cc.log("collision pre");return g};this.collisionPost=
function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")}}cc.inherits(Zb,C);
function $b(){C.call(this);this.j="Chipmunk Memory Leak Test";this.q="Testing possible memory leak on the collision handler. No visual feedback";this.collisionBegin=l(g);this.collisionPre=l(g);this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")};this.onEnter=function(){C.prototype.onEnter.call(this);for(var a=1;100>a;a++)this.H.addCollisionHandler(a,a+1,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),
this.collisionSeparate.bind(this))};this.onExit=function(){C.prototype.onExit.call(this);for(var a=1;100>a;a++)this.H.removeCollisionHandler(a,a+1)}}cc.inherits($b,C);
function ac(){C.call(this);this.j="AnchorPoint in PhysicsSprite";this.q="Tests AnchorPoint in PhysicsSprite. See animated sprites";this.onEnter=function(){C.prototype.onEnter.call(this);this.wb.setVisible(g);this.H.gravity=D(0,0);var a=this.createPhysicsSprite(cp.v(1*(t.width/4),t.height/2)),b=this.createPhysicsSprite(cp.v(2*(t.width/4),t.height/2)),c=this.createPhysicsSprite(cp.v(3*(t.width/4),t.height/2));a.setAnchorPoint(cc.p(0,0));b.setAnchorPoint(cc.p(0.5,0.5));c.setAnchorPoint(cc.p(1,1));var d=
cc.ScaleBy.create(0.5,0.5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);a.runAction(d);b.runAction(d.copy());c.runAction(d.copy());this.addChild(a);this.addChild(b);this.addChild(c);this.scheduleUpdate()}}cc.inherits(ac,C);
ac.prototype.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.H.addBody(b);a=new cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.H.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b);return a};ac.prototype.update=function(a){for(var a=a/1,b=0;1>b;b++)this.H.step(a)};
function bc(){C.call(this);this.j="Chipmunk Release Test";this.q="Space finalizer should be called";this.collisionBegin=l(g);this.collisionPre=l(g);this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")};this.onEnter=function(){C.prototype.onEnter.call(this);cc.log("OnEnter");sys.dumpRoot();sys.garbageCollect();this.H.addCollisionHandler(10,11,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};
this.onExit=function(){cc.log("OnExit");this.H=h;sys.dumpRoot();sys.garbageCollect();C.prototype.onExit.call(this)}}cc.inherits(bc,C);var D=cp.v;function dc(){C.call(this);this.wb.setVisible(g);this.scheduleUpdate()}cc.inherits(dc,C);dc.prototype.update=function(a){this.H.step(a)};function ec(a){a=a.H;a=a.addShape(new cp.SegmentShape(a.staticBody,D(0,0),D(640,0),0));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}
function fc(a){var a=a.H,b=a.addShape(new cp.SegmentShape(a.staticBody,D(0,0),D(0,480),0));b.setElasticity(1);b.setFriction(1);b.setLayers(2147483647);a=a.addShape(new cp.SegmentShape(a.staticBody,D(640,0),D(640,480),0));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}
function gc(){dc.call(this);this.q="Chipmunk Demo";this.j="Pyramid Stack";var a=this.H;a.gravity=D(0,-100);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;var b;ec(this);fc(this);for(var c=0;14>c;c++)for(var d=0;d<=c;d++)b=a.addBody(new cp.Body(1,cp.momentForBox(1,30,30))),b.setPos(D(32*d-16*c+320,540-32*c)),b=a.addShape(new cp.BoxShape(b,30,30)),b.setElasticity(0),b.setFriction(0.8);b=a.addBody(new cp.Body(10,cp.momentForCircle(10,0,15,D(0,0))));b.setPos(D(320,20));b=a.addShape(new cp.CircleShape(b,
15,D(0,0)));b.setElasticity(0);b.setFriction(0.9)}cc.inherits(gc,dc);
function hc(){function a(a,c){var d=cp.momentForBox(1,4,30),d=b.addBody(new cp.Body(1,d));d.setPos(a);d=c?new cp.BoxShape(d,30,4):new cp.BoxShape(d,4,30);b.addShape(d);d.setElasticity(0);d.setFriction(0.6)}dc.call(this);this.q="Chipmunk Demo";this.j="Pyramid Topple";var b=this.H;b.iterations=30;b.gravity=D(0,-300);b.sleepTimeThreshold=0.5;b.collisionSlop=0.5;ec(this);for(var c=0;12>c;c++)for(var d=0;d<12-c;d++){var f=D(320+45*(d-0.5*(11-c)),38*(c+0.5)-4);a(f,j);a(cp.v.add(f,D(0,17)),g);0===d&&a(cp.v.add(f,
D(-13,34)),j);d!=12-c-1?a(cp.v.add(f,D(22.5,21)),g):a(cp.v.add(f,D(13,34)),j)}}cc.inherits(hc,dc);hc.prototype.update=function(a){for(var a=a/3,b=0;3>b;b++)this.H.step(a)};
function ic(){function a(a){labels.push({text:a,ex:q})}function b(){return cp.v.add(q,M)}function c(){return cp.v.add(q,I)}function d(a){var b=o.addBody(new cp.Body(1,cp.momentForCircle(1,0,15,D(0,0))));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.CircleShape(b,15,D(0,0)));a.setElasticity(0);a.setFriction(0.7);a.group=1;return b}function f(a){var b=D(0,30),c=D(0,-30),d=o.addBody(new cp.Body(2,cp.momentForSegment(2,b,c)));d.setPos(cp.v.add(a,q));a=o.addShape(new cp.SegmentShape(d,b,c,5));a.setElasticity(0);
a.setFriction(0.7);return d}function i(a){var b=D(0,15),c=D(0,-15),d=o.addBody(new cp.Body(1,cp.momentForSegment(1,b,c)));d.setPos(cp.v.add(a,cp.v.add(q,cp.v(0,-15))));a=o.addShape(new cp.SegmentShape(d,b,c,5));a.setElasticity(0);a.setFriction(0.7);return d}function m(a){var b=o.addBody(new cp.Body(1,cp.momentForCircle(1,0,15,D(0,0))));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.CircleShape(b,15,D(0,0)));a.setElasticity(0);a.setFriction(0.7);return b}dc.call(this);this.q="Chipmunk Demo";this.j="Joints";
var o=this.H,q;o.iterations=10;o.gravity=D(0,-100);o.sleepTimeThreshold=0.5;for(var u=o.staticBody,p,s=480;0<=s;s-=120)p=o.addShape(new cp.SegmentShape(u,D(0,s),D(640,s),0)),p.setElasticity(1),p.setFriction(1),p.uh=2147483647;for(s=0;640>=s;s+=160)p=o.addShape(new cp.SegmentShape(u,D(s,0),D(s,480),0)),p.setElasticity(1),p.setFriction(1),p.uh=2147483647;var I=D(50,60),M=D(110,60);labels=[];q=D(0,0);a("Pin Joint");p=m(I);s=m(M);s.setAngle(Math.PI);o.addConstraint(new cp.PinJoint(p,s,D(15,0),D(15,0)));
q=D(160,0);a("Slide Joint");p=m(I);s=m(M);s.setAngle(Math.PI);o.addConstraint(new cp.SlideJoint(p,s,D(15,0),D(15,0),20,40));q=D(320,0);a("Pivot Joint");p=m(I);s=m(M);s.setAngle(Math.PI);o.addConstraint(new cp.PivotJoint(p,s,cp.v.add(q,D(80,60))));q=D(480,0);a("Groove Joint");p=m(I);s=m(M);o.addConstraint(new cp.GrooveJoint(p,s,D(30,30),D(30,-30),D(-30,0)));q=D(0,120);a("Damped Spring");p=m(I);s=m(M);s.setAngle(Math.PI);o.addConstraint(new cp.DampedSpring(p,s,D(15,0),D(15,0),20,5,0.3));q=D(160,120);
a("Damped Rotary Spring");p=f(I);s=f(M);o.addConstraint(new cp.PivotJoint(p,u,c()));o.addConstraint(new cp.PivotJoint(s,u,b()));o.addConstraint(new cp.DampedRotarySpring(p,s,0,3E3,60));q=D(320,120);a("Rotary Limit Joint");p=i(I);s=i(M);o.addConstraint(new cp.PivotJoint(p,u,c()));o.addConstraint(new cp.PivotJoint(s,u,b()));o.addConstraint(new cp.RotaryLimitJoint(p,s,-Math.PI/2,Math.PI/2));q=D(480,120);a("Ratchet Joint");p=i(I);s=i(M);o.addConstraint(new cp.PivotJoint(p,u,c()));o.addConstraint(new cp.PivotJoint(s,
u,b()));o.addConstraint(new cp.RatchetJoint(p,s,0,Math.PI/2));q=D(0,240);a("Gear Joint");p=f(I);s=f(M);o.addConstraint(new cp.PivotJoint(p,u,c()));o.addConstraint(new cp.PivotJoint(s,u,b()));o.addConstraint(new cp.GearJoint(p,s,0,2));q=D(160,240);a("Simple Motor");p=f(I);s=f(M);o.addConstraint(new cp.PivotJoint(p,u,c()));o.addConstraint(new cp.PivotJoint(s,u,b()));o.addConstraint(new cp.SimpleMotor(p,s,Math.PI));q=D(320,240);u=d(I);p=d(M);s=function(a){var b=o.addBody(new cp.Body(5,cp.momentForBox(5,
80,30)));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.BoxShape(b,80,30));a.setElasticity(0);a.setFriction(0.7);a.group=1;return b}(D(80,100));o.addConstraint(new cp.GrooveJoint(s,u,D(-30,-10),D(-30,-40),D(0,0)));o.addConstraint(new cp.GrooveJoint(s,p,D(30,-10),D(30,-40),D(0,0)));o.addConstraint(new cp.DampedSpring(s,u,D(-30,0),D(0,0),50,20,10));o.addConstraint(new cp.DampedSpring(s,p,D(30,0),D(0,0),50,20,10))}cc.inherits(ic,dc);
function jc(){dc.call(this);this.q="Chipmunk Demo";this.j="Balls";var a=this.H;a.iterations=60;a.gravity=D(0,-500);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;a.sleepTimeThreshold=0.5;ec(this);fc(this);var b=3,c=a.addBody(new cp.Body(b,cp.momentForBox(b,50,60)));c.setPos(D(500,100));c.setAngle(1);shape=a.addShape(new cp.BoxShape(c,50,60));shape.setFriction(0.3);shape.setElasticity(0.3);for(c=1;10>=c;c++)b=3,b=a.addBody(new cp.Body(b,cp.momentForCircle(b,0,20,D(0,0)))),b.setPos(D(200+c,45*c)),b=a.addShape(new cp.CircleShape(b,
20,D(0,0))),b.setElasticity(0.8),b.setFriction(1);a=a.addShape(new cp.SegmentShape(a.staticBody,D(100,100),D(300,200),10));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}cc.inherits(jc,dc);
function kc(){dc.call(this);this.q="Chipmunk Demo";this.j="Buoyancy";var a=this.H;a.iterations=30;a.gravity=cp.v(0,-500);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;var b=a.staticBody,c=a.addShape(new cp.SegmentShape(b,cp.v(0,0),cp.v(0,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(640,0),cp.v(640,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(0,0),cp.v(640,0),0));c.setElasticity(1);
c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(0,480),cp.v(640,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);var d=new cp.BB(20,40,420,240),c=a.addShape(new cp.SegmentShape(b,cp.v(d.l,d.b),cp.v(d.l,d.t),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(d.r,d.b),cp.v(d.r,d.t),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(d.l,d.b),cp.v(d.r,
d.b),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.BoxShape2(b,d));c.setSensor(g);c.setCollisionType(1);var b=200,c=50,d=4.2E-5*b*c,f=cp.momentForBox(d,b,c);body=a.addBody(new cp.Body(d,f));body.setPos(cp.v(270,140));body.setVel(cp.v(0,-100));body.setAngVel(1);c=a.addShape(new cp.BoxShape(body,b,c));c.setFriction(0.8);b=40;c=2*b;d=4.2E-5*b*c;f=cp.momentForBox(d,b,c);body=a.addBody(new cp.Body(d,f));body.setPos(cp.v(120,190));body.setVel(cp.v(0,-100));body.setAngVel(1);
c=a.addShape(new cp.BoxShape(body,b,c));c.setFriction(0.8);a.addCollisionHandler(1,0,h,this.ij,h,h)}cc.inherits(kc,dc);kc.prototype.update=function(a){for(var a=a/3,b=0;3>b;b++)this.H.step(a)};
kc.prototype.ij=function(a,b){for(var c=a.getShapes(),d=c[0],f=c[1],c=f.getBody(),i=d.getBB().t,m=f.getNumVerts(),d=[],o=m-1,q=0;q<m;q++){var o=c.local2World(f.getVert(o)),u=c.local2World(f.getVert(q));o.y<i&&(d.push(o.x),d.push(o.y));var p=o.y-i,s=u.y-i;0>p*s&&(o=cp.v.lerp(o,u,Math.abs(p)/(Math.abs(p)+Math.abs(s))),d.push(o.x),d.push(o.y));o=q}f=cp.areaForPoly(d);m=1.4E-4*f;i=cp.centroidForPoly(d);q=cp.v.sub(i,c.getPos());i=b.getCurrentTimeStep();c.applyImpulse(cp.v.mult(b.gravity,-m*i),q);m=cp.v.add(c.getVel(),
cp.v.mult(cp.v.perp(q),c.w));c.applyImpulse(cp.v.mult(cp.v.sub(cp.v.mult(m,Math.exp(1*-(2.8E-4*f)*i)),m),1),q);d=cp.momentForPoly(2.8E-4*f,d,cp.v.neg(c.p));c.w*=Math.exp(-d*i*(1/c.i));return g};function la(){w.call(this)}cc.inherits(la,w);la.prototype.N=function(){B=-1;this.addChild(Ub());r.replaceScene(this)};var Tb=[kc,gc,hc,ic,jc,Wb,Xb,Yb,$b,ac];"browser"!==sys.platform&&(Tb.push(Zb),Tb.push(bc));function Ub(){B++;B=B%Tb.length;return new Tb[B]}
function Vb(){B--;B<0&&(B=B+Tb.length);return new Tb[B]};var ma=w.extend({N:function(){this.addChild(new lc);r.replaceScene(this)}}),lc=cc.Layer.extend({ctor:function(){this._super();this.init();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/grossini.png"),b=cc.LayerColor.create(cc.o(255,255,0,100));this.addChild(b,-1);this.addChild(a,0,1);a.setPosition(20,150);a.runAction(cc.JumpTo.create(4,cc.p(300,48),100,4));var a=cc.FadeIn.create(1),c=cc.FadeOut.create(1),
a=cc.RepeatForever.create(cc.Sequence.create(a,c));b.runAction(a)},Jf:function(a){var b=this.getChildByTag(1);b.stopAllActions();b.runAction(cc.MoveTo.create(1,a));var c=b.getPosition(),d=a.x-c.x,a=a.y-c.y,c=57.29577951*Math.atan(d/a);0>a&&(c=0>d?180+Math.abs(c):180-Math.abs(c));b.runAction(cc.RotateTo.create(1,c))},onMouseUp:function(a){this.Jf(a.getLocation())},onTouchesEnded:function(a){0>=a.length||this.Jf(a[0].getLocation())}});var E=cc.AudioEngine.getInstance(),Fc=[{title:"Play Music",ea:function(){return new mc}},{title:"Stop Music",ea:function(){return new nc}},{title:"Pause Music",ea:function(){return new oc}},{title:"Resume Music",ea:function(){return new pc}},{title:"Rewind Music",ea:function(){return new qc}},{title:"is Music Playing",ea:function(){return new rc}},{title:"Increase Music Volume",ea:function(){return new sc}},{title:"Decrease Music Volume",ea:function(){return new tc}},{title:"Play Sound Effect",ea:function(){return new uc}},
{title:"Repeat Sound Effect",ea:function(){return new vc}},{title:"Stop Sound Effect",ea:function(){return new wc}},{title:"Unload Sound Effect",ea:function(){return new xc}},{title:"Increase Sound Effect Volume",ea:function(){return new yc}},{title:"Decrease Sound Effect Volume",ea:function(){return new zc}},{title:"Pause Sound Effect",ea:function(){return new Ac}},{title:"Resume Sound Effect",ea:function(){return new Bc}},{title:"Pause All Sound Effects",ea:function(){return new Cc}},{title:"Resume All Sound Effects",
ea:function(){return new Dc}},{title:"Stop All Sound Effects",ea:function(){return new Ec}}];
CocosDenshionTest=cc.LayerGradient.extend({fa:h,Ng:cc.p(0,0),nf:0,ctor:function(){this._super();this.init(cc.o(0,0,0,255),cc.o(148,80,120,255));this.fa=cc.Menu.create();for(var a=r.getWinSize(),b=0;b<Fc.length;b++){var c=cc.LabelTTF.create(Fc[b].title,"Arial",24),c=cc.MenuItemLabel.create(c,this.ia,this);this.fa.addChild(c,b+1E4);c.setPosition(a.width/2,a.height-(b+1)*ga)}this.nf=b;this.fa.setContentSize(cc.size(a.width,(this.nf+1)*ga));this.fa.setPosition(0,0);this.addChild(this.fa);"touches"in sys.capabilities?
this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);E.setEffectsVolume(0.5);E.setMusicVolume(0.5)},onExit:function(){this._super();cc.AudioEngine.end()},ia:function(a){a=a.getZOrder()-1E4;Fc[a].ea()},onTouchesMoved:function(a){this.gc(a[0].getDelta());return g},onMouseDragged:function(a){this.gc(a.getDelta());return g},gc:function(a){var b=this.fa.getPosition(),a=b.y+a.y;0>a&&(a=0);a>(Fc.length+1)*ga-t.height&&(a=(Fc.length+1)*ga-t.height);this.fa.setPosition(b.x,a)}});
CocosDenshionTestScene=w.extend({N:function(){E=cc.AudioEngine.getInstance();this.addChild(new CocosDenshionTest);r.replaceScene(this)}});var Gc=h;function mc(){cc.log("play background music");E.playMusic("res/Sound/background.mp3",j)}function nc(){cc.log("stop background music");E.stopMusic()}function oc(){cc.log("pause background music");E.pauseMusic()}function pc(){cc.log("resume background music");E.resumeMusic()}function qc(){cc.log("rewind background music");E.rewindMusic()}
function rc(){E.isMusicPlaying()?cc.log("background music is playing"):cc.log("background music is not playing")}function uc(){cc.log("play effect");Gc=E.playEffect("res/Sound/effect2.mp3")}function vc(){cc.log("play effect repeatly");Gc=E.playEffect("res/Sound/effect2.mp3",g)}function wc(){cc.log("stop effect");E.stopEffect(Gc)}function xc(){cc.log("unload effect");E.unloadEffect("res/Sound/effect2.mp3")}
function sc(){cc.log("add bakcground music volume");E.setMusicVolume(E.getMusicVolume()+0.1)}function tc(){cc.log("sub backgroud music volume");E.setMusicVolume(E.getMusicVolume()-0.1)}function yc(){cc.log("add effects volume");E.setEffectsVolume(E.getEffectsVolume()+0.1)}function zc(){cc.log("sub effects volume");E.setEffectsVolume(E.getEffectsVolume()-0.1)}function Ac(){cc.log("pause effect");E.pauseEffect(Gc)}function Bc(){cc.log("resume effect");E.resumeEffect(Gc)}
function Cc(){cc.log("pause all effects");E.pauseAllEffects()}function Dc(){cc.log("resume all effects");E.resumeAllEffects()}function Ec(){cc.log("stop all effects");E.stopAllEffects()};var F=1,G=2,Hc=3,H=-1,J=x.extend({ctor:function(){this._super()},title:l("No title"),f:l(""),S:function(){var a=new wa;a.addChild(new Ic[H]);r.replaceScene(a)},Q:function(){var a=new wa;a.addChild(Jc());r.replaceScene(a)},R:function(){var a=new wa;a.addChild(Kc());r.replaceScene(a)},W:function(){return Ic.length-1-H},T:function(){return H}}),Lc=J.extend({onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png"),
c=cc.Sprite.create("res/Images/grossinis_sister1.png"),d=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(t.width/4,t.height/2));b.setPosition(cc.p(3*(t.width/4),t.height/2));this.addChild(a);this.addChild(b);c.setScale(0.25);d.setScale(0.25);a.addChild(c);b.addChild(d);var d=cc.RotateBy.create(2,360),f=cc.ScaleBy.create(2,2),i=cc.DelayTime.create(0.2),c=cc.RepeatForever.create(cc.Sequence.create(d,f,i,f.reverse())),d=cc.RepeatForever.create(cc.Sequence.create(d.copy(),f.copy(),
i.copy(),f.reverse()));b.setAnchorPoint(cc.p(0,0));a.runAction(c);b.runAction(d)},title:l("anchorPoint and children"),B:4.1,O:{"0":255,1:230,2:204,3:255},P:{"0":204,1:153,2:102,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes"})},m:function(){var a=this.readPixels(t.width/4-54,t.height/2-146,5,5),b=this.readPixels(3*(t.width/4)+93,t.height/2+113,5,5);return JSON.stringify({pixel1:this.C(a,this.O,g,5)?"yes":"no",pixel2:this.C(b,this.P,g,5)?"yes":"no"})}}),Mc=J.extend({ctor:function(){this._super();
var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,t.height/2));b.setPosition(cc.p(t.width-150,t.height/2));this.addChild(a,0,2);this.addChild(b,0,3);this.schedule(this.gh,2);this.schedule(this.xf,4);this.rc=a},gh:function(){var a=this.getChildByTag(2),b=cc.RotateBy.create(1,360);a.runAction(b)},xf:function(){this.unschedule(this.xf);this.removeChildByTag(3,j)},title:l("tags"),B:1,n:aa("rc"),m:function(){return this.getChildByTag(2)}}),
Nc=J.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,t.height/2));b.setPosition(cc.p(t.width-150,t.height/2));var c=cc.RotateBy.create(2,360),d=c.reverse(),c=cc.RepeatForever.create(cc.Sequence.create(c,d)),d=c.copy();c.setTag(101);d.setTag(102);this.addChild(a,0,F);this.addChild(b,0,G);a.runAction(c);b.runAction(d);this.schedule(this.De,2)},De:function(){var a=this.getChildByTag(F),
b=this.getChildByTag(G);a.retain();b.retain();this.removeChild(a,j);this.removeChild(b,g);this.jg=this.getChildByTag(F);this.kg=this.getChildByTag(G);this.addChild(a,0,F);this.addChild(b,0,G);a.release();b.release()},title:l("remove and cleanup"),B:2.5,jg:h,kg:h,O:{"0":0,1:0,2:0,3:255},P:{"0":51,1:0,2:0,3:255},n:function(){return JSON.stringify({sp1:h,sp2:h,pixel1:"yes",pixel2:"yes"})},m:function(){var a=this.readPixels(134,164,5,5),b=this.readPixels(t.width-148,t.height/2+51,5,5);return JSON.stringify({sp1:this.jg,
sp2:this.kg,pixel1:this.C(a,this.O,j)?"yes":"no",pixel2:this.C(b,this.P,g,3)?"yes":"no"})}}),Oc=J.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister1.png"),c=cc.Sprite.create("res/Images/grossinis_sister2.png"),d=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,t.height/2));c.setPosition(cc.p(t.width-150,t.height/2));var f=cc.RotateBy.create(2,360),i=f.reverse(),f=cc.RepeatForever.create(cc.Sequence.create(f,
i)),i=f.copy(),m=f.copy(),o=f.copy();this.addChild(a,0,F);a.addChild(b,11);this.addChild(c,0,G);c.addChild(d,21);a.runAction(f);b.runAction(i);c.runAction(m);d.runAction(o);this.schedule(this.De,2)},De:function(){var a=this.getChildByTag(F),b=this.getChildByTag(G);a.retain();b.retain();this.removeChild(a,j);this.removeChild(b,g);this.Ug=a.getChildByTag(11);this.Vg=b.getChildByTag(21);this.addChild(a,0,F);this.addChild(b,0,G);a.release();b.release()},title:l("remove/cleanup with children"),B:2.1,n:function(){return JSON.stringify([h,
h])},m:function(){return JSON.stringify([this.Ug,this.Vg])}}),Pc=J.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png");this.addChild(a,0,F);this.setContentSize(cc.size(0,0));a.setPosition(cc.p(t.width/2,t.height/2));this.schedule(this.Pf,1)},Pf:function(){this.unschedule(this.Pf);var a=cc.ParticleSun.create();a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));a.setPosition(cc.p(t.width/2,t.height/2));this.runAction(cc.Sequence.create(cc.RotateBy.create(2,
360),cc.CallFunc.create(this.Wh,this)));this.addChild(a)},Wh:function(a){v?this.ig=g:(this.getParent().removeChild(a,g),this.Q(this))},title:l("stress test #1: no crashes"),B:3.2,ig:j,n:function(){return JSON.stringify({pass:g})},m:function(){return JSON.stringify({pass:this.ig})}}),Qc=J.extend({ctor:function(){this._super();var a=cc.Layer.create(),b=cc.Sprite.create("res/Images/grossinis_sister1.png");b.setPosition(cc.p(80,t.height/2));var c=cc.MoveBy.create(3,cc.p(350,0)),c=cc.EaseInOut.create(c.copy(),
2),d=c.reverse(),c=cc.Sequence.create(c,d);b.runAction(cc.RepeatForever.create(c));a.addChild(b,1);b=cc.ParticleFire.create();b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.setPosition(cc.p(80,t.height/2-50));c=c.copy();b.runAction(cc.RepeatForever.create(c));a.addChild(b,2);this.schedule(this.cg,6);this.addChild(a,0,F)},cg:function(){this.unschedule(this.cg);this.getChildByTag(F).removeAllChildren()},title:l("stress test #2: no leaks")}),Rc=J.extend({ctor:function(){this._super();
var a=cc.Sprite.create("res/Images/background3.png");this.addChild(a,5);a.setAnchorPoint(cc.p(0,0));var b=a.getContentSize(),c=cc.MenuItemImage.create("res/Images/btn-play-normal.png","res/Images/btn-play-selected.png",this.zh),d=cc.Menu.create(c);d.alignItemsVertically();d.setPosition(cc.p(b.width/2,b.height/2));a.addChild(d);d=cc.RotateBy.create(3,360);b=cc.DelayTime.create(0.3);d=cc.RepeatForever.create(cc.Sequence.create(d,b));c.runAction(d);var d=cc.MoveBy.create(3,cc.p(200,0)),f=d.reverse(),
b=cc.Sequence.create(d,b.copy(),f),b=cc.RepeatForever.create(b);a.runAction(b);this.rc=c},zh:function(){cc.log("On clicked")},title:l("nodeToParent transform"),B:3.1,n:function(){var a={a:1,b:"0.00",c:"-0.00",d:1,tx:440,ty:160};cc.renderContextType==cc.CANVAS&&(a.b="-0.00",a.c="0.00");return JSON.stringify(a)},m:function(){var a=this.rc.nodeToWorldTransform();a.b=a.b.toFixed(2);a.pf=a.pf.toFixed(2);return JSON.stringify(a)}}),Sc=J.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/background3.png");
this.addChild(a,0);a.setPosition(cc.p(t.width/2,t.height/2));a.setOpacity(128);var b=a.getContentSize(),c=cc.Sprite.create("res/Images/grossini.png");c.setScale(0.5);a.addChild(c,0);c.setPosition(cc.p(b.width/4,b.height/2));var d=cc.OrbitCamera.create(2,1,0,0,360,0,0);c.runAction(cc.RepeatForever.create(d));c=cc.Sprite.create("res/Images/grossini.png");c.setScale(1);a.addChild(c,0);c.setPosition(cc.p(2*(b.width/4),b.height/2));d=cc.OrbitCamera.create(2,1,0,0,360,45,0);c.runAction(cc.RepeatForever.create(d));
c=cc.Sprite.create("res/Images/grossini.png");c.setScale(2);a.addChild(c,0);c.setPosition(cc.p(3*(b.width/4),b.height/2));d=cc.OrbitCamera.create(2,1,0,0,360,90,-45);c.runAction(cc.RepeatForever.create(d));d=cc.OrbitCamera.create(10,1,0,0,360,0,90);a.runAction(cc.RepeatForever.create(d));this.setScale(1)},onEnter:function(){this._super();r.setProjection(cc.jc)},onExit:function(){r.setProjection(cc.qb);this._super()},title:l("Camera Orbit test")}),Tc=J.extend({ec:0,ctor:function(){this._super();var a=
cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0);a.setPosition(cc.p(t.width/4,t.height/2));"opengl"in sys.capabilities&&(a=a.getCamera(),a.bg(0,0,207.5),a.sx(0,0,0));a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,40);a.setPosition(cc.p(2*(t.width/4),t.height/2));a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,20);a.setPosition(cc.p(3*(t.width/4),t.height/2));this.ec=0;this.scheduleUpdate();this.rc=a},update:function(a){"opengl"in sys.capabilities&&(this.ec+=
100*a,a=this.getChildByTag(20),a=a.getCamera(),a.bg(0,0,this.ec),a=this.getChildByTag(40),a=a.getCamera(),a.bg(0,0,-this.ec))},onEnter:function(){this._super();r.setProjection(cc.jc)},onExit:function(){r.setProjection(cc.qb);this._super()},title:l("Camera Zoom test"),B:1.1,F:{"0":115,1:0,2:115,3:255},n:function(){return JSON.stringify([{z:this.ec.toFixed(2)},{pixel:"yes"}])},m:function(){var a={z:this.rc.getCamera().Rw().jj.toFixed(2)},b={pixel:!this.C(this.readPixels(3*(t.width/4),t.height/2,5,5),
this.F,j)?"yes":"no"};return JSON.stringify([a,b])}}),Uc=J.extend({ctor:function(){this._super();var a=cc.Sprite.create(ca);this.addChild(a,0);a.setPosition(cc.p(t.width/5,t.height/5));a.setColor(cc.Rb);a.setTextureRect(cc.rect(0,0,120,50));var b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create(ca);this.addChild(a,0,40);a.setPosition(cc.p(t.width/5,4*(t.height/5)));a.setColor(cc.We);a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,
1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create(ca);this.addChild(a,0);a.setPosition(cc.p(4*(t.width/5),t.height/5));a.setColor(cc.ie);a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create(ca);this.addChild(a,0,40);a.setPosition(cc.p(4*(t.width/5),4*(t.height/5)));a.setColor(cc.Yd);a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));
a=cc.Sprite.create(ca);this.addChild(a,0,40);a.setPosition(cc.p(t.width/2,t.height/2));a.setColor(cc.Lg);a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b))},title:l("Camera Center test"),f:l("Sprites should rotate at the same speed"),B:2.6,O:{"0":255,1:255,2:255,3:255},P:{"0":255,1:255,2:255,3:255},xa:{"0":255,1:255,2:255,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes",pixel3:"yes"})},m:function(){var a=this.readPixels(t.width/
2,t.height/2,5,5),b=this.readPixels(t.width/2-25,t.height/2,5,5),c=this.readPixels(t.width/2+20,t.height/2,5,5);return JSON.stringify({pixel1:this.C(a,this.O,j)?"yes":"no",pixel2:!this.C(b,this.P,j)?"yes":"no",pixel3:!this.C(c,this.xa,j)?"yes":"no"})}}),Vc=J.extend({ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);for(var a=cc.RotateBy.create(10,360),a=cc.RepeatForever.create(a),b=0;3>b;b++){var c=cc.Sprite.create("res/Images/grossini.png");
c.setPosition(cc.p(t.width/4*(b+1),t.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,10,100+b);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());d=a.copy();c.runAction(d);this.addChild(c,b)}},Oe:function(a){this.Rc=[];this.Sc=[];for(var b=0;3>b;b++){var c=this.getChildByTag(100+b),d=c.convertToNodeSpaceAR(a),c=c.convertToNodeSpace(a);
cc.log("AR: x="+d.x.toFixed(2)+", y="+d.y.toFixed(2)+" -- Not AR: x="+c.x.toFixed(2)+", y="+c.y.toFixed(2));this.Rc.push({x:d.x,y:d.y});this.Sc.push({x:c.x,y:c.y})}},onTouchesEnded:function(a){for(var b=0;b<a.length;b++)this.Oe(a[b].getLocation())},onMouseUp:function(a){this.Oe(a.getLocation())},title:l("Convert To Node Space"),f:l("testing convertToNodeSpace / AR. Touch and see console"),B:1,Rc:[],uc:[],Sc:[],vc:[],Ea:function(){this.uc.push({x:-t.width,y:2*-t.height});this.uc.push({x:2*-t.width,
y:2*-t.height});this.uc.push({x:3*-t.width,y:2*-t.height});this.vc.push({x:-t.width+24.5,y:2*-t.height+23.5});this.vc.push({x:2*-t.width+24.5,y:2*-t.height+23.5});this.vc.push({x:3*-t.width+24.5,y:2*-t.height+23.5})},n:function(){return cc.renderContextType==cc.CANVAS?JSON.stringify({p1:g,p2:g}):JSON.stringify({p1:this.uc,p2:this.vc})},m:function(){this.Oe(cc.p(0,0));if(cc.renderContextType==cc.CANVAS){for(var a=g,b=0;b<this.Rc.length;b++){var c=this.Rc[b],d=this.uc[b];if(!(6>=Math.abs(c.x-d.x))||
!(6>=Math.abs(c.y-d.y))){a=j;break}}for(var f=g,b=0;b<this.Sc.length;b++)if(c=this.Sc[b],d=this.vc[b],!(6>=Math.abs(c.x-d.x))||!(6>=Math.abs(c.y-d.y))){f=j;break}return JSON.stringify({p1:a,p2:f})}return JSON.stringify({p1:this.Rc,p2:this.Sc})}}),Wc=J.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a);a.setPosition(t.width/2,t.height/2);a=a.getBoundingBox();this.log("BoundingBox:");cc.log("origin = [ "+a.x+","+a.y+"]");cc.log("size = [ "+a.width+
","+a.height+"]");this.Qc=a},title:l("Bounding Box Test"),f:l("Testing getBoundingBox(). See console"),B:0.5,Qc:h,n:function(){return JSON.stringify({x:0|t.width/2-42.5,y:0|t.height/2-60.5,w:85,h:121})},m:function(){return JSON.stringify({x:0|this.Qc.x,y:0|this.Qc.y,w:this.Qc.width,h:this.Qc.height})}}),Xc=J.extend({ctor:function(){this._super();var a=cc.Layer.create();this.addChild(a,0);a.schedule(this.yf);a.unschedule(this.yf)},yf:function(){this.fg=j},title:l("cocosnode scheduler test #1"),B:0.5,
fg:g,n:l(g),m:aa("fg")}),Yc=J.extend({ctor:function(){this._super();for(var a=cc.Director.getInstance().getWinSize(),b,c=0;50>c;c++)b=cc.Sprite.create("res/Images/background1.png"),b.setBlendFunc(gl.ONE,gl.ONE_MINUS_SRC_ALPHA),b.setPosition(cc.p(a.width/2,a.height/2)),this.addChild(b)},title:l("Node Opaque Test"),f:l("Node rendered with GL_BLEND disabled")}),Zc=J.extend({ctor:function(){this._super();for(var a=cc.Director.getInstance().getWinSize(),b,c=0;50>c;c++)b=cc.Sprite.create("res/Images/background1.png"),
b.setBlendFunc(gl.ONE,gl.ZERO),b.setPosition(cc.p(a.width/2,a.height/2)),this.addChild(b)},title:l("Node Non Opaque Test"),f:l("Node rendered with GL_BLEND enabled")}),wa=w.extend({N:function(){H=-1;this.addChild(Jc());r.replaceScene(this)}}),Ic=[Lc,Mc,Nc,Oc,Pc,Qc,Rc,Xc,Wc,Vc];"opengl"in sys.capabilities&&(Ic.push(Uc),Ic.push(Sc),Ic.push(Tc),Ic.push(Yc),Ic.push(Zc));function Jc(){H++;H=H%Ic.length;return new Ic[H]}function Kc(){H--;H<0&&(H=H+Ic.length);return new Ic[H]};var K=-1,cd=x.extend({j:"",q:"",ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255))},S:function(){var a=new na;a.addChild(new $c[K]);r.replaceScene(a)},Q:function(){var a=new na;a.addChild(ad());r.replaceScene(a)},R:function(){var a=new na;a.addChild(bd());r.replaceScene(a)},W:function(){return $c.length-1-K},T:function(){return K}}),dd=cd.extend({ctor:function(){this._super();this.setAnchorPoint(cc.p(0,0))},draw:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.drawingUtil.setDrawColor4B(255,
255,255,255);cc.drawingUtil.drawLine(cc.p(0,0),cc.p(a.width,a.height));cc.drawingUtil.setDrawColor4B(255,0,0,255);cc.drawingUtil.setLineWidth(5);cc.drawingUtil.drawLine(cc.p(0,a.height),cc.p(a.width,0));cc.drawingUtil.setDrawColor4B(0,0,255,127);cc.drawingUtil.drawPoint(cc.p(a.width/2,a.height/2),40);var b=[cc.p(60,60),cc.p(70,70),cc.p(60,70),cc.p(70,60)];cc.drawingUtil.setDrawColor4B(0,255,255,255);cc.drawingUtil.drawPoints(b,4,4);cc.drawingUtil.setLineWidth(16);cc.drawingUtil.setDrawColor4B(0,255,
0,255);cc.drawingUtil.drawCircle(cc.p(a.width/2,a.height/2),100,0,10,j);cc.drawingUtil.setLineWidth(2);cc.drawingUtil.setDrawColor4B(0,255,255,255);cc.drawingUtil.drawCircle(cc.p(a.width/2,a.height/2),50,cc.DEGREES_TO_RADIANS(90),50,g);cc.drawingUtil.setDrawColor4B(255,255,0,255);cc.drawingUtil.setLineWidth(10);b=[cc.p(0,0),cc.p(50,50),cc.p(100,50),cc.p(100,100),cc.p(50,100)];cc.drawingUtil.drawPoly(b,5,j);cc.drawingUtil.setDrawColor4B(255,0,255,255);cc.drawingUtil.setLineWidth(2);b=[cc.p(30,130),
cc.p(30,230),cc.p(50,200)];cc.drawingUtil.drawPoly(b,3,g);cc.drawingUtil.drawQuadBezier(cc.p(0,a.height),cc.p(a.width/2,a.height/2),cc.p(a.width,a.height),50);cc.drawingUtil.drawCubicBezier(cc.p(a.width/2,a.height/2),cc.p(a.width/2+30,a.height/2+50),cc.p(a.width/2+60,a.height/2-50),cc.p(a.width,a.height/2),100);cc.drawingUtil.setLineWidth(1);cc.drawingUtil.setDrawColor4B(255,255,255,255)}}),ed=cd.extend({j:"cc.DrawNode",q:"Testing cc.DrawNode API",ctor:function(){this._super();var a=cc.DrawNode.create();
this.addChild(a,10);for(var b=0;10>b;b++)a.drawDot(cc.p(t.width/2,t.height/2),10*(10-b),cc.G(Math.random(),Math.random(),Math.random(),1));b=[cc.p(t.height/4,0),cc.p(t.width,t.height/5),cc.p(2*(t.width/3),t.height)];a.drawPoly(b,cc.G(1,0,0,0.5),4,cc.G(0,0,1,1));var b=80,c=20,d=50,b=[cc.p(b+c,b-d),cc.p(b+2*c,b),cc.p(b+2*c+d,b+c),cc.p(b+2*c,b+2*c),cc.p(b+c,b+2*c+d),cc.p(b,b+2*c),cc.p(b-d,b+c),cc.p(b,b)];a.drawPoly(b,cc.G(1,0,0,0.5),1,cc.G(0,0,1,1));b=180;c=20;d=50;b=[cc.p(b,b),cc.p(b+c,b-d),cc.p(b+
2*c,b),cc.p(b+2*c+d,b+c),cc.p(b+2*c,b+2*c),cc.p(b+c,b+2*c+d),cc.p(b,b+2*c),cc.p(b-d,b+c)];a.drawPoly(b,cc.G(1,0,0,0.5),1,cc.G(0,0,1,1));a.drawSegment(cc.p(20,t.height),cc.p(20,t.height/2),10,cc.G(0,1,0,1));a.drawSegment(cc.p(10,t.height/2),cc.p(t.width/2,t.height/2),40,cc.G(1,0,1,0.5))}}),na=w.extend({N:function(){K=-1;this.addChild(ad());r.replaceScene(this)}}),$c=[ed];"browser"===sys.platform&&$c.push(dd);function ad(){K++;K%=$c.length;return new $c[K]}
function bd(){K--;0>K&&(K+=$c.length);return new $c[K]};TAG_ACTION1_EASE_ACTIONS=1;TAG_ACTION2_EASE_ACTIONS=2;TAG_SLIDER_EASE_ACTIONS=1;
var L=-1,oa=w.extend({N:function(){L=-1;this.addChild(fd());r.replaceScene(this)}}),N=x.extend({k:h,s:h,u:h,j:h,ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255))},title:l("No title"),onEnter:function(){this._super();this.k=cc.Sprite.create("res/Images/grossini.png");this.s=cc.Sprite.create("res/Images/grossinis_sister1.png");this.u=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(this.k,3);this.addChild(this.u,2);this.addChild(this.s,1);this.k.setPosition(cc.p(60,
t.height/5));this.u.setPosition(cc.p(60,t.height/2));this.s.setPosition(cc.p(60,4*t.height/5));this.Te=j},S:function(){var a=new oa;a.addChild(new gd[L]);r.replaceScene(a)},Q:function(){var a=new oa;a.addChild(fd());r.replaceScene(a)},R:function(){var a=new oa;a.addChild(hd());r.replaceScene(a)},Hd:function(){this.Te=g;this.k.setPosition(cc.p(60,t.height/5));this.s.setPosition(cc.p(60,4*t.height/5));this.u.setVisible(j)},W:function(){return gd.length-1-L},T:function(){return L},B:2.05,n:function(){var a=
60+t.width-80;return JSON.stringify(this.Te?[a,a]:[a,a,a])},m:function(){var a;a=this.Te?[this.k.getPosition().x,this.s.getPosition().x]:[this.k.getPosition().x,this.s.getPosition().x,this.u.getPosition().x];return JSON.stringify(a)}}),id=N.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseIn.create(a.copy(),2),d=c.reverse(),f=cc.EaseOut.create(a.copy(),2),i=f.reverse(),m=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,m,b,m.copy()),c=cc.Sequence.create(c,
m.copy(),d,m.copy()),f=cc.Sequence.create(f,m.copy(),i,m.copy());this.k.runAction(cc.RepeatForever.create(a)).setTag(1);this.s.runAction(cc.RepeatForever.create(c)).setTag(1);this.u.runAction(cc.RepeatForever.create(f)).setTag(1);this.scheduleOnce(this.Xi,4.1)},title:l("EaseIn - EaseOut - Stop"),Xi:function(){this.s.stopActionByTag(1);this.u.stopActionByTag(1);this.k.stopActionByTag(1)},B:4.2,n:function(){return JSON.stringify([60,60,60])},m:function(){var a=[this.k.getPosition().x,this.s.getPosition().x,
this.u.getPosition().x];return JSON.stringify(a)}}),jd=N.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=cc.EaseInOut.create(a.copy(),2),c=b.reverse(),d=cc.EaseInOut.create(a.copy(),3),f=d.reverse(),a=cc.EaseInOut.create(a.copy(),4),i=a.reverse(),m=cc.DelayTime.create(0.1),b=cc.Sequence.create(b,m,c,m.copy()),d=cc.Sequence.create(d,m.copy(),f,m.copy()),f=cc.Sequence.create(a,m.copy(),i,m.copy());this.s.runAction(cc.RepeatForever.create(b));this.u.runAction(cc.RepeatForever.create(d));
this.k.runAction(cc.RepeatForever.create(f))},title:l("EaseInOut and rates")}),kd=N.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseExponentialIn.create(a.copy()),d=c.reverse(),f=cc.EaseExponentialOut.create(a.copy()),i=f.reverse(),m=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,m,b,m.copy()),c=cc.Sequence.create(c,m.copy(),d,m.copy()),f=cc.Sequence.create(f,m.copy(),i,m.copy());this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c));
this.u.runAction(cc.RepeatForever.create(f))},title:l("ExpIn - ExpOut actions")}),ld=N.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseExponentialInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Hd();this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c))},title:l("EaseExponentialInOut action")}),md=N.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseSineIn.create(a.copy()),d=c.reverse(),f=cc.EaseSineOut.create(a.copy()),i=f.reverse(),m=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,m,b,m.copy()),c=cc.Sequence.create(c,m,d,m.copy()),f=cc.Sequence.create(f,m,i,m.copy());this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c));this.u.runAction(cc.RepeatForever.create(f))},title:l("EaseSineIn - EaseSineOut")}),nd=N.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseSineInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Hd();this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c))},title:l("EaseSineInOut action")}),od=N.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseElasticIn.create(a.copy()),d=c.reverse(),
f=cc.EaseElasticOut.create(a.copy()),i=f.reverse(),m=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,m,b,m.copy()),c=cc.Sequence.create(c,m.copy(),d,m.copy()),f=cc.Sequence.create(f,m.copy(),i,m.copy());this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c));this.u.runAction(cc.RepeatForever.create(f))},title:l("Elastic In - Out actions")}),pd=N.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=cc.EaseElasticInOut.create(a.copy(),
0.3),c=b.reverse(),d=cc.EaseElasticInOut.create(a.copy(),0.45),f=d.reverse(),a=cc.EaseElasticInOut.create(a.copy(),0.6),i=a.reverse(),m=cc.DelayTime.create(0.1),b=cc.Sequence.create(b,m,c,m.copy()),d=cc.Sequence.create(d,m.copy(),f,m.copy()),f=cc.Sequence.create(a,m.copy(),i,m.copy());this.s.runAction(cc.RepeatForever.create(b));this.u.runAction(cc.RepeatForever.create(d));this.k.runAction(cc.RepeatForever.create(f))},title:l("EaseElasticInOut action")}),qd=N.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseBounceIn.create(a.copy()),d=c.reverse(),f=cc.EaseBounceOut.create(a.copy()),i=f.reverse(),m=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,m,b,m.copy()),c=cc.Sequence.create(c,m.copy(),d,m.copy()),f=cc.Sequence.create(f,m.copy(),i,m.copy());this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c));this.u.runAction(cc.RepeatForever.create(f))},title:l("Bounce In - Out actions")}),rd=N.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseBounceInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Hd();this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c))},title:l("EaseBounceInOut action")}),sd=N.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseBackIn.create(a.copy()),d=c.reverse(),
f=cc.EaseBackOut.create(a.copy()),i=f.reverse(),m=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,m,b,m.copy()),c=cc.Sequence.create(c,m.copy(),d,m.copy()),f=cc.Sequence.create(f,m.copy(),i,m.copy());this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c));this.u.runAction(cc.RepeatForever.create(f))},title:l("Back In - Out actions")}),td=N.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(t.width-80,0)),b=a.reverse(),c=cc.EaseBackInOut.create(a.copy()),
d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Hd();this.k.runAction(cc.RepeatForever.create(a));this.s.runAction(cc.RepeatForever.create(c))},title:l("EaseBackInOut action")}),ud=N.extend({onEnter:function(){this._super();var a=cc.JumpBy.create(4,cc.p(-t.width+80,0),100,4),b=a.reverse(),c=cc.RotateBy.create(4,720),d=c.reverse(),a=cc.Sequence.create(b,a),c=cc.Sequence.create(c,d),c=cc.Spawn.create(a,c),c=cc.Speed.create(cc.RepeatForever.create(c),
1);c.setTag(TAG_ACTION1_EASE_ACTIONS);d=c.copy();a=c.copy();d.setTag(TAG_ACTION1_EASE_ACTIONS);a.setTag(TAG_ACTION1_EASE_ACTIONS);this.k.runAction(d);this.s.runAction(a);this.u.runAction(c);this.schedule(this.Tg,1)},title:l("Speed action"),Tg:function(){var a=this.k.getActionByTag(TAG_ACTION1_EASE_ACTIONS),b=this.s.getActionByTag(TAG_ACTION1_EASE_ACTIONS),c=this.u.getActionByTag(TAG_ACTION1_EASE_ACTIONS);a.setSpeed(2*Math.random());b.setSpeed(2*Math.random());c.setSpeed(2*Math.random())},B:0.1,n:function(){e("Not Implemented")},
m:function(){e("Not Implemented")}}),vd=N.extend({onEnter:function(){this._super();var a=cc.JumpBy.create(4,cc.p(-t.width+80,0),100,4),b=a.reverse(),c=cc.RotateBy.create(4,720),d=c.reverse(),a=cc.Sequence.create(b,a),c=cc.Sequence.create(c,d),c=cc.Spawn.create(a,c),c=cc.RepeatForever.create(c),d=c.copy(),a=c.copy();this.k.runAction(cc.Speed.create(c,0.5));this.s.runAction(cc.Speed.create(d,1.5));this.u.runAction(cc.Speed.create(a,1));c=new cc.ParticleFireworks;c.initWithTotalParticles(250);c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.addChild(c)},title:l("Scheduler scaleTime Test"),B:0.1,n:function(){e("Not Implemented")},m:function(){e("Not Implemented")}}),gd=[id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd];function fd(){L++;L%=gd.length;return new gd[L]}function hd(){L--;0>L&&(L+=gd.length);return new gd[L]};var O=-1,P=x.extend({code:l(""),S:function(){var a=new ra;a.addChild(new wd[O]);r.replaceScene(a)},Q:function(){var a=new ra;a.addChild(xd());r.replaceScene(a)},R:function(){var a=new ra;a.addChild(yd());r.replaceScene(a)},onEnter:function(){this._super();var a=cc.Node.create();a.runAction(this.ba(3));this.addChild(a);var b=cc.LayerGradient.create(cc.o(0,0,0,255),cc.o(98,99,117,255));a.addChild(b);b=cc.Sprite.create("res/Images/background3.png");b.setPosition(cc._p(t.width/2,t.height/2));a.addChild(b);
b=cc.Sprite.create("res/Images/grossinis_sister1.png");b.setPosition(cc._p(t.width/3,t.height/2));a.addChild(b,1);var c=cc.Sprite.create("res/Images/grossinis_sister2.png");c.setPosition(cc._p(2*t.width/3,t.height/2));a.addChild(c,1);var a=cc.ScaleBy.create(2,5),d=a.reverse(),a=cc.Sequence.create(a,d),a=cc.RepeatForever.create(a);b.runAction(a);c.runAction(a.copy())},ba:function(){return cc.MoveBy.create(2,cc._p(10,10))},W:function(){return wd.length-1-O},T:function(){return O}}),zd=P.extend({title:l("Shaky 3D"),
code:l("a = cc.Shaky3D.create(duration, gridSize, range, shakeZ)"),ba:function(a){return cc.Shaky3D.create(a,cc.size(15,10),5,j)}}),Ad=P.extend({title:l("Waves 3D"),code:l("a = cc.Waves3D.create(duration, gridSize, range, shakeZ)"),ba:function(a){return cc.Waves3D.create(a,cc.size(15,10),5,40)}}),Bd=P.extend({title:l("FlipX3D"),code:l("a = cc.FlipX3D.create(duration )"),ba:function(a){var a=cc.FlipX3D.create(a),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Cd=P.extend({title:l("FlipY3D"),
code:l("a = cc.FlipY3D.create(duration )"),ba:function(a){var a=cc.FlipY3D.create(a),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Dd=P.extend({title:l("Lens3D"),code:l("a = cc.Lens3D.create(duration, gridSize, position, radius)"),ba:function(a){return cc.Lens3D.create(a,cc.size(15,10),cc._p(t.width/2,t.height/2),240)}}),Ed=P.extend({title:l("Ripple3D"),code:l("a = cc.Ripple3D.create(duration, gridSize, position, radius, waves, amplitude)"),ba:function(a){return cc.Ripple3D.create(a,
cc.size(32,24),cc._p(t.width/2,t.height/2),240,4,160)}}),Fd=P.extend({title:l("Liquid"),code:l("a = cc.Liquid.create(duration, gridSize, waves, amplitude)"),ba:function(a){return cc.Liquid.create(a,cc.size(16,12),4,20)}}),Gd=P.extend({title:l("Waves"),code:l("a = cc.Waves.create(duration, gridSize, waves, amplitude, horizontal, vertical)"),ba:function(a){return cc.Waves.create(a,cc.size(16,12),4,20,g,g)}}),Hd=P.extend({title:l("Twirl"),code:l("a = cc.Twirl.create(duration, gridSize, position, twirls, amplitude)"),
ba:function(a){return cc.Twirl.create(a,cc.size(12,8),cc.p(t.width/2,t.height/2),1,2.5)}}),Id=P.extend({title:l("ShakyTiles3D"),code:l("a = cc.ShakyTiles3D.create(duration, gridSize, range, shakeZ)"),ba:function(a){return cc.ShakyTiles3D.create(a,cc.size(16,12),5,j)}}),Jd=P.extend({title:l("ShatteredTiles3D"),code:l("a = cc.ShatteredTiles3D.create(duration, gridSize, range, shatterZ)"),ba:function(a){return cc.ShatteredTiles3D.create(a,cc.size(16,12),5,j)}}),Kd=P.extend({title:l("ShuffleTiles"),code:l("a = cc.ShuffleTiles.create(duration, gridSize, seed)"),
ba:function(a){var a=cc.ShuffleTiles.create(a,cc.size(16,12),25),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Ld=P.extend({title:l("FadeOutTRTilesTest"),code:l("a = cc.FadeOutTRTiles.create(duration, gridSize)"),ba:function(a){var a=cc.FadeOutTRTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Md=P.extend({title:l("FadeOutBLTilesTest"),code:l("a = cc.FadeOutBLTiles.create(duration, gridSize)"),ba:function(a){var a=
cc.FadeOutBLTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Nd=P.extend({title:l("FadeOutUpTilesTest"),code:l("a = cc.FadeOutUpTiles.create(duration, gridSize)"),ba:function(a){var a=cc.FadeOutUpTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Od=P.extend({title:l("FadeOutDownTilesTest"),code:l("a = cc.FadeOutDownTiles.create(duration, gridSize)"),ba:function(a){var a=cc.FadeOutDownTiles.create(a,
cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Pd=P.extend({title:l("TurnOffTiles"),code:l("a = cc.TurnOffTiles.create(duration, gridSize, seed)"),ba:function(a){var a=cc.TurnOffTiles.create(a,cc.size(48,32),25),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Qd=P.extend({title:l("WavesTiles3D"),code:l("a = cc.WavesTiles3D.create(duration, gridSize, waves, amplitude)"),ba:function(a){return cc.WavesTiles3D.create(a,cc.size(16,
12),4,120)}}),Rd=P.extend({title:l("JumpTiles3D"),code:l("a = cc.JumpTiles3D.create(duration, gridSize, jumps, amplitude)"),ba:function(a){return cc.JumpTiles3D.create(a,cc.size(16,12),2,30)}}),Sd=P.extend({title:l("SplitRows"),code:l("a = cc.SplitRows.create(duration, rows)"),ba:function(a){var a=cc.SplitRows.create(a,9),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Td=P.extend({title:l("SplitCols"),code:l("a = cc.SplitCols.create(duration, cols)"),ba:function(a){var a=
cc.SplitCols.create(a,9),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Ud=P.extend({title:l("PageTurn3D"),code:l("a = cc.PageTurn3D.create(duration, gridSize)"),ba:function(a){return cc.PageTurn3D.create(a,cc.size(15,10))}}),ra=w.extend({N:function(){O=-1;this.addChild(xd());r.replaceScene(this)}}),wd=[zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud];function xd(){O++;O%=wd.length;return new wd[O]}
function yd(){O--;0>O&&(O+=wd.length);return new wd[O]};var Q=-1,Yd=cc.Layer.extend({ctor:function(){this._super();this.init()},Ec:function(){var a=new pa;a.addChild(new Vd[Q]);r.replaceScene(a)},Ce:function(){var a=new pa;a.addChild(Wd());r.replaceScene(a)},oe:function(){var a=new pa;a.addChild(Xd());r.replaceScene(a)},title:l("Event Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",24);this.addChild(b);b.setPosition(cc.p(a.width/2,a.height-50));if((b=this.f())&&""!==b)b=cc.LabelTTF.create(b,"Thonburi",
16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80));var b=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.oe,this),c=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.Ec,this),d=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.Ce,this),f=cc.Menu.create(b,c,d);f.setPosition(cc.p(0,0));b.setPosition(cc.p(a.width/2-100,30));c.setPosition(cc.p(a.width/2,30));d.setPosition(cc.p(a.width/2+100,30));this.addChild(f,1)}}),Zd=Yd.extend({init:function(){this._super();
this.Ua={};this.Lb=[];"touches"in sys.capabilities?(this.setTouchMode(cc.Hg),this.setTouchEnabled(g)):cc.log("TOUCH-ONE-BY-ONE test is not supported on desktop");for(var a=0;5>a;a++){var b=this.Qa=cc.Sprite.create("res/Images/r2.png");this.addChild(b,a+10);b.setPosition(0,0);b.setScale(1);b.setColor(cc.D(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));this.Lb.push(b)}},f:l("Touches One by One. Touch the left / right and see console"),Be:function(a,b){var c=this.Lb.pop();this.Ua[a]=
c;c.setPosition(b)},Vd:function(a,b){this.Ua[a].setPosition(b)},Jd:function(a){var b=this.Ua[a];this.Ua[a]=h;this.Lb.push(b);b.setPosition(0,0)},onTouchBegan:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchBegan at: "+b.x+" "+b.y+" Id:"+a);return b.x<t.width/2?(this.Be(a,b),g):j},onTouchMoved:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchMoved at: "+b.x+" "+b.y+" Id:"+a);this.Vd(a,b)},onTouchEnded:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchEnded at: "+
b.x+" "+b.y+" Id:"+a);this.Jd(a,b)},onTouchCancelled:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchCancelled at: "+b.x+" "+b.y+" Id:"+a);this.Vd(a,b)}}),$d=Yd.extend({init:function(){this._super();this.Ua={};this.Lb=[];"touches"in sys.capabilities?(this.setTouchMode(cc.Gg),this.setTouchEnabled(g)):cc.log("TOUCHES not supported");for(var a=0;5>a;a++){var b=this.Qa=cc.Sprite.create("res/Images/r2.png");this.addChild(b,a+10);b.setPosition(0,0);b.setScale(1);b.setColor(cc.D(200*Math.random()+
55,200*Math.random()+55,200*Math.random()+55));this.Lb.push(b)}},f:l("Touches All At Once. Touch and see console"),Be:function(a,b){var c=this.Lb.pop();this.Ua[a]=c;c.setPosition(b)},Vd:function(a,b){this.Ua[a].setPosition(b)},Jd:function(a){var b=this.Ua[a];this.Ua[a]=h;this.Lb.push(b);b.setPosition(0,0)},onTouchesBegan:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesBegan at: "+d.x+" "+d.y+" Id:"+c);this.Be(c,d)}},onTouchesMoved:function(a){for(var b=
0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesMoved at: "+d.x+" "+d.y+" Id:"+c);this.Vd(c,d)}},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesEnded at: "+d.x+" "+d.y+" Id:"+c);this.Jd(c)}},onTouchesCancelled:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesCancelled at: "+d.x+" "+d.y+" Id:"+c);this.Jd(c)}}}),ae=Yd.extend({init:function(){this._super();
if("accelerometer"in sys.capabilities){this.setAccelerometerInterval(1/30);this.setAccelerometerEnabled(g);var a=this.Qa=cc.Sprite.create("res/Images/r2.png");this.addChild(a);a.setPosition(t.width/2,t.height/2);this.Wf=this.Vf=0}else cc.log("ACCELEROMETER not supported")},f:l("Accelerometer test. Move device and see console"),onAccelerometer:function(a){cc.log("Accel x: "+a.x+" y:"+a.y+" z:"+a.jj+" time:"+a.timestamp);var b=t.width,c=t.height,b=b*a.x+b/2,a=c*a.y+c/2,b=0.2*b+0.8*this.Vf,a=0.2*a+0.8*
this.Wf;this.Vf=b;this.Wf=a;this.Qa.setPosition(b,a)}}),be=Yd.extend({init:function(){this._super();var a=this.Qa=cc.Sprite.create("res/Images/r2.png");this.addChild(a);a.setPosition(0,0);a.setScale(1);a.setColor(cc.D(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));"mouse"in sys.capabilities?this.setMouseEnabled(g):cc.log("MOUSE Not supported")},f:l("Mouse test. Move mouse and see console"),onMouseDown:function(a){a=a.getLocation();cc.log("onMouseDown at: "+a.x+" "+a.y);this.Qa.setPosition(a)},
onMouseDragged:function(a){a=a.getLocation();cc.log("onMouseDragged at: "+a.x+" "+a.y);this.Qa.setPosition(a)},onMouseUp:function(a){a=a.getLocation();this.Qa.setPosition(a);cc.log("onMouseUp at: "+a.x+" "+a.y)},onRightMouseDown:function(a){a=a.getLocation();this.Qa.setPosition(a);cc.log("onRightMouseDown at: "+a.x+" "+a.y)}}),ce=Yd.extend({init:function(){this._super();"keyboard"in sys.capabilities?this.setKeyboardEnabled(g):cc.log("KEYBOARD Not supported")},f:l("Keyboard test. Press keyboard and see console"),
onKeyUp:function(a){cc.log("Key up:"+a)},onKeyDown:function(a){cc.log("Key down:"+a)},cx:function(a){cc.log("Key flags changed:"+a)}}),pa=w.extend({N:function(){Q=-1;this.addChild(Wd());r.replaceScene(this)}}),Vd=[Zd,$d,ae,be,ce];function Wd(){Q++;Q%=Vd.length;return new Vd[Q]}function Xd(){Q--;0>Q&&(Q+=Vd.length);return new Vd[Q]};var R=-1,ge=x.extend({j:"",q:"",ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255))},S:function(){var a=new sa;a.addChild(new de[R]);r.replaceScene(a)},Q:function(){var a=new sa;a.addChild(ee());r.replaceScene(a)},R:function(){var a=new sa;a.addChild(fe());r.replaceScene(a)},W:function(){return de.length-1-R},T:function(){return R}}).extend({j:"Testing FilenameLookup ",q:"You should see a grossini on the screen",ctor:function(){this._super();var a=sys.platform;"mobile"==a?cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-mobile.plist"):
"desktop"==a?cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-desktop.plist"):cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-html5.plist");var b=cc.Sprite.create("grossini.bmp");this.addChild(b);b.setPosition(t.width/2,t.height/2);v&&(this.mh="mobile"==a?"grossini_pvr_rgba4444.pvr":"desktop"==a?"grossini_pvr_rgba8888.pvr":"grossini.png")},n:aa("mh"),m:function(){return cc.FileUtils.getInstance().fullPathForFilename("grossini.bmp").replace(/^.*(\\|\/|\:)/,"")}}),sa=
w.extend({N:function(){R=-1;this.addChild(ee());r.replaceScene(this)}}),de=[ge];function ee(){R++;R%=de.length;return new de[R]}function fe(){R--;0>R&&(R+=de.length);return new de[R]};var S=0,he="Verdana;Lucida Sans Unicode;Bookman Old Style;Symbol;Georgia;Trebuchet MS;Comic Sans MS;Arial Black;Tahoma;Impact;American Typewriter;Marker Felt;A Damn Mess;Abberancy;Abduction;Paint Boy;Schwarzwald;Scissor Cuts".split(";");function ie(){S++;S%=he.length;return he[S]}function je(){S--;0>S&&(S+=he.length);return he[S]}FontTestScene=w.extend({N:function(){this.addChild(FontTest.create());r.replaceScene(this)}});
FontTest=x.extend({ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255));this.Ld(he[S])},Ld:function(a){this.removeChildByTag(550,g);this.removeChildByTag(551,g);this.removeChildByTag(552,g);this.removeChildByTag(553,g);var b=r.getWinSize(),c=cc.LabelTTF.create(a,a,24),d=cc.LabelTTF.create("alignment left",a,32,cc.size(b.width,50),cc.Fa),f=cc.LabelTTF.create("alignment center",a,32,cc.size(b.width,50),cc.za),a=cc.LabelTTF.create("alignment right",a,32,cc.size(b.width,50),cc.ub);c.setPosition(b.width/
2,3*b.height/4);d.setPosition(b.width/2,b.height/2);f.setPosition(b.width/2,3*b.height/8);a.setPosition(b.width/2,b.height/4);this.addChild(d,0,550);this.addChild(a,0,551);this.addChild(f,0,552);this.addChild(c,0,553)},R:function(){this.Ld(je())},S:function(){this.Ld(he[S])},Q:function(){this.Ld(ie())},f:l("Font test"),title:function(){return""+he[S]},W:function(){return he.length-1-S},T:function(){return S}});FontTest.create=function(){return new FontTest};IntervalLayer=cc.LayerGradient.extend({wd:h,xd:h,yd:h,zd:h,Ad:h,Pd:h,Qd:h,Rd:h,Sd:h,Td:h,ctor:function(){this._super();this.init(cc.o(0,0,0,255),cc.o(98,99,117,255));this.Pd=this.Qd=this.Rd=this.Sd=this.Td=0;var a=r.getWinSize(),b=cc.ParticleSun.create();b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.setPosition(a.width-32,a.height-32);b.setTotalParticles(130);b.setLife(0.6);this.addChild(b);this.wd=cc.LabelTTF.create("0","Arial",24);this.xd=cc.LabelTTF.create("0","Arial",
24);this.yd=cc.LabelTTF.create("0","Arial",24);this.zd=cc.LabelTTF.create("0","Arial",24);this.Ad=cc.LabelTTF.create("0","Arial",24);this.scheduleUpdate();this.schedule(this.Oi);this.schedule(this.Pi,0);this.schedule(this.Qi,1);this.schedule(this.Ri,2);this.wd.setPosition(1*a.width/6,a.height/2);this.xd.setPosition(2*a.width/6,a.height/2);this.yd.setPosition(3*a.width/6,a.height/2);this.zd.setPosition(4*a.width/6,a.height/2);this.Ad.setPosition(5*a.width/6,a.height/2);this.addChild(this.wd);this.addChild(this.xd);
this.addChild(this.yd);this.addChild(this.zd);this.addChild(this.Ad);b=cc.Sprite.create("res/Images/grossini.png");b.setPosition(40,50);var c=cc.JumpBy.create(3,cc.p(a.width-80,0),50,4);this.addChild(b);b.runAction(cc.RepeatForever.create(cc.Sequence.create(c,c.reverse())));b=cc.MenuItemFont.create("Pause",this.Je,this);b=cc.Menu.create(b);b.setPosition(a.width/2,a.height-50);this.addChild(b)},Je:function(){r.isPaused()?r.resume():r.pause()},onExit:function(){r.isPaused()&&r.resume();this._super()},
Oi:function(a){this.Qd+=a;this.xd.setString(this.Qd.toFixed(1))},Pi:function(a){this.Rd+=a;this.yd.setString(this.Rd.toFixed(1))},Qi:function(a){this.Sd+=a;this.zd.setString(this.Sd.toFixed(1))},Ri:function(a){this.Td+=a;this.Ad.setString(this.Td.toFixed(1))},update:function(a){this.Pd+=a;this.wd.setString(this.Pd.toFixed(1))}});IntervalTestScene=w.extend({N:function(){this.addChild(new IntervalLayer);r.replaceScene(this)}});var ke=-1,ta=w.extend({N:function(){ke=-1;this.addChild(le());r.replaceScene(this)}}),T=x.extend({title:l("No title"),f:l(""),S:function(){var a=new ta;a.addChild(new me[ke]);r.replaceScene(a)},Q:function(){var a=new ta;a.addChild(le());r.replaceScene(a)},R:function(){var a=new ta;a.addChild(ne());r.replaceScene(a)},W:function(){return me.length-1-ke},T:function(){return ke}}),oe=T.extend({time:h,ctor:function(){this._super();this.time=0;var a=cc.LabelAtlas.create("123 Test","res/fonts/tuffy_bold_italic-charmap.plist");
this.addChild(a,0,660);a.setPosition(cc.p(10,100));a.setOpacity(200);a=cc.LabelAtlas.create("0123456789","res/fonts/tuffy_bold_italic-charmap.plist");this.addChild(a,0,661);a.setPosition(cc.p(10,200));a.setOpacity(32);this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+" Test";this.getChildByTag(660).setString(a);this.getChildByTag(661).setString(parseInt(this.time,10).toString())},title:l("LabelAtlas Opacity"),f:l("Updating label should be fast"),n:function(){return JSON.stringify([200,
32])},m:function(){var a=[],b=[660,661],c;for(c in b)a.push(this.getChildByTag(b[c]).getOpacity());return JSON.stringify(a)}}),pe=T.extend({time:h,ctor:function(){this._super();var a=cc.LabelAtlas.create("123 Test","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,660);a.setPosition(cc.p(10,100));a.setOpacity(200);a=cc.LabelAtlas.create("0123456789","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,661);a.setPosition(cc.p(10,200));a.setColor(cc.D(255,0,0));
var b=cc.FadeOut.create(1),c=b.reverse(),d=cc.DelayTime.create(0.25),b=cc.Sequence.create(b,d,c,d.copy()),b=cc.RepeatForever.create(b);a.runAction(b);this.time=0;this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+" Test";this.getChildByTag(660).setString(a);this.getChildByTag(661).setString(parseInt(this.time,10).toString())},title:l("LabelAtlas Opacity Color"),f:l("Opacity + Color should work at the same time"),B:1,n:function(){return JSON.stringify([200,{r:255,g:255,
b:255},0,{r:255,g:0,b:0}])},m:function(){var a=[],b=[660,661],c;for(c in b){var d=b[c];a.push(this.getChildByTag(d).getOpacity());a.push(this.getChildByTag(d).getColor())}return JSON.stringify(a)}}),qe=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelAtlas.create("TESTING RETINA DISPLAY","res/fonts/larabie-16.plist");b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:l("LabelAtlas with Retina Display"),f:l("loading larabie-16 / larabie-16-hd"),
F:{"0":255,1:255,2:255,3:255},n:function(){r.getWinSize();return JSON.stringify({center:"yes"})},m:function(){var a=r.getWinSize(),a={center:this.C(this.readPixels(a.width/2,a.height/2,100,100),this.F)?"yes":"no"};return JSON.stringify(a)}}),re=T.extend({time:0,ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.o(128,128,128,255)),-10);var a=cc.LabelBMFont.create("Test","res/fonts/bitmapFontTest2.fnt");a.setAnchorPoint(cc.p(0,0));this.addChild(a,0,1);var b=cc.FadeOut.create(1),c=
b.reverse(),b=cc.Sequence.create(b,cc.DelayTime.create(0.25),c),c=cc.RepeatForever.create(b);a.runAction(c);b=cc.LabelBMFont.create("Test","res/fonts/bitmapFontTest2.fnt");b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.Rb);this.addChild(b,0,2);b.runAction(c.copy());c=cc.LabelBMFont.create("Test","res/fonts/bitmapFontTest2.fnt");c.setAnchorPoint(cc.p(1,1));this.addChild(c,0,3);var d=r.getWinSize();a.setPosition(cc.p(0,0));b.setPosition(cc.p(d.width/2,d.height/2));c.setPosition(cc.p(d.width,d.height));
this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+"Test j";this.getChildByTag(1).setString(a);this.getChildByTag(2).setString(a);this.getChildByTag(3).setString(a)},title:l("cc.LabelBMFont"),f:l("Testing alignment. Testing opacity + tint"),B:1.1,n:function(){return JSON.stringify([0,{r:255,g:255,b:255},0,{r:255,g:0,b:0}])},m:function(){var a=[],b=[1,2],c;for(c in b){var d=b[c];a.push(this.getChildByTag(d).getOpacity());a.push(this.getChildByTag(d).getColor())}return JSON.stringify(a)}}),
se=T.extend({time:h,ctor:function(){this._super();this.time=0;var a=cc.LabelBMFont.create("Bitmap Font Atlas","res/fonts/bitmapFontTest.fnt");this.we=a;this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a.setAnchorPoint(cc.p(0.5,0.5));var c=a.getChildByTag(0),d=a.getChildByTag(7),a=a.getChildByTag(12);if(v)var f=cc.JumpBy.create(0.5,cc.p(0,0),60,1),f=cc.RepeatForever.create(cc.Sequence.create(f,cc.DelayTime.create(0.25))),i=cc.FadeOut.create(0.5),m=cc.RotateBy.create(0.5,
180),m=cc.RepeatForever.create(cc.Sequence.create(m,cc.DelayTime.create(0.25),m.copy())),o=cc.ScaleBy.create(0.5,1.5);else f=cc.JumpBy.create(4,cc.p(0,0),60,1),f=cc.RepeatForever.create(f),i=cc.FadeOut.create(1),m=cc.RotateBy.create(2,360),m=cc.RepeatForever.create(m),o=cc.ScaleBy.create(2,1.5);var q=o.reverse(),o=cc.Sequence.create(o,cc.DelayTime.create(0.25),q),o=cc.RepeatForever.create(o),q=cc.FadeIn.create(1),i=cc.Sequence.create(i,cc.DelayTime.create(0.25),q),i=cc.RepeatForever.create(i);c.runAction(m);
c.runAction(o);d.runAction(f);a.runAction(i);c=cc.LabelBMFont.create("00.0","res/fonts/bitmapFontTest.fnt");this.addChild(c,0,2);c.setPosition(cc.p(b.width/2,80));c.getChildByTag(3).runAction(m.copy());this.schedule(this.step,0.1)},step:function(a){this.time+=a;a=this.time.toFixed(1);this.getChildByTag(2).setString(10>a?"0"+a:a)},draw:function(){var a=r.getWinSize();cc.drawingUtil.setDrawColor4B(255,0,0,255);cc.drawingUtil.drawLine(cc.p(0,a.height/2),cc.p(a.width,a.height/2));cc.drawingUtil.drawLine(cc.p(a.width/
2,0),cc.p(a.width/2,a.height))},title:l("cc.LabelBMFont BMFontSubSpriteTest"),f:l("Using fonts as cc.Sprite objects. Some characters should rotate."),B:0.6,n:function(){return JSON.stringify({rotate:180,scale:1.5,opacity:0})},m:function(){var a=this.we.getChildByTag(0).getScale(),b=this.we.getChildByTag(0).getRotation(),c=this.we.getChildByTag(12).getOpacity();return JSON.stringify({rotate:b,scale:a,opacity:c})}}),te=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create("abcdefg","res/fonts/bitmapFontTest4.fnt");
this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a.setAnchorPoint(cc.p(0.5,0.5))},title:l("cc.LabelBMFont BMFontPaddingTest"),f:l("Testing padding"),F:{"0":255,1:255,2:255,3:255},n:function(){r.getWinSize();return JSON.stringify({center:"yes"})},m:function(){var a=r.getWinSize(),a={center:this.C(this.readPixels(a.width/2,a.height/2,100,100),this.F)?"yes":"no"};return JSON.stringify(a)}}),ue=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=h,b=cc.LabelBMFont.create("FaFeFiFoFu",
"res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2+50));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("fafefifofu","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("aeiou","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2-50));b.setAnchorPoint(cc.p(0.5,0.5))},title:l("cc.LabelBMFont"),f:l("Rendering should be OK. Testing offset"),
F:{"0":150,1:150,2:150,3:255},n:function(){return JSON.stringify({top:"yes",center:"yes",bottom:"yes"})},m:function(){var a=r.getWinSize(),b=this.readPixels(a.width/2,a.height/2-50,50,50),c=this.readPixels(a.width/2,a.height/2,50,50),a=this.readPixels(a.width/2,a.height/2+50,50,50);return JSON.stringify({top:this.C(b,this.F,g,140)?"yes":"no",center:this.C(c,this.F,g,140)?"yes":"no",bottom:this.C(a,this.F,g,140)?"yes":"no"})}}),ve=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=h,b=
cc.LabelBMFont.create("Blue","res/fonts/bitmapFontTest5.fnt");b.setColor(cc.D(0,0,255));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("Red","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,2*a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.D(255,0,0));b=cc.LabelBMFont.create("G","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,3*a.height/4));b.setAnchorPoint(cc.p(0.5,
0.5));b.setColor(cc.D(0,255,0));b.setString("Green")},title:l("cc.LabelBMFont BMFontTintTest"),f:l("Testing color"),O:{"0":0,1:0,2:255,3:255},P:{"0":255,1:0,2:0,3:255},xa:{"0":0,1:255,2:0,3:255},n:function(){return JSON.stringify({left:"yes",center:"yes",right:"yes"})},m:function(){var a=r.getWinSize(),b=this.readPixels(a.width/2,a.height/4,50,50),c=this.readPixels(a.width/2,2*a.height/4,50,50),a=this.readPixels(a.width/2,3*a.height/4,50,50);return JSON.stringify({left:this.C(b,this.O,g,100)?"yes":
"no",center:this.C(c,this.P,g,100)?"yes":"no",right:this.C(a,this.xa,g,100)?"yes":"no"})}}),we=T.extend({ctor:function(){this._super();for(var a=0;100>a;a++){var b=cc.LabelBMFont.create("-"+a+"-","res/fonts/bitmapFontTest.fnt");this.addChild(b);var c=r.getWinSize(),c=cc.p(Math.random()*c.width,Math.random()*c.height);b.setPosition(c);b.setAnchorPoint(cc.p(0.5,0.5))}},title:l("cc.LabelBMFont"),f:l("Creating several cc.LabelBMFont with the same .fnt file should be fast")}),xe=T.extend({ctor:function(){this._super();
var a,b=cc.LabelBMFont.create("Multi line\nLeft","res/fonts/bitmapFontTest3.fnt");b.setAnchorPoint(cc.p(0,0));this.addChild(b,0,1);a=b.getContentSize();cc.log("content size:"+a.width+","+a.height);var c=cc.LabelBMFont.create("Multi line\nCenter","res/fonts/bitmapFontTest3.fnt");c.setAnchorPoint(cc.p(0.5,0.5));this.addChild(c,0,2);a=c.getContentSize();cc.log("content size:"+a.width+","+a.height);var d=cc.LabelBMFont.create("Multi line\nRight\nThree lines Three","res/fonts/bitmapFontTest3.fnt");d.setAnchorPoint(cc.p(1,
1));this.addChild(d,0,3);a=d.getContentSize();cc.log("content size:"+a.width+","+a.height);a=r.getWinSize();b.setPosition(cc.p(0,0));c.setPosition(cc.p(a.width/2,a.height/2));d.setPosition(cc.p(a.width,a.height))},title:l("cc.LabelBMFont BMFontMultiLineTest"),f:l("Multiline + anchor point"),F:{"0":255,1:186,2:33,3:255},n:function(){r.getWinSize();return JSON.stringify({left:"yes",center:"yes",right:"yes"})},m:function(){var a=r.getWinSize(),b=this.readPixels(0,0,100,100),c=this.readPixels(a.width/
2,a.height/2,100,100),a=this.readPixels(a.width-100,a.height-100,100,100);return JSON.stringify({left:this.C(b,this.F)?"yes":"no",center:this.C(c,this.F)?"yes":"no",right:this.C(a,this.F)?"yes":"no"})}}),ye=T.extend({ctor:function(){this._super();var a,b=cc.LabelBMFont.create("Multi line\n\nAligned to the left","res/fonts/bitmapFontTest3.fnt");b.setAnchorPoint(cc.p(0,0));b.setAlignment(cc.Fa);b.setWidth(400);this.addChild(b,0,1);a=b.getContentSize();cc.log("content size:"+a.width+","+a.height);var c=
cc.LabelBMFont.create("Error\n\nSome error message","res/fonts/bitmapFontTest3.fnt");c.setAnchorPoint(cc.p(0.5,0.5));c.setAlignment(cc.za);c.setWidth(290);this.addChild(c,0,2);a=c.getContentSize();cc.log("content size:"+a.width+","+a.height);var d=cc.LabelBMFont.create("Multi line\n\nAligned to the right","res/fonts/bitmapFontTest3.fnt");d.setAnchorPoint(cc.p(1,1));d.setAlignment(cc.ub);d.setWidth(400);this.addChild(d,0,3);a=d.getContentSize();cc.log("content size:"+a.width+","+a.height);a=r.getWinSize();
b.setPosition(cc.p(0,0));c.setPosition(cc.p(a.width/2,a.height/2));d.setPosition(cc.p(a.width,a.height))},title:l("cc.LabelBMFont BMFontMultiLine2Test"),f:l("Multiline with 2 new lines. All characters should appear"),F:{"0":255,1:186,2:33,3:255},n:function(){r.getWinSize();return JSON.stringify({left:"yes",center:"yes",right:"yes"})},m:function(){var a=r.getWinSize(),b=this.readPixels(0,0,100,100),c=this.readPixels(a.width/2,a.height/2,100,100),a=this.readPixels(a.width-100,a.height-100,100,100);
return JSON.stringify({left:this.C(b,this.F)?"yes":"no",center:this.C(c,this.F)?"yes":"no",right:this.C(a,this.F)?"yes":"no"})}}),ze=T.extend({Kd:h,ctor:function(){this._super();var a=cc.LabelBMFont.create("","res/fonts/bitmapFontTest3.fnt");this.addChild(a,0,1);a.setPosition(t.width/2,t.height-100);a=cc.LabelTTF.create("","Arial",24);this.addChild(a,0,2);a.setPosition(t.width/2,t.height/2);a=cc.LabelAtlas.create("","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,3);a.setPosition(t.width/
2,100);this.schedule(this.ki,1);this.Kd=j},ki:function(){var a=this.getChildByTag(1),b=this.getChildByTag(2),c=this.getChildByTag(3);this.Kd?(a.setString(""),b.setString(""),c.setString(""),this.Kd=j):(a.setString("not empty"),b.setString("not empty"),c.setString("hi"),this.Kd=g)},title:l("Testing empty labels"),f:l("3 empty labels: LabelAtlas, LabelTTF and LabelBMFont")}),Ae=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("TESTING RETINA DISPLAY","res/fonts/konqa32.fnt");
this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:l("Testing Retina Display BMFont"),f:l("loading arista16 or arista16-hd"),F:{"0":255,1:255,2:255,3:255},n:function(){r.getWinSize();return JSON.stringify({center:"yes"})},m:function(){var a=r.getWinSize(),a={center:this.C(this.readPixels(a.width/2,a.height/2,100,100),this.F)?"yes":"no"};return JSON.stringify(a)}}),Be=T.extend({ctor:function(){this._super();var a=r.getWinSize();this.addChild(cc.LayerColor.create(cc.o(128,128,128,255)),
-10);var b=cc.LabelBMFont.create("Testing Glyph Designer","res/fonts/futura-48.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:l("Testing Glyph Designer"),f:l("You should see a font with shawdows and outline"),F:{"0":240,1:201,2:108,3:255},n:function(){r.getWinSize();return JSON.stringify({center:"yes"})},m:function(){var a=r.getWinSize(),a={center:this.C(this.readPixels(a.width/2,a.height/2,100,100),this.F)?"yes":"no"};return JSON.stringify(a)}}),Ce=T.extend({fd:h,gd:h,jd:h,
ctor:function(){this._super();this.fj()},fj:function(){var a=cc.size(400,200),b=r.getWinSize(),c=cc.D(255,0,0),d=cc.D(255,255,0),f=cc.D(0,0,255),i=cc.size(10,10),m=b.width/2-a.width/2,b=b.height/7,o={fontName:"Arial",fontSize:32};o.Cf=cc.za;o.Df=cc.Za;o.Ff=c;o.Ef=a;o.Ji=g;o.Ki=i;this.fd=cc.LabelTTF.wf("Shadow Only",o);this.fd.setAnchorPoint(cc.p(0,0));this.fd.setPosition(cc.p(m,b));o={fontName:"Arial",fontSize:32};o.Cf=cc.za;o.Df=cc.Za;o.Ff=f;o.Ef=a;o.Ti=g;o.strokeColor=d;this.gd=cc.LabelTTF.wf("Stroke Only",
o);this.gd.setAnchorPoint(cc.p(0,0));this.gd.setPosition(cc.p(m,2*b));d={fontName:"Arial",fontSize:32};d.Cf=cc.za;d.Df=cc.Za;d.Ff=f;d.Ef=a;d.Ti=g;d.strokeColor=c;d.Ji=g;d.Ki=i;this.jd=cc.LabelTTF.wf("Stroke + Shadow",d);this.jd.setAnchorPoint(cc.p(0,0));this.jd.setPosition(cc.p(m,3*b));this.addChild(this.fd);this.addChild(this.gd);this.addChild(this.jd)},title:l("Testing cc.LabelTTF + shadow and stroke"),f:l("")}),De=T.extend({yb:h,Vb:h,dc:h,ctor:function(){this._super();var a=cc.size(200,160),b=
r.getWinSize(),c=cc.LayerColor.create(cc.o(100,100,100,255),a.width,a.height);c.setAnchorPoint(cc.p(0,0));c.setPosition(cc.p((b.width-a.width)/2,(b.height-a.height)/2));this.addChild(c);cc.MenuItemFont.setFontSize(30);a=cc.Menu.create(cc.MenuItemFont.create("Left",this.Di,this),cc.MenuItemFont.create("Center",this.Ci,this),cc.MenuItemFont.create("Right",this.Fi,this));a.alignItemsVerticallyWithPadding(4);a.setPosition(cc.p(50,b.height/2-20));this.addChild(a);a=cc.Menu.create(cc.MenuItemFont.create("Top",
this.Gi,this),cc.MenuItemFont.create("Middle",this.Ei,this),cc.MenuItemFont.create("Bottom",this.Bi,this));a.alignItemsVerticallyWithPadding(4);a.setPosition(cc.p(b.width-50,b.height/2-20));this.addChild(a);this.yb=h;this.Vb=cc.Fa;this.dc=cc.Za;this.Mb()},Mb:function(){var a=cc.size(200,160),b=r.getWinSize();this.yb&&this.yb.removeFromParent();this.yb=cc.LabelTTF.create(this.oh(),"Arial",32,a,this.Vb,this.dc);this.yb.setAnchorPoint(cc.p(0,0));this.yb.setPosition(cc.p((b.width-a.width)/2,(b.height-
a.height)/2));this.addChild(this.yb)},Di:function(){this.Vb=cc.Fa;this.Mb()},Ci:function(){this.Vb=cc.za;this.Mb()},Fi:function(){this.Vb=cc.ub;this.Mb()},Gi:function(){this.dc=cc.Za;this.Mb()},Ei:function(){this.dc=cc.he;this.Mb()},Bi:function(){this.dc=cc.ge;this.Mb()},oh:function(){var a=h,b=h;switch(this.dc){case cc.Za:a="Top";break;case cc.he:a="Middle";break;case cc.ge:a="Bottom"}switch(this.Vb){case cc.Fa:b="Left";break;case cc.za:b="Center";break;case cc.ub:b="Right"}return"Alignment "+a+
" "+b},title:l("Testing cc.LabelTTF"),f:l("Select the buttons on the sides to change alignment")}),Ee=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("word wrap \"testing\" (bla0) bla1 'bla2' [bla3] (bla4) {bla5} {bla6} [bla7] (bla8) [bla9] 'bla0' \"bla1\"","Arial",32,cc.size(a.width/2,200),cc.za,cc.Za);b.setPosition(cc.p(a.width/2,150));this.addChild(b)},title:l("Testing cc.LabelTTF Word Wrap"),f:l("Word wrap using cc.LabelTTF"),F:{"0":255,1:255,2:255,3:255},n:function(){r.getWinSize();
return JSON.stringify({center:"yes"})},m:function(){var a={center:this.C(this.readPixels(r.getWinSize().width/2,125,100,100),this.F)?"yes":"no"};return JSON.stringify(a)}}),Fe=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("\u4e2d\u56fd","Microsoft Yahei",30);b.setPosition(cc.p(a.width/2,2*(a.height/3)));this.addChild(b);b=cc.LabelTTF.create("string from native:"+b.getString(),"Microsoft Yahei",30);b.setPosition(cc.p(a.width/2,a.height/3));this.addChild(b)},title:l("Testing cc.LabelTTF with Chinese character")}),
Ge=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("\u4e2d\u56fd","res/fonts/bitmapFontChinese.fnt");b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b)},title:l("Testing cc.LabelBMFont with Chinese character"),F:{"0":255,1:0,2:142,3:255},n:function(){r.getWinSize();return JSON.stringify({center:"yes"})},m:function(){var a=r.getWinSize(),a={center:this.C(this.readPixels(a.width/2,a.height/2,100,100),this.F)?"yes":"no"};return JSON.stringify(a)}}),He=T.extend({ra:h,
va:h,Da:h,ye:h,xe:h,ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=r.getWinSize();this.ra=cc.LabelBMFont.create("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","res/fonts/markerFelt.fnt",a.width/2,cc.za,cc.p(0,0));this.va=cc.Sprite.create("res/Images/arrowsBar.png");this.Da=cc.Sprite.create("res/Images/arrows.png");cc.MenuItemFont.setFontSize(20);
var b=cc.MenuItemFont.create("Long Flowing Sentences",this.Le,this),c=cc.MenuItemFont.create("Short Sentences With Intentional Line Breaks",this.Le,this),d=cc.MenuItemFont.create("Long Sentences Mixed With Intentional Line Breaks",this.Le.bind(this)),f=cc.Menu.create(b,c,d);f.alignItemsVertically();b.setColor(cc.D(255,0,0));this.ye=b;b.setTag(0);c.setTag(1);d.setTag(2);cc.MenuItemFont.setFontSize(30);var b=cc.MenuItemFont.create("Left",this.Ee,this),c=cc.MenuItemFont.create("Center",this.Ee,this),
d=cc.MenuItemFont.create("Right",this.Ee.bind(this)),i=cc.Menu.create(b,c,d);i.alignItemsHorizontallyWithPadding(50);c.setColor(cc.D(255,0,0));this.xe=c;b.setTag(0);c.setTag(1);d.setTag(2);this.ra.setPosition(cc.p(a.width/2,a.height/2));this.va.setVisible(j);this.va.setScaleX(0.25*a.width/this.va.getContentSize().width);this.va.setAnchorPoint(cc.p(0,0.5));this.va.setPosition(cc.p(0.7*a.width,this.ra.getPosition().y));this.Da.setPosition(this.va.getPosition());f.setPosition(cc.p(a.width/2,a.height-
50));i.setPosition(cc.p(a.width/2,65));this.addChild(this.ra);this.addChild(this.va);this.addChild(this.Da);this.addChild(f);this.addChild(i)},title:l(""),f:l(""),Le:function(a){a.setColor(cc.D(255,0,0));this.ye.setColor(cc.D(255,255,255));this.ye=a;switch(a.getTag()){case 0:this.ra.setString("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.");break;case 1:this.ra.setString("Lorem ipsum dolor\nsit amet\nconsectetur adipisicing elit\nblah\nblah");
break;case 2:this.ra.setString("ABC\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt\nDEF")}this.dg()},Ee:function(a){a.setColor(cc.D(255,0,0));this.xe.setColor(cc.D(255,255,255));this.xe=a;switch(a.getTag()){case 0:this.ra.setAlignment(cc.Fa);break;case 1:this.ra.setAlignment(cc.za);break;case 2:this.ra.setAlignment(cc.ub)}this.dg()},onTouchesBegan:function(a){a=a[0].getLocation();cc.Id(this.Da.getBoundingBox(),a)&&this.va.setVisible(g)},onTouchesEnded:function(){this.va.setVisible(j)},
onTouchesMoved:function(a){var a=a[0].getLocation(),b=r.getWinSize();this.Da.setPosition(cc.p(Math.max(Math.min(a.x,0.95*b.width),0.7*b.width),this.Da.getPosition().y));this.ra.setWidth(2*Math.abs(this.Da.getPosition().x-this.ra.getPosition().x))},onMouseDown:function(a){a=a.getLocation();cc.Id(this.Da.getBoundingBox(),a)&&this.va.setVisible(g)},onMouseDragged:function(a){var a=a.getLocation(),b=r.getWinSize();this.Da.setPosition(cc.p(Math.max(Math.min(a.x,0.95*b.width),0.7*b.width),this.Da.getPosition().y));
this.ra.setWidth(2*Math.abs(this.Da.getPosition().x-this.ra.getPosition().x))},onMouseUp:function(){this.va.setVisible(j)},dg:function(){var a=r.getWinSize();this.Da.setPosition(cc.p(0.7*a.width,this.va.getPosition().y))}}),Ie=T.extend({ctor:function(){this._super();var a=r.getWinSize();this.addChild(cc.LayerColor.create(cc.o(128,128,128,255)),-10);var b=cc.LabelTTF.create("Testing A8 Format","Arial",48);this.addChild(b);b.setColor(cc.D(255,0,0));b.setPosition(cc.p(a.width/2,a.height/2));var a=cc.FadeOut.create(2),
c=cc.FadeIn.create(2),a=cc.Sequence.create(a,c),a=cc.RepeatForever.create(a);b.runAction(a)},title:l("Testing A8 Format"),f:l("RED label, fading In and Out in the center of the screen")}),Je=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("This is Helvetica","res/fonts/helvetica-32.fnt",cc.rg,cc.Fa,cc.p(0,0));this.addChild(b);b.setPosition(cc.p(a.width/2,2*a.height/3));b=cc.LabelBMFont.create("And this is Geneva","res/fonts/geneva-32.fnt",cc.rg,cc.Fa,cc.p(0,128));
this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/3))},title:l("cc.LabelBMFont with one texture"),f:l("Using 2 .fnt definitions that share the same texture atlas.")}),Ke=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create("Buen d\u00eda","res/fonts/arial-unicode-26.fnt",200,cc.Fa);this.addChild(a);a.setPosition(t.width/2,t.height/4);a=cc.LabelBMFont.create("\u7f8e\u597d\u7684\u4e00\u5929","res/fonts/arial-unicode-26.fnt");this.addChild(a);a.setPosition(t.width/2,t.height/2.2);
a=cc.LabelBMFont.create("\u826f\u3044\u4e00\u65e5\u3092","res/fonts/arial-unicode-26.fnt");this.addChild(a);a.setPosition(t.width/2,t.height/1.5)},title:l("cc.LabelBMFont with Unicode support"),f:l("You should see 3 different labels: In Spanish, Chinese and Korean")}),Le=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create();a.setFntFile("res/fonts/helvetica-32.fnt");a.setString("It is working!");this.addChild(a);a.setPosition(t.width/2,t.height/2)},title:l("cc.LabelBMFont init"),f:l("Test for support of init method without parameters.")}),
Me=T.extend({ctor:function(){this._super();var a=cc.LabelTTF.create();a.setFontName("Courier New");a.setFontSize(48);a.setString("It is working!");this.addChild(a);a.setPosition(t.width/2,t.height/2)},title:l("cc.LabelTTF init"),f:l("Test for support of init method without parameters.")}),Ne=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Alignment 0\nnew line","Arial",12,cc.size(256,32),cc.Fa);b.setPosition(cc.p(a.width/2,2*(a.height/6)));b.setAnchorPoint(cc.p(0.5,
0.5));this.addChild(b);b=cc.LabelTTF.create("Alignment 1\nnew line","Arial",12,cc.size(256,32),cc.za);b.setPosition(cc.p(a.width/2,3*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b=cc.LabelTTF.create("Alignment 2\nnew line","Arial",12,cc.size(256,32),cc.ub);b.setPosition(cc.p(a.width/2,4*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b)},title:l("cc.LabelTTF alignment"),f:l("Tests alignment values"),n:function(){return JSON.stringify([{r:255,g:255,b:0},{r:255,g:0,b:0},
{r:0,g:255,b:0},{r:0,g:0,b:255},{r:255,g:255,b:0}])},m:function(){for(var a=[],b=0;5>b;b++){var c=this.label.getChildByTag(b).ph();a.push(c)}return JSON.stringify(a)}}),Oe=T.extend({ctor:function(){this._super();this.label=cc.LabelBMFont.create("YRGB","res/fonts/konqa32.fnt");this.addChild(this.label);this.label.setPosition(t.width/2,t.height/2);this.label.setColor(cc.ie);var a=this.label.getChildByTag(1);a.setColor(cc.Rb);a=this.label.getChildByTag(2);a.setColor(cc.Yd);a=this.label.getChildByTag(3);
a.setColor(cc.We);this.scheduleUpdate();this.hb=0},update:function(a){this.hb+=a;this.label.setString("YRGB "+parseInt(this.hb,10).toString())},title:l("cc.LabelBMFont color parent / child"),f:l("Yellow Red Green Blue and numbers in Yellow"),n:function(){return JSON.stringify([{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:255,b:0},{r:0,g:0,b:255},{r:255,g:255,b:0}])},m:function(){for(var a=[],b=0;5>b;b++){var c=this.label.getChildByTag(b).ph();a.push(c)}return JSON.stringify(a)}}),me=[oe,pe,qe,re,se,te,
ue,ve,we,xe,ye,He,Je,Ke,Le,Oe,Ae,Be,Ge,De,Ee,Fe,Ie,Me,Ne,ze];"browser"!=sys.platform&&me.push(Ce);function le(){ke++;ke%=me.length;return new me[ke]}function ne(){ke--;0>ke&&(ke+=me.length);return new me[ke]};cc.TAG_LAYER=1;
var Pe=-1,ua=w.extend({N:function(){Pe=-1;this.addChild(Qe());r.replaceScene(this)}}),Te=x.extend({j:h,title:l("No title"),f:l(""),S:function(){var a=new ua;a.addChild(new Re[Pe]);r.replaceScene(a)},Q:function(){var a=new ua;a.addChild(Qe());r.replaceScene(a)},R:function(){var a=new ua;a.addChild(Se());r.replaceScene(a)},W:function(){return Re.length-1-Pe},T:function(){return Pe}}),Ue=Te.extend({onEnter:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&
this.setMouseEnabled(g);var a=r.getWinSize(),b=cc.LayerColor.create(cc.o(255,0,0,128),200,200);b.ignoreAnchorPointForPosition(j);b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b,1,cc.TAG_LAYER)},title:l("ColorLayer resize (tap & move)"),ng:function(a){a=cc.size(2*Math.abs(a.x-t.width/2),2*Math.abs(a.y-t.height/2));this.getChildByTag(cc.TAG_LAYER).setContentSize(a)},onMouseDragged:function(a){this.ng(a.getLocation());return g},onTouchesMoved:function(a){this.ng(a[0].getLocation())},F:{"0":190,
1:0,2:0,3:128},n:function(){r.getWinSize();return JSON.stringify({center:"yes"})},m:function(){var a=r.getWinSize(),a={center:this.C(this.readPixels(a.width/2,a.height/2,5,5),this.F,g,100)?"yes":"no"};return JSON.stringify(a)}}),Ve=Te.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.o(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(g);var c=cc.LayerColor.create(cc.o(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(g);
b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:l("ignore Anchorpoint Test #1"),f:l("red:true  green:true"),O:{"0":100,1:150,2:100,3:200},P:{"0":100,1:50,2:50,3:200},n:function(){r.getWinSize();return JSON.stringify({big:"yes",small:"yes"})},m:function(){var a=r.getWinSize(),b=this.readPixels(a.width/2+a.width/5,a.height/2+a.height/5,5,5),a=this.readPixels(a.width-50,a.height-50,50,50);return JSON.stringify({big:this.C(b,this.O,g,100)?"yes":"no",small:this.C(a,this.P,g,100)?
"yes":"no"})}}),We=Te.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.o(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(g);var c=cc.LayerColor.create(cc.o(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(j);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:l("ignore Anchorpoint Test #2"),f:l("red:true  green:false"),O:{"0":50,1:100,2:50,3:200},P:{"0":100,1:50,2:50,3:200},n:function(){r.getWinSize();
return JSON.stringify({big:"yes",small:"yes"})},m:function(){var a=r.getWinSize(),b=this.readPixels(a.width/2-50,a.height/2-50,5,5),a=this.readPixels(a.width-50,a.height-50,5,5);return JSON.stringify({big:this.C(b,this.O,g,100)?"yes":"no",small:this.C(a,this.P,g,100)?"yes":"no"})}}),Xe=Te.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.o(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(j);var c=cc.LayerColor.create(cc.o(100,255,100,128),
a.width/4,a.height/4);c.ignoreAnchorPointForPosition(j);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:l("ignore Anchorpoint Test #3"),f:l("red:false  green:false")}),Ye=Te.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.o(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(j);var c=cc.LayerColor.create(cc.o(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(g);b.addChild(c);b.setPosition(a.width/
2,a.height/2);this.addChild(b)},title:l("ignore Anchorpoint Test #4"),f:l("red:false  green:true")}),Ze=Te.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.o(255,255,0,80),100,300);b.setPosition(cc.p(a.width/3,a.height/2));b.ignoreAnchorPointForPosition(j);this.addChild(b,1,1);var c=cc.LayerColor.create(cc.o(0,0,255,255),100,300);c.setPosition(cc.p(2*(a.width/3),a.height/2));c.ignoreAnchorPointForPosition(j);this.addChild(c,2,2);var d=cc.TintBy.create(2,-255,
-127,0),f=d.reverse(),a=cc.FadeOut.create(2),i=a.reverse();v?(d=cc.Sequence.create(d,cc.DelayTime.create(0.25),f),a=cc.Sequence.create(a,cc.DelayTime.create(0.25),i)):(d=cc.Sequence.create(d,f),a=cc.Sequence.create(a,i));b.runAction(d);c.runAction(a)},title:l("ColorLayer: fade and tint"),B:2.1,Xa:{r:0,g:128,b:60},n:function(){r.getWinSize();return JSON.stringify({tint:"yes",opacity:0})},m:function(){r.getWinSize();var a=this.getChildByTag(1).getColor(),b=this.getChildByTag(2).getOpacity();return JSON.stringify({tint:50>
(0<a.r-this.Xa.r?a.r-this.Xa.r:-1*(a.r-this.Xa.r))&&50>(0<a.g-this.Xa.g?a.g-this.Xa.g:-1*(a.g-this.Xa.g))&&90>(0<a.b-this.Xa.b?a.b-this.Xa.b:-1*(a.b-this.Xa.b))?"yes":"no",opacity:b})}}),$e=Te.extend({ed:g,ctor:function(){this._super();var a=cc.LayerColor.create(cc.o(255,255,255,80)),b=cc.Sprite.create("res/Images/grossinis_sister1.png"),c=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(b);this.addChild(c);this.addChild(a,100,cc.TAG_LAYER);b.setPosition(cc.p(160,t.height/2));c.setPosition(cc.p(320,
t.height/2));this.schedule(this.Th,1);this.ed=g},Th:function(){var a=this.getChildByTag(cc.TAG_LAYER),b,c;this.ed?(b=gl.SRC_ALPHA,c=gl.ONE_MINUS_SRC_ALPHA):(b=gl.ONE_MINUS_DST_COLOR,c=gl.ZERO);a.setBlendFunc(b,c);this.ed=!this.ed},title:l("ColorLayer: blend")}),af=Te.extend({ab:j,ctor:function(){this._super();this.addChild(cc.LayerGradient.create(cc.o(255,0,0,255),cc.o(0,255,0,255),cc.p(0.9,0.9)),0,cc.TAG_LAYER);"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
var a=cc.LabelTTF.create("Compressed Interpolation: Enabled","Marker Felt",26),b=cc.LabelTTF.create("Compressed Interpolation: Disabled","Marker Felt",26),a=cc.MenuItemLabel.create(a),b=cc.MenuItemLabel.create(b),b=cc.MenuItemToggle.create(a,b,this.gi,this),b=cc.Menu.create(b);this.addChild(b);b.setPosition(cc.p(t.width/2,100))},Ue:function(a){a=cc.pSub(cc.p(t.width/2,t.height/2),a);a=cc.pNormalize(a);this.getChildByTag(1).setVector(a)},onTouchesBegan:function(a){this.ab=g;this.Ue(a[0].getLocation())},
onTouchesMoved:function(a){this.ab&&this.Ue(a[0].getLocation())},onTouchesEnded:function(){this.ab=j},onMouseDragged:function(a){this.Ue(a.getLocation());return g},gi:function(){var a=this.getChildByTag(cc.TAG_LAYER);a.setCompressedInterpolation(!a.isCompressedInterpolation())},title:l("LayerGradient"),f:l("Touch the screen and move your finger"),O:{"0":255,1:0,2:0,3:255},P:{"0":0,1:255,2:0,3:255},n:function(){r.getWinSize();return JSON.stringify({bottomleft:"yes",topright:"yes"})},m:function(){var a=
r.getWinSize(),b=this.readPixels(50,50,50,50),a=this.readPixels(a.width-50,a.height-50,50,50);return JSON.stringify({bottomleft:this.C(b,this.O)?"yes":"no",topright:this.C(a,this.P)?"yes":"no"})}}),Re=[Ue,Ze,$e,af,Ve,We,Xe,Ye];function Qe(){Pe++;Pe%=Re.length;return new Re[Pe]}function Se(){Pe--;0>Pe&&(Pe+=Re.length);return new Re[Pe]};var bf=cc.Layer.extend({ctor:function(){this._super();this.init()},init:function(){this._super();cc.MenuItemFont.setFontSize(30);cc.MenuItemFont.setFontName("Courier New");"touches"in sys.capabilities||"browser"==sys.platform?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,46,115,23)),b=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,23,115,23)),c=cc.Sprite.create("res/Images/menuitemsprite.png",
cc.rect(0,0,115,23)),b=cc.MenuItemSprite.create(a,b,c,this.ia,this),c=cc.MenuItemImage.create("res/Images/SendScoreButton.png","res/Images/SendScoreButtonPressed.png",this.Ie,this),a=cc.LabelAtlas.create("0123456789","res/fonts/fps_images.png",16,24,"."),a=cc.MenuItemLabel.create(a,this.Ph,this);a.setDisabledColor(cc.D(32,32,64));a.setColor(cc.D(200,200,255));var d=cc.MenuItemFont.create("I toggle enable items",this.Qh,this);d.setFontSize(20);cc.MenuItemFont.setFontName("Marker Felt");var f=cc.LabelBMFont.create("configuration",
"res/fonts/bitmapFontTest3.fnt"),f=cc.MenuItemLabel.create(f,this.Oh,this);f.setScale(0.8);var i=cc.MenuItemFont.create("Priority Test",this.Sh,this),m=cc.MenuItemFont.create("Quit",this.Nf,this);m.setColor(cc.D(255,255,255));var o=cc.TintBy.create(0.5,0,-255,-255),q=o.reverse(),o=cc.Sequence.create(o,q);m.runAction(cc.RepeatForever.create(o));b=cc.Menu.create(b,c,a,d,f,i,m);b.alignItemsVertically();c=r.getWinSize();f=b.getChildren();for(i=0;i<f.length&&f[i]!==h;i++)d=f[i],m=d.getPosition(),o=c.width/
2+50,0===i%2&&(o=-o),d.setPosition(cc.p(m.x+o,m.y)),d.runAction(cc.EaseElasticOut.create(cc.MoveBy.create(2,cc.p(m.x-o,0)),0.35));this.Ra=a;this.Ra.setEnabled(j);this.addChild(b)},registerWithTouchDispatcher:function(){r.getTouchDispatcher().addTargetedDelegate(this,cc.Ob+1,g)},onTouchBegan:l(g),ia:function(){this.getParent().switchTo(1)},Oh:function(){this.getParent().switchTo(3)},xh:function(){r.getTouchDispatcher().setPriority(cc.Ob+1,this);this.unscheduleAllCallbacks();cc.log("TOUCHES ALLOWED AGAIN")},
Ph:function(){r.getTouchDispatcher().setPriority(cc.Ob-1,this);this.schedule(this.xh,5);cc.log("TOUCHES DISABLED FOR 5 SECONDS")},Qh:function(){this.Ra.setEnabled(!this.Ra.isEnabled())},Ie:function(){this.getParent().switchTo(2)},Sh:function(){this.getParent().switchTo(4)},Nf:function(){cc.log("Quit called")}}),cf=cc.Layer.extend({ke:h,cd:j,ctor:function(){this._super();this.init()},init:function(){this._super();for(var a=0;2>a;a++){var b=cc.MenuItemImage.create("res/Images/btn-play-normal.png","res/Images/btn-play-selected.png",
this.ia,this),c=cc.MenuItemImage.create("res/Images/btn-highscores-normal.png","res/Images/btn-highscores-selected.png",this.Rh,this),d=cc.MenuItemImage.create("res/Images/btn-about-normal.png","res/Images/btn-about-selected.png",this.Nh,this);b.setScaleX(1.5);c.setScaleX(0.5);d.setScaleX(0.5);b=cc.Menu.create(b,c,d);b.setTag(77771);b.setPosition(cc.p(r.getWinSize().width/2,r.getWinSize().height/2));this.addChild(b,0,100+a);this.ke=b.getPosition()}this.cd=g;this.of()},of:function(){for(var a,b=0;2>
b;b++){var c=this.getChildByTag(100+b);c.setPosition(this.ke);0===b?(c.alignItemsHorizontally(),a=c.getPosition(),c.setPosition(cc.pAdd(a,cc.p(0,30)))):(c.alignItemsHorizontallyWithPadding(40),a=c.getPosition(),c.setPosition(cc.pSub(a,cc.p(0,30))))}},Sg:function(){for(var a,b=0;2>b;b++){var c=this.getChildByTag(100+b);c.setPosition(this.ke);0===b?(c.alignItemsVertically(),a=c.getPosition(),c.setPosition(cc.pAdd(a,cc.p(100,0)))):(c.alignItemsVerticallyWithPadding(40),a=c.getPosition(),c.setPosition(cc.pSub(a,
cc.p(100,0))))}},ia:function(){this.getParent().switchTo(0)},Rh:function(a){a=a.getParent();128==a.getOpacity()?a.setOpacity(255):a.setOpacity(128)},Nh:function(){(this.cd=!this.cd)?this.of():this.Sg()}}),df=cc.Layer.extend({Ra:h,ctor:function(){this._super();this.init()},init:function(){this._super();cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(28);var a=cc.LabelBMFont.create("Enable AtlasItem","res/fonts/bitmapFontTest3.fnt"),a=cc.MenuItemLabel.create(a,this.Ie,this),b=
cc.MenuItemFont.create("--- Go Back ---",this.ia,this),c=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,46,115,23)),d=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,23,115,23)),f=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,0,115,23));this.Ra=c=cc.MenuItemSprite.create(c,d,f,this.Mh,this);this.Ra.setEnabled(j);d=cc.Menu.create(a,b,c);d.setPosition(cc.p(0,0));f=r.getWinSize();a.setPosition(cc.p(f.width/2-150,f.height/2));b.setPosition(cc.p(f.width/2-200,f.height/
2));c.setPosition(cc.p(f.width/2,f.height/2-100));f=cc.JumpBy.create(3,cc.p(400,0),50,4);b.runAction(cc.RepeatForever.create(cc.Sequence.create(f,f.reverse())));var f=cc.RotateBy.create(3,360),i=f.copy(),m=f.copy();a.runAction(cc.RepeatForever.create(f));b.runAction(cc.RepeatForever.create(i));c.runAction(cc.RepeatForever.create(m));this.addChild(d);d.setPosition(cc.p(0,0))},ia:function(){this.getParent().switchTo(0)},Ie:function(){this.Ra.setEnabled(!this.Ra.isEnabled());this.Ra.stopAllActions()},
Mh:k()}),ef=cc.Layer.extend({ctor:function(){this._super();this.init()},init:function(){this._super();cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var a=cc.MenuItemFont.create("Sound");a.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var b=cc.MenuItemToggle.create(cc.MenuItemFont.create("On"),cc.MenuItemFont.create("Off"));b.setCallback(this.ia,this);cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);
var c=cc.MenuItemFont.create("Music");c.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var d=cc.MenuItemToggle.create(cc.MenuItemFont.create("Off"),cc.MenuItemFont.create("On"),this.ia.bind(this));cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var f=cc.MenuItemFont.create("Quality");f.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var i=cc.MenuItemToggle.create(cc.MenuItemFont.create("High"),
cc.MenuItemFont.create("Low"),this.ia,this);cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var m=cc.MenuItemFont.create("Orientation");m.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var o=cc.MenuItemToggle.create(cc.MenuItemFont.create("Off"),cc.MenuItemFont.create("33%"),cc.MenuItemFont.create("66%"),cc.MenuItemFont.create("100%"),this.ia,this);o.setSelectedIndex(2);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);
var q=cc.LabelBMFont.create("go back","res/fonts/bitmapFontTest3.fnt"),q=cc.MenuItemLabel.create(q,this.R,this),a=cc.Menu.create(a,c,b,d,f,m,i,o,q);a.alignItemsInColumns(2,2,2,2,1);this.addChild(a);b=r.getWinSize();a.setPosition(b.width/2,b.height/2)},ia:function(){cc.log("Callback called")},R:function(){this.getParent().switchTo(0)}}),ff=cc.Layer.extend({eb:h,oc:h,ld:j,ctor:function(){this._super();this.init();this.eb=cc.Menu.create();this.oc=cc.Menu.create();cc.MenuItemFont.setFontName("Marker Felt");
cc.MenuItemFont.setFontSize(18);var a=cc.MenuItemFont.create("Return to Main Menu",this.ia,this),b=cc.MenuItemFont.create("Disable menu for 5 seconds",this.Ch,this);this.eb.addChild(a);this.eb.addChild(b);this.eb.alignItemsVerticallyWithPadding(2);this.addChild(this.eb);this.ld=g;cc.MenuItemFont.setFontSize(48);a=cc.MenuItemFont.create("Toggle priority",this.ii,this);a.setColor(cc.D(0,0,255));this.oc.addChild(a);this.addChild(this.oc)},ia:function(){this.getParent().switchTo(0)},Ch:function(){this.eb.setEnabled(j);
var a=cc.DelayTime.create(5),b=cc.CallFunc.create(this.Dh,this);this.eb.runAction(cc.Sequence.create(a,b))},Dh:function(){this.eb.setEnabled(g)},ii:function(){this.ld?(this.oc.setHandlerPriority(cc.Ob+20),this.ld=j):(this.oc.setHandlerPriority(cc.Ob-20),this.ld=g)}}),va=w.extend({N:function(){var a=new bf,b=new cf,c=new df,d=new ef,f=new ff;this.addChild(cc.LayerMultiplex.create(a,b,c,d,f),0);r.replaceScene(this)}});var gf=-1,xa=w.extend({N:function(){gf=-1;this.addChild(hf());r.replaceScene(this)}});cc.GLNode=cc.Node.extend({draw:function(a){this._super(a)}});cc.GLNode.create=function(){var a=new cc.GLNode;a.init();return a};
var U=x.extend({k:h,s:h,u:h,da:h,ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255))},title:l("OpenGLTest"),f:l(""),R:function(){var a=new xa;a.addChild(jf());r.replaceScene(a)},S:function(){var a=new xa;a.addChild(new kf[gf]);r.replaceScene(a)},Q:function(){var a=new xa;a.addChild(hf());r.replaceScene(a)},W:function(){return kf.length-1-gf},T:function(){return gf}}),lf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=t.width,b=t.height,c=cc.LayerColor.create(cc.o(0,
0,255,255)),d=cc.LayerColor.create(cc.o(255,0,0,255)),f=cc.LayerColor.create(cc.o(0,255,0,255)),i=cc.LayerColor.create(cc.o(255,255,255,255));c.setScale(0.5);c.setPosition(-a/4,-b/4);d.setScale(0.5);d.setPosition(a/4,-b/4);f.setScale(0.5);f.setPosition(-a/4,b/4);i.setScale(0.5);i.setPosition(a/4,b/4);this.addChild(c,10);this.addChild(i,11);this.addChild(f,12);this.addChild(d,13)}},title:l("gl.ReadPixels()"),f:l("Tests ReadPixels. See console"),n:function(){return JSON.stringify([{"0":255,1:0,2:0,
3:255},{"0":0,1:255,2:0,3:255},{"0":0,1:0,2:255,3:255},{"0":255,1:255,2:255,3:255}])},m:function(){var a=t.width,b=t.height,c=new Uint8Array(4),d=new Uint8Array(4),f=new Uint8Array(4),i=new Uint8Array(4);gl.readPixels(0,0,1,1,gl.RGBA,gl.UNSIGNED_BYTE,f);gl.readPixels(a-1,0,1,1,gl.RGBA,gl.UNSIGNED_BYTE,c);gl.readPixels(0,b-1,1,1,gl.RGBA,gl.UNSIGNED_BYTE,d);gl.readPixels(a-1,b-1,1,1,gl.RGBA,gl.UNSIGNED_BYTE,i);return JSON.stringify([c,d,f,i])}}),mf=U.extend({ctor:function(){this._super();if("opengl"in
sys.capabilities){this.addChild(cc.LayerColor.create(cc.o(0,0,255,255)),1);var a=new cc.GLNode;a.init();a.draw=function(){gl.clear(gl.COLOR_BUFFER_BIT)};this.addChild(a,10);a.setPosition(t.width/2,t.height/2)}},title:l("gl.clear(gl.COLOR_BUFFER_BIT)"),f:l("Testing gl.clear() with cc.GLNode"),n:function(){return JSON.stringify({"0":0,1:0,2:0,3:255})},m:function(){var a=this.readPixels(t.width/2,t.height/2,1,1);return JSON.stringify(a)}}),nf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=
this.compileShader("\n#ifdef GL_ES\nprecision mediump float;\n#endif\nvarying vec4 vColor;\nvoid main(void) {\n gl_FragColor = vColor;\n}\n","fragment"),b=this.compileShader("\nattribute vec3 aVertexPosition;\nattribute vec4 aVertexColor;\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nvarying vec4 vColor;\nvoid main(void) {\n gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n vColor = aVertexColor;\n}\n","vertex"),c=this.Ma=gl.createProgram();gl.attachShader(c,b);gl.attachShader(c,
a);gl.linkProgram(c);gl.getProgramParameter(c,gl.LINK_STATUS)||e("Could not initialise shaders");gl.useProgram(c);c.Xd=gl.getAttribLocation(c,"aVertexPosition");gl.enableVertexAttribArray(c.Xd);c.Wd=gl.getAttribLocation(c,"aVertexColor");gl.enableVertexAttribArray(c.Wd);c.Tf=gl.getUniformLocation(c,"uPMatrix");c.Lf=gl.getUniformLocation(c,"uMVMatrix");this.wc();a=cc.GLNode.create();this.addChild(a,10);a.draw=function(){this.Ed=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.Kf=new Float32Array([1,
0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);gl.useProgram(this.Ma);gl.uniformMatrix4fv(this.Ma.Tf,j,this.Ed);gl.uniformMatrix4fv(this.Ma.Lf,j,this.Kf);gl.enableVertexAttribArray(this.Ma.Xd);gl.enableVertexAttribArray(this.Ma.Wd);gl.bindBuffer(gl.ARRAY_BUFFER,this.Wa);gl.vertexAttribPointer(this.Ma.Xd,this.Wa.Hb,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.Md);gl.vertexAttribPointer(this.Ma.Wd,this.Md.Hb,gl.FLOAT,j,0,0);this.Ii();gl.drawArrays(gl.TRIANGLE_STRIP,0,this.Wa.yc);gl.bindBuffer(gl.ARRAY_BUFFER,
this.Tc);gl.vertexAttribPointer(this.Ma.Xd,this.Tc.Hb,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ud);gl.vertexAttribPointer(this.Ma.Wd,this.Ud.Hb,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLES,0,this.Tc.yc);gl.bindBuffer(gl.ARRAY_BUFFER,h)}.bind(this)}},Ii:function(){gl.uniformMatrix4fv(this.Ma.Tf,j,this.Ed);gl.uniformMatrix4fv(this.Ma.Lf,j,this.Kf)},wc:function(){var a=this.Tc=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);var b=[0,1,0,-1,-1,0,1,-1,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),
gl.STATIC_DRAW);a.Hb=3;a.yc=3;a=this.Ud=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);b=[1,0,0,1,1,0,0,1,1,0,0,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW);a.Hb=4;a.yc=3;a=this.Wa=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);b=[1,1,0,-1,1,0,1,-1,0,-1,-1,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW);a.Hb=3;a.yc=4;a=this.Md=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);b=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),
gl.STATIC_DRAW);a.Hb=4;a.yc=4;gl.bindBuffer(gl.ARRAY_BUFFER,h)},compileShader:function(a,b){var c;c="fragment"==b?gl.createShader(gl.FRAGMENT_SHADER):gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(c,a);gl.compileShader(c);gl.getShaderParameter(c,gl.COMPILE_STATUS)||(cc.log(gl.getShaderInfoLog(c)),e("Could not compile "+b+" shader"));return c},title:l("GLNode + WebGL API"),f:l("blue background with a red triangle in the middle"),n:function(){return JSON.stringify([{"0":0,1:0,2:255,3:255},{"0":0,
1:0,2:255,3:255},{"0":255,1:0,2:0,3:255}])},m:function(){var a=this.readPixels(10,t.height-1,1,1),b=this.readPixels(t.width-10,t.height-1,1,1),c=this.readPixels(t.width/2,t.height/2,1,1);return JSON.stringify([a,b,c])}}),of=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=cc.GLNode.create();this.addChild(a,10);this.la=cc.ShaderCache.getInstance().getProgram("ShaderPositionColor");this.wc();a.draw=function(){this.la.use();this.la.setUniformsForBuiltins();cc.glEnableVertexAttribs(cc.Jg|
cc.fe);gl.bindBuffer(gl.ARRAY_BUFFER,this.Wa);gl.vertexAttribPointer(cc.Sb,2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.Md);gl.vertexAttribPointer(cc.cf,4,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindBuffer(gl.ARRAY_BUFFER,this.Tc);gl.vertexAttribPointer(cc.Sb,2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ud);gl.vertexAttribPointer(cc.cf,4,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,3);gl.bindBuffer(gl.ARRAY_BUFFER,h)}.bind(this)}},wc:function(){var a=this.Tc=gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[t.width/2,t.height,0,0,t.width,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=this.Ud=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[1,0,0,1,1,0,0,1,1,0,0,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=this.Wa=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[t.width,t.height,0,t.height,t.width,0,0,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=this.Md=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,
a);a=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);gl.bindBuffer(gl.ARRAY_BUFFER,h)},title:l("GLNode + cocos2d API"),f:l("blue background with a red triangle in the middle"),n:function(){return JSON.stringify([{"0":0,1:0,2:255,3:255},{"0":0,1:0,2:255,3:255},{"0":255,1:0,2:0,3:255}])},m:function(){var a=this.readPixels(10,t.height-1,1,1),b=this.readPixels(t.width-10,t.height-1,1,1),c=this.readPixels(t.width/2,t.height/2,1,1);return JSON.stringify([a,
b,c])}}),pf=cc.GLNode.extend({ctor:function(a,b){this._super();this.init();if("opengl"in sys.capabilities){this.setContentSize(cc.size(256,256));this.setAnchorPoint(cc.p(0.5,0.5));this.la=cc.GLProgram.create(a,b);this.la.retain();this.la.addAttribute("aVertex",cc.Sb);this.la.link();this.la.updateUniforms();var c=this.la.getProgram();this.cj=gl.getUniformLocation(c,"center");this.dj=gl.getUniformLocation(c,"resolution");this.wc();this.scheduleUpdate();this.Ca=0}},draw:function(){this.la.use();this.la.setUniformsForBuiltins();
this.la.setUniformLocationF32(this.cj,t.width/2,t.height/2);this.la.setUniformLocationF32(this.dj,256,256);cc.glEnableVertexAttribs(cc.fe);gl.bindBuffer(gl.ARRAY_BUFFER,this.Wa);gl.vertexAttribPointer(cc.Sb,2,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindBuffer(gl.ARRAY_BUFFER,h)},update:function(a){this.Ca+=a},wc:function(){var a=this.Wa=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);vertices=[256,256,0,256,256,0,0,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(vertices),gl.STATIC_DRAW);
gl.bindBuffer(gl.ARRAY_BUFFER,h)}}),qf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new pf("res/Shaders/example_Heart.vsh","res/Shaders/example_Heart.fsh");this.addChild(a,10);a.setPosition(t.width/2,t.height/2)}},title:l("Shader Heart Test"),f:l("You should see a heart in the center"),n:function(){return JSON.stringify({"0":255,1:0,2:0,3:255})},m:function(){var a=this.readPixels(t.width/2,t.height/2,1,1);a[0]=240<a[0]?255:0;a[3]=240<a[3]?255:0;return JSON.stringify(a)}}),
rf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new pf("res/Shaders/example_Mandelbrot.vsh","res/Shaders/example_Mandelbrot.fsh");this.addChild(a,10);a.setPosition(t.width/2,t.height/2)}},title:l("Shader Mandelbrot Test"),f:l("Mandelbrot shader with Zoom"),n:function(){e("Automation Test Not implemented yet")},m:function(){e("Automation Test Not implemented yet")}}),sf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new pf("res/Shaders/example_Monjori.vsh",
"res/Shaders/example_Monjori.fsh");this.addChild(a,10);a.setPosition(t.width/2,t.height/2)}},title:l("Shader Monjori Test"),f:l("Monjori plane deformations"),n:function(){e("Automation Test Not implemented yet")},m:function(){e("Automation Test Not implemented yet")}}),tf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new pf("res/Shaders/example_Plasma.vsh","res/Shaders/example_Plasma.fsh");this.addChild(a,10);a.setPosition(t.width/2,t.height/2)}},title:l("Shader Plasma Test"),
f:l("You should see a plasma in the center"),n:function(){return JSON.stringify(g)},m:function(){var a=this.readPixels(t.width/2,t.height/2,1,1);return JSON.stringify(300<a[0]+a[1]+a[2])}}),uf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new pf("res/Shaders/example_Flower.vsh","res/Shaders/example_Flower.fsh");this.addChild(a,10);a.setPosition(t.width/2,t.height/2)}},title:l("Shader Flower Test"),f:l("You should see a moving Flower in the center"),n:function(){return JSON.stringify(g)},
m:function(){var a=this.readPixels(t.width/2,t.height/2,1,1);return JSON.stringify(30>a[0]+a[1]+a[2])}}),vf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new pf("res/Shaders/example_Julia.vsh","res/Shaders/example_Julia.fsh");this.addChild(a,10);a.setPosition(t.width/2,t.height/2)}},title:l("Shader Julia Test"),f:l("You should see Julia effect"),n:function(){return JSON.stringify(g)},m:function(){var a=this.readPixels(t.width/2,t.height/2,1,1);return JSON.stringify(300<
a[0]+a[1]+a[2])}}),wf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=cc.GLProgram.create("res/Shaders/example_ColorBars.vsh","res/Shaders/example_ColorBars.fsh");a.addAttribute(cc.og,cc.Sb);a.addAttribute(cc.pg,cc.df);a.link();a.updateUniforms();var b=cc.LabelBMFont.create("RETRO EFFECT","res/fonts/west_england-64.fnt");b.setShaderProgram(a);b.setPosition(t.width/2,t.height/2);this.addChild(b);this.scheduleUpdate();this.label=b;this.hb=0}},update:function(a){this.hb+=
a;var a=this.label.getChildren(),b;for(b in a){var c=a[b],d=c.getPosition();c.setPosition(d.x,20*Math.sin(2*this.hb+b/2));c.setScaleY(Math.sin(2*this.hb+b/2+0.707))}},title:l("Shader Retro Effect"),f:l("Should see moving colors, and a sin effect on the letters")}),xf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=this.Qa=cc.Sprite.create("res/Images/grossini.png");a.setPosition(t.width/2,t.height/2);this.addChild(a);this.scheduleOnce(this.di,0.5)}},di:function(){cc.log(this.m())},
title:l("gl.getActive***"),f:l("Tests gl.getActiveUniform / getActiveAttrib. See console"),n:function(){return JSON.stringify([{size:1,type:35666,name:"a_position"},{size:1,type:35678,name:"CC_Texture"},[2,3]])},m:function(){var a=[],b=this.Qa.getShaderProgram().getProgram();a.push(gl.getActiveAttrib(b,0));a.push(gl.getActiveUniform(b,0));a.push(gl.getAttachedShaders(b));return JSON.stringify(a)}}),yf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=cc.GLNode.create();
this.addChild(a,10);a.setPosition(t.width/2,t.height/2);a.setContentSize(cc.size(128,128));a.setAnchorPoint(cc.p(0.5,0.5));this.la=cc.ShaderCache.getInstance().getProgram("ShaderPositionTexture");this.sh();a.draw=function(){this.la.use();this.la.setUniformsForBuiltins();gl.bindTexture(gl.TEXTURE_2D,this.vh);cc.glEnableVertexAttribs(cc.Kg|cc.fe);gl.bindBuffer(gl.ARRAY_BUFFER,this.Wa);gl.vertexAttribPointer(cc.Sb,2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ni);gl.vertexAttribPointer(cc.df,
2,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindTexture(gl.TEXTURE_2D,h);gl.bindBuffer(gl.ARRAY_BUFFER,h)}.bind(this)}},sh:function(){var a=this.vh=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,a);for(var a=new Uint8Array(4096),b=0;b<a.length;)a[b++]=b/4,a[b++]=b/16,a[b++]=b/8,a[b++]=255;gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,32,32,0,gl.RGBA,gl.UNSIGNED_BYTE,a);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);
gl.bindTexture(gl.TEXTURE_2D,h);a=this.Wa=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([128,128,0,128,128,0,0,0]),gl.STATIC_DRAW);a=this.Ni=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),gl.STATIC_DRAW);gl.bindBuffer(gl.ARRAY_BUFFER,h)},title:l("TexImage2DTest"),f:l("Testing Texture creation"),n:function(){return JSON.stringify({"0":239,1:123,2:247,3:255,4:239,5:123,6:247,7:255,
8:240,9:124,10:248,11:255,12:240,13:124,14:248,15:255,16:239,17:123,18:247,19:255,20:239,21:123,22:247,23:255,24:240,25:124,26:248,27:255,28:240,29:124,30:248,31:255,32:15,33:131,34:7,35:255,36:15,37:131,38:7,39:255,40:16,41:132,42:8,43:255,44:16,45:132,46:8,47:255,48:15,49:131,50:7,51:255,52:15,53:131,54:7,55:255,56:16,57:132,58:8,59:255,60:16,61:132,62:8,63:255})},m:function(){var a=this.readPixels(t.width/2-2,t.height/2-2,4,4);return JSON.stringify(a)}}),zf=U.extend({ctor:function(){this._super();
if("opengl"in sys.capabilities&&!v){var a=gl.getSupportedExtensions();cc.log(JSON.stringify(a));0<a.length&&cc.log(gl.getExtension(a[0]))}},title:l("GetSupportedExtensionsTest"),f:l("See console for the supported GL extensions"),n:function(){return JSON.stringify(["[object Array]",h])},m:function(){var a=gl.getSupportedExtensions(),a=Object.prototype.toString.call(a),b=gl.getExtension("do_no_exist");return JSON.stringify([a,b])}}),Af=U.extend({ctor:function(){this._super();"opengl"in sys.capabilities&&
(v||cc.log(this.Gf()))},title:l("GLTexParamterTest"),f:l("tests texParameter()"),Gf:function(){if("browser"===sys.platform){var a=cc.TextureCache.getInstance().textureForKey("res/Images/grossini.png");gl.bindTexture(gl.TEXTURE_2D,a.getName())}else gl.bindTexture(gl.TEXTURE_2D,h);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,
gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);var a=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER),b=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER),c=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S),d=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S);return[a,b,c,d]},n:function(){return JSON.stringify([9728,9728,33071,33071])},m:function(){var a=this.Gf();return JSON.stringify(a)}}),Bf=U.extend({ctor:function(){this._super();"opengl"in sys.capabilities&&(v||cc.log(JSON.stringify(this.pb())))},
title:l("GLGetUniformTest"),f:l("tests texParameter()"),pb:function(){var a=cc.ShaderCache.getInstance().getProgram("ShaderPositionTextureColor"),b=a.getProgram();a.use();a=gl.getUniformLocation(b,"CC_MVPMatrix");this.Ed=new Float32Array([1,2,3,4,4,3,2,1,1,2,4,8,1.1,1.2,1.3,1.4]);gl.uniformMatrix4fv(a,j,this.Ed);return gl.getUniform(b,a)},n:function(){return JSON.stringify({"0":1,1:2,2:3,3:4,4:4,5:3,6:2,7:1,8:1,9:2,10:4,11:8,12:1.100000023841858,13:1.2000000476837158,14:1.2999999523162842,15:1.399999976158142})},
m:function(){var a=this.pb();return JSON.stringify(a)}}),kf=[wf,sf,rf,qf,tf,uf,vf,xf,yf,zf,lf,mf,nf,of,Af,Bf];function hf(){gf++;gf%=kf.length;return new kf[gf]}function jf(){gf--;0>gf&&(gf+=kf.length);return new kf[gf]};var La=9960,Cf=-1;ParallaxDemo=x.extend({Mg:h,ctor:function(){this._super(cc.o(0,0,0,255),cc.o(160,32,32,255))},title:l("No title"),R:function(){var a=new ParallaxTestScene;a.addChild(Df());r.replaceScene(a)},S:function(){var a=new ParallaxTestScene;a.addChild(new Ef[Cf]);r.replaceScene(a)},Q:function(){var a=new ParallaxTestScene;a.addChild(Ff());r.replaceScene(a)},W:function(){return Ef.length-1-Cf},T:function(){return Cf}});
Parallax1=ParallaxDemo.extend({bc:h,L:h,Kw:h,Ew:h,ctor:function(){this._super();_cocosimage=cc.Sprite.create("res/Images/powered.png");_cocosimage.setScale(1.5);_cocosimage.setAnchorPoint(cc.p(0,0));_tilemap=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");_tilemap.setAnchorPoint(cc.p(0,0));_background=cc.Sprite.create("res/Images/background.png");_background.setAnchorPoint(cc.p(0,0));_parent=cc.ParallaxNode.create();_parent.addChild(_background,-1,cc.p(0.4,0.5),cc.p(0,0));_parent.addChild(_tilemap,
1,cc.p(2.2,1),cc.p(0,0));_parent.addChild(_cocosimage,2,cc.p(3,2.5),cc.p(0,0));var a=cc.MoveBy.create(2,cc.p(0,100)),b=cc.MoveBy.create(2,cc.p(200,0)),c=cc.DelayTime.create(2),d=a.reverse(),f=b.reverse(),a=cc.Sequence.create(a,b,c,d,f);_parent.runAction(cc.RepeatForever.create(a));this.addChild(_parent)},title:l("Parallax: parent and 3 children"),B:5,n:function(){var a={};a.oi=cc.p(200,100);a.li=cc.p(-120,-50);a.mi=cc.p(240,0);a.ni=cc.p(400,150);return JSON.stringify(a)},m:function(){var a={};a.oi=
cc.p(Math.round(_parent.getPosition().x),Math.round(_parent.getPosition().y));a.li=cc.p(Math.round(_background.getPosition().x),Math.round(_background.getPosition().y));a.mi=cc.p(Math.round(_tilemap.getPosition().x),Math.round(_tilemap.getPosition().y));a.ni=cc.p(Math.round(_cocosimage.getPosition().x),Math.round(_cocosimage.getPosition().y));return JSON.stringify(a)}});
Parallax2=ParallaxDemo.extend({Hw:h,Pa:h,Jw:h,ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/powered.png");a.setScale(1.5);a.setAnchorPoint(cc.p(0,0));var b=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.create("res/Images/background.png");c.setAnchorPoint(cc.p(0,0));var d=cc.ParallaxNode.create();d.addChild(c,-1,cc.p(0.4,
0.5),cc.p(0,0));d.addChild(b,1,cc.p(1,1),cc.p(0,0));d.addChild(a,2,cc.p(3,2.5),cc.p(0,0));this.addChild(d,0,La)},onTouchesMoved:function(a){var a=a[0],b=this.getChildByTag(La),c=b.getPosition();b.setPosition(cc.pAdd(c,a.getDelta()))},onMouseDragged:function(a){var b=this.getChildByTag(La),c=b.getPosition();b.setPosition(cc.pAdd(c,a.getDelta()))},title:l("Parallax: drag screen")});ParallaxTestScene=w.extend({N:function(){Cf=-1;this.addChild(Ff());r.replaceScene(this)}});var Ef=[Parallax1,Parallax2];
function Ff(){Cf++;Cf%=Ef.length;return new Ef[Cf]}function Df(){Cf--;0>Cf&&(Cf+=Ef.length);return new Ef[Cf]};var Gf=1,Hf=-1,ya=w.extend({N:function(){Hf=-1;this.addChild(If());r.replaceScene(this)}}),dg=[function(){return new Jf},function(){return new Kf},function(){return new Lf},function(){return new Mf},function(){return new Nf},function(){return new Of},function(){return new Pf},function(){return new Qf},function(){return new Rf},function(){return new Sf},function(){return new Tf},function(){return new Uf},function(){return new Vf},function(){return new Wf},function(){return new Xf},function(){return new Yf("BoilingFoam")},
function(){return new Yf("BurstPipe")},function(){return new Yf("Comet")},function(){return new Yf("debian")},function(){return new Yf("ExplodingRing")},function(){return new Yf("LavaFlow")},function(){return new Yf("SpinningPeas")},function(){return new Yf("SpookyPeas")},function(){return new Yf("Upsidedown")},function(){return new Yf("Flower")},function(){return new Yf("Spiral")},function(){return new Yf("Galaxy")},function(){return new Zf},function(){return new $f},function(){return new ag},function(){return new bg},
function(){return new Yf("Phoenix")},function(){return new cg}];"opengl"in sys.capabilities&&(dg.push(function(){return new eg}),dg.push(function(){return new fg}));function If(){Hf++;Hf=Hf%dg.length;return dg[Hf]()}function gg(){Hf--;Hf<0&&(Hf=Hf+dg.length);return dg[Hf]()}
var V=x.extend({e:h,L:h,Ab:h,Cb:h,ab:j,setColor:k(),ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255));this.ab=j;this.e=h;"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=r.getWinSize(),b=cc.Sprite.create("res/Images/movement.png",cc.rect(0,46,123,23)),c=cc.Sprite.create("res/Images/movement.png",cc.rect(0,23,123,23)),d=cc.Sprite.create("res/Images/movement.png",cc.rect(0,0,123,23)),f=cc.Sprite.create("res/Images/movement.png",
cc.rect(123,46,138,23)),i=cc.Sprite.create("res/Images/movement.png",cc.rect(123,23,138,23)),m=cc.Sprite.create("res/Images/movement.png",cc.rect(123,0,138,23)),o=cc.Sprite.create("res/Images/movement.png",cc.rect(261,46,136,23)),q=cc.Sprite.create("res/Images/movement.png",cc.rect(261,23,136,23)),u=cc.Sprite.create("res/Images/movement.png",cc.rect(261,0,136,23)),p=this;this.Ub=cc.MenuItemSprite.create(b,c,d,function(){p.e.setPositionType(cc.ce);p.zb.setVisible(g);p.Ub.setVisible(j);p.xb.setVisible(j)});
this.Ub.setPosition(10,150);this.Ub.setAnchorPoint(cc.p(0,0));this.zb=cc.MenuItemSprite.create(f,i,m,function(){p.e.setPositionType(cc.be);p.zb.setVisible(j);p.Ub.setVisible(j);p.xb.setVisible(g)});this.zb.setVisible(j);this.zb.setPosition(10,150);this.zb.setAnchorPoint(cc.p(0,0));this.xb=cc.MenuItemSprite.create(o,q,u,function(){p.e.setPositionType(cc.ae);p.zb.setVisible(j);p.Ub.setVisible(g);p.xb.setVisible(j)});this.xb.setVisible(j);this.xb.setPosition(10,150);this.xb.setAnchorPoint(cc.p(0,0));
b=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,46,115,23));c=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,23,115,23));d=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,0,115,23));this.Ab=cc.MenuItemSprite.create(b,c,d,function(){p.e.setDrawMode&&p.e.setDrawMode(cc.vg);p.Cb.setVisible(g);p.Ab.setVisible(j)});this.Ab.setPosition(10,100);this.Ab.setAnchorPoint(cc.p(0,0));"opengl"in sys.capabilities&&this.Ab.setEnabled(j);b=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,
46,115,23));c=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,23,115,23));d=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,0,115,23));this.Cb=cc.MenuItemSprite.create(b,c,d,function(){p.e.setDrawMode&&p.e.setDrawMode(cc.ds);p.Cb.setVisible(j);p.Ab.setVisible(g)});this.Cb.setVisible(j);this.Cb.setPosition(10,100);this.Cb.setAnchorPoint(cc.p(0,0));b=cc.Menu.create(this.Ab,this.Cb,this.Ub,this.zb,this.xb);b.setPosition(0,0);this.addChild(b,100);b=cc.LabelAtlas.create("0123456789","res/fonts/fps_images.png",
16,24,".");this.addChild(b,100,Gf);b.setPosition(a.width-66,50);this.L=cc.Sprite.create("res/Images/background3.png");this.addChild(this.L,5);this.L.setPosition(a.width/2,a.height-180);a=cc.MoveBy.create(4,cc.p(300,0));b=a.reverse();a=cc.Sequence.create(a,b);this.L.runAction(cc.RepeatForever.create(a));this.scheduleUpdate()},onEnter:function(){this._super();this.getChildByTag(11).setString(this.title())},title:l("No title"),f:l("(Tap the Screen)"),S:function(){this.e.resetSystem()},Q:function(){var a=
new ya;a.addChild(If());r.replaceScene(a)},R:function(){var a=new ya;a.addChild(gg());r.replaceScene(a)},yx:function(){this.e.getPositionType()==cc.be?this.e.setPositionType(cc.ae):this.e.getPositionType()==cc.ae?this.e.setPositionType(cc.ce):this.e.getPositionType()==cc.ce&&this.e.setPositionType(cc.be)},onTouchesBegan:function(a){this.ab=g;this.gf(a)},onTouchesMoved:function(a){this.ab&&this.gf(a)},gf:function(a){if(a.length>0){var a=a[0].getLocation(),b=cc.p(0,0);this.L&&(b=this.L.convertToWorldSpace(cc.p(0,
0)));this.e.setPosition(cc.pSub(a,b))}},onTouchesEnded:function(){this.ab=j},onMouseDragged:function(a){var a=a.getLocation(),b=cc.p(0,0);this.L&&(b=this.L.convertToWorldSpace(cc.p(0,0)));this.e.setPosition(cc.pSub(a,b));return g},update:function(){this.e&&this.getChildByTag(Gf).setString(this.e.getParticleCount().toFixed(0))},ga:function(){var a=this.e.getSourcePosition();a.x===0&&a.y===0&&this.e.setPosition(200,70)},W:function(){return dg.length-1-Hf},T:function(){return Hf}}),Lf=V.extend({onEnter:function(){this._super();
this.e=cc.ParticleFireworks.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.e.setShapeType&&this.e.setShapeType(cc.sb);this.ga()},title:l("ParticleFireworks")}),Pf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleFire.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.e.setShapeType&&this.e.setShapeType(cc.rb);this.ga()},title:l("ParticleFire")}),
Nf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleSun.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.e.setShapeType&&this.e.setShapeType(cc.rb);this.ga()},title:l("ParticleSun")}),Kf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleGalaxy.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.e.setShapeType&&this.e.setShapeType(cc.rb);
this.ga()},title:l("ParticleGalaxy")}),Jf=V.extend({j:"ParticleFlower",onEnter:function(){this._super();this.e=cc.ParticleFlower.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.e.setShapeType&&this.e.setShapeType(cc.sb);this.ga()},title:aa("j")}),Uf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleSystem.createWithTotalParticles(50);this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));
this.e.setShapeType&&this.e.setShapeType(cc.sb);this.e.setDuration(-1);this.e.setGravity(cc.p(0,0));this.e.setAngle(90);this.e.setAngleVar(360);this.e.setSpeed(160);this.e.setSpeedVar(20);this.e.setRadialAccel(-120);this.e.setRadialAccelVar(0);this.e.setTangentialAccel(30);this.e.setTangentialAccelVar(0);this.e.setPosition(160,240);this.e.setPosVar(cc.p(0,0));this.e.setLife(4);this.e.setLifeVar(1);this.e.setStartSpin(0);this.e.setStartSizeVar(0);this.e.setEndSpin(0);this.e.setEndSpinVar(0);this.e.setStartColor(cc.G(0.5,
0.5,0.5,1));this.e.setStartColorVar(cc.G(0.5,0.5,0.5,1));this.e.setEndColor(cc.G(0.1,0.1,0.1,0.2));this.e.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));this.e.setStartSize(80);this.e.setStartSizeVar(40);this.e.setEndSize(cc.Pb);this.e.setEmissionRate(this.e.getTotalParticles()/this.e.getLife());this.e.setBlendAdditive(g);this.ga()},title:l("ParticleBigFlower")}),Vf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleSystem.createWithTotalParticles("opengl"in sys.capabilities?300:150);this.L.addChild(this.e,
10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars2.png"));this.e.setShapeType&&this.e.setShapeType(cc.sb);this.e.setDuration(-1);this.e.setGravity(cc.p(0,0));this.e.setAngle(90);this.e.setAngleVar(360);this.e.setSpeed(160);this.e.setSpeedVar(20);this.e.setRadialAccel(-120);this.e.setRadialAccelVar(0);this.e.setTangentialAccel(30);this.e.setTangentialAccelVar(0);this.e.setPosition(160,240);this.e.setPosVar(cc.p(0,0));this.e.setLife(3);this.e.setLifeVar(1);this.e.setStartSpin(0);
this.e.setStartSpinVar(0);this.e.setEndSpin(0);this.e.setEndSpinVar(2E3);this.e.setStartColor(cc.G(0.5,0.5,0.5,1));this.e.setStartColorVar(cc.G(0.5,0.5,0.5,1));this.e.setEndColor(cc.G(0.1,0.1,0.1,0.2));this.e.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));this.e.setStartSize(30);this.e.setStartSizeVar(0);this.e.setEndSize(cc.Pb);this.e.setEmissionRate(this.e.getTotalParticles()/this.e.getLife());this.e.setBlendAdditive(j);this.ga()},title:l("ParticleRotFlower")}),Of=V.extend({onEnter:function(){this._super();
this.e=cc.ParticleMeteor.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.e.setShapeType&&this.e.setShapeType(cc.rb);this.ga()},title:l("ParticleMeteor")}),Mf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleSpiral.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.e.setShapeType&&this.e.setShapeType(cc.rb);this.ga()},title:l("ParticleSpiral")}),
Rf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleExplosion.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.e.setShapeType&&this.e.setShapeType(cc.sb);this.e.setAutoRemoveOnFinish(g);this.ga()},title:l("ParticleExplosion")}),Qf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleSmoke.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.ga()},title:l("ParticleSmoke")}),Sf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleSnow.create();this.L.addChild(this.e,10);this.e.setLife(3);this.e.setLifeVar(1);this.e.setGravity(cc.p(0,-10));this.e.setSpeed(130);this.e.setSpeedVar(30);var a=this.e.getStartColor();a.r=0.9;a.g=0.9;a.b=0.9;this.e.setStartColor(a);a=this.e.getStartColorVar();a.b=0.1;this.e.setStartColorVar(a);this.e.setEmissionRate(this.e.getTotalParticles()/this.e.getLife());this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/snow.png"));
this.e.setShapeType&&this.e.setShapeType(cc.sb);this.ga()},title:l("ParticleSnow")}),Tf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleRain.create();this.L.addChild(this.e,10);this.e.setLife(4);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.e.setShapeType&&this.e.setShapeType(cc.rb);this.ga()},title:l("ParticleRain")}),Wf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleSystem.createWithTotalParticles("opengl"in sys.capabilities?1E3:
200);this.L.addChild(this.e,10);r.getWinSize();this.e.setDuration(-1);this.e.setGravity(cc.p(0,0));this.e.setAngle(0);this.e.setAngleVar(360);this.e.setRadialAccel(70);this.e.setRadialAccelVar(10);this.e.setTangentialAccel(80);this.e.setTangentialAccelVar(0);this.e.setSpeed(50);this.e.setSpeedVar(10);this.e.setLife(2);this.e.setLifeVar(0.3);this.e.setEmissionRate(this.e.getTotalParticles()/this.e.getLife());this.e.setStartColor(cc.G(0.5,0.5,0.5,1));this.e.setStartColorVar(cc.G(0.5,0.5,0.5,1));this.e.setEndColor(cc.G(0.1,
0.1,0.1,0.2));this.e.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));this.e.setStartSize(1);this.e.setStartSizeVar(1);this.e.setEndSize(32);this.e.setEndSizeVar(8);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.e.setShapeType&&this.e.setShapeType(cc.rb);this.e.setBlendAdditive(j);this.ga()},title:l("Varying size")}),Xf=V.extend({onEnter:function(){this._super();this.e=cc.ParticleFlower.create();this.L.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));
this.e.setShapeType&&this.e.setShapeType(cc.sb);this.e.setLifeVar(0);this.e.setLife(10);this.e.setSpeed(100);this.e.setSpeedVar(0);this.e.setEmissionRate(1E4);this.ga()},title:l("Ring Demo")}),eg=V.extend({onEnter:function(){this._super();this.L.getParent().removeChild(this.L,g);this.L=h;var a=cc.ParallaxNode.create();this.addChild(a,5);var b=cc.Sprite.create("res/Images/background3.png"),c=cc.Sprite.create("res/Images/background3.png");a.addChild(b,1,cc.p(0.5,1),cc.p(0,250));a.addChild(c,2,cc.p(1.5,
1),cc.p(0,50));this.e=cc.ParticleFlower.create();this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.addChild(this.e,10);this.e.setPosition(250,200);b=cc.ParticleSun.create();c.addChild(b,10);b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));c=cc.MoveBy.create(4,cc.p(300,0));b=c.reverse();c=cc.Sequence.create(c,b,h);a.runAction(cc.RepeatForever.create(c))},title:l("Parallax + Particles")}),Yf=V.extend({j:"",ctor:function(a){this._super();this.j=
a},onEnter:function(){this._super();this.setColor(cc.D(0,0,0));this.removeChild(this.L,g);this.L=h;this.e=cc.ParticleSystem.create("res/Particles/"+this.j+".plist");this.addChild(this.e,10);this.j=="Flower"&&this.e.setShapeType&&this.e.setShapeType(cc.sb);this.ga()},ga:function(){var a=this.e.getSourcePosition();a.x===0&&a.y===0&&this.e.setPosition(r.getWinSize().width/2,r.getWinSize().height/2-50)},title:aa("j")}),Zf=V.extend({onEnter:function(){this._super();this.setColor(cc.D(0,0,0));this.removeChild(this.L,
g);this.L=h;this.e=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars-grayscale.png"));this.e.setDuration(cc.Yc);this.e.setEmitterMode(cc.Zc);this.e.setStartRadius(0);this.e.setStartRadiusVar(0);this.e.setEndRadius(160);this.e.setEndRadiusVar(0);this.e.setRotatePerSecond(180);this.e.setRotatePerSecondVar(0);this.e.setAngle(90);this.e.setAngleVar(0);var a=r.getWinSize();this.e.setPosition(a.width/2,a.height/
2);this.e.setPosVar(cc.p(0,0));this.e.setLife(5);this.e.setLifeVar(0);this.e.setStartSpin(0);this.e.setStartSpinVar(0);this.e.setEndSpin(0);this.e.setEndSpinVar(0);this.e.setStartColor(cc.G(0.5,0.5,0.5,1));this.e.setStartColorVar(cc.G(0.5,0.5,0.5,1));this.e.setEndColor(cc.G(0.1,0.1,0.1,0.2));this.e.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));this.e.setStartSize(32);this.e.setStartSizeVar(0);this.e.setEndSize(cc.Pb);this.e.setEmissionRate(this.e.getTotalParticles()/this.e.getLife());this.e.setBlendAdditive(j)},
title:l("Radius Mode: Spiral")}),$f=V.extend({onEnter:function(){this._super();this.setColor(cc.D(0,0,0));this.removeChild(this.L,g);this.L=h;this.e=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars-grayscale.png"));this.e.setDuration(cc.Yc);this.e.setEmitterMode(cc.Zc);this.e.setStartRadius(100);this.e.setStartRadiusVar(0);this.e.setEndRadius(cc.$d);this.e.setEndRadiusVar(0);this.e.setRotatePerSecond(45);
this.e.setRotatePerSecondVar(0);this.e.setAngle(90);this.e.setAngleVar(0);var a=r.getWinSize();this.e.setPosition(a.width/2,a.height/2);this.e.setPosVar(cc.p(0,0));this.e.setLife(4);this.e.setLifeVar(0);this.e.setStartSpin(0);this.e.setStartSpinVar(0);this.e.setEndSpin(0);this.e.setEndSpinVar(0);this.e.setStartColor(cc.G(0.5,0.5,0.5,1));this.e.setStartColorVar(cc.G(0.5,0.5,0.5,1));this.e.setEndColor(cc.G(0.1,0.1,0.1,0.2));this.e.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));this.e.setStartSize(32);this.e.setStartSizeVar(0);
this.e.setEndSize(cc.Pb);this.e.setEmissionRate(this.e.getTotalParticles()/this.e.getLife());this.e.setBlendAdditive(j)},title:l("Radius Mode: Semi Circle")}),ag=V.extend({onEnter:function(){this._super();this.setColor(cc.D(0,0,0));this.removeChild(this.L,g);this.L=h;this.e=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.e,10);this.e.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.e.setShapeType&&this.e.setShapeType(cc.rb);this.e.setDuration(cc.Yc);
this.e.setEmitterMode(cc.Zc);this.e.setStartRadius(50);this.e.setStartRadiusVar(0);this.e.setEndRadius(cc.$d);this.e.setEndRadiusVar(0);this.e.setRotatePerSecond(0);this.e.setRotatePerSecondVar(0);this.e.setAngle(90);this.e.setAngleVar(0);var a=r.getWinSize();this.e.setPosition(a.width/2,a.height/2);this.e.setPosVar(cc.p(0,0));this.e.setLife(5);this.e.setLifeVar(0);this.e.setStartSpin(0);this.e.setStartSpinVar(0);this.e.setEndSpin(0);this.e.setEndSpinVar(0);this.e.setStartColor(cc.G(0.5,0.5,0.5,1));
this.e.setStartColorVar(cc.G(0.5,0.5,0.5,1));this.e.setEndColor(cc.G(0.1,0.1,0.1,0.2));this.e.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));this.e.setStartSize(16);this.e.setStartSizeVar(0);this.e.setEndSize(cc.Pb);this.e.setEmissionRate(this.e.getTotalParticles()/this.e.getLife());this.e.setBlendAdditive(j);a=cc.RotateBy.create(16,360);this.e.runAction(cc.RepeatForever.create(a))},title:l("Issue 704. Free + Rot"),f:l("Emitted particles should not rotate")}),bg=V.extend({Wb:0,onEnter:function(){this._super();
this.setColor(cc.D(0,0,0));this.removeChild(this.L,g);this.L=h;var a=cc.ParticleSystem.create("res/Particles/SpinningPeas.plist");a.setTextureWithRect(cc.TextureCache.getInstance().addImage("res/Images/particles.png"),cc.rect(0,0,32,32));this.addChild(a,10);this.e=a;this.e.setDrawMode&&this.e.setDrawMode(cc.vg);this.e.setPosition(r.getWinSize().width/2,r.getWinSize().height/2-50);this.Wb=0;this.schedule(this.hj,2)},title:l("Issue 870. SubRect"),f:l("Every 2 seconds the particle should change"),hj:function(){this.Wb=
(this.Wb+1)%4;var a=cc.rect(this.Wb*32,0,32,32);this.e.setTextureWithRect(this.e.getTexture(),a)}}),fg=V.extend({Wb:0,onEnter:function(){this._super();var a=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");a.setStartColor(cc.G(1,0,0,1));var b=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");b.setStartColor(cc.G(0,1,0,1));var c=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");c.setStartColor(cc.G(0,0,1,1));a.setPosition(t.width/1.25,t.height/1.25);b.setPosition(t.width/2,t.height/
2);c.setPosition(t.width/4,t.height/4);var d=cc.ParticleBatchNode.createWithTexture(a.getTexture());d.addChild(a);d.addChild(b);d.addChild(c);this.addChild(d,10);this.removeChild(this.L,g);this.L=h;this.e=a},title:l("Particle Batch Test"),f:l("You should 3 particles. They are batched")}),cg=V.extend({Wb:0,onEnter:function(){this._super();var a=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");a.setPosition(t.width/2,t.height/2);this.addChild(a);this.schedule(this.bi,2);this.removeChild(this.L,
g);this.L=h;this.e=a},bi:function(){this.e.setTotalParticles(50);this.scheduleOnce(this.ai,1)},ai:function(){this.e.setTotalParticles(400)},title:l("Particle Resize Test"),f:l("In 2 seconds, the emitter should have only 15 particles. Shall not crash.")});var hg=1E3,ig=0,jg="PerformanceNodeChildrenTest;PerformanceParticleTest;PerformanceSpriteTest;PerformanceTextureTest;PerformanceTouchesTest;PerformanceAnimationTest;Automated Sprite Performance Test".split(";"),wg=cc.LayerGradient.extend({ctor:function(){this._super();this.init(cc.o(0,0,0,255),cc.o(98,99,117,255))},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.Menu.create();b.setPosition(cc.p(0,0));cc.MenuItemFont.setFontName("Arial");cc.MenuItemFont.setFontSize(24);
for(var c=0;c<jg.length;c++){var d=cc.MenuItemFont.create(jg[c],this.Ae,this);d.setPosition(cc.p(a.width/2,a.height-(c+1)*ga));b.addChild(d,hg+c)}this.addChild(b)},Ae:function(a){switch(a.getZOrder()-hg){case 0:a=new kg;a.vd(lg);cc.Director.getInstance().replaceScene(a);break;case 1:a=new mg;a.Gb(1,ng);cc.Director.getInstance().replaceScene(a);break;case 2:Math.seedrandom("perftest");a=new og;a.Gb(1,50);cc.Director.getInstance().replaceScene(a);break;case 3:pg=0;a=qg.Gc();cc.Director.getInstance().replaceScene(a);
break;case 4:rg=0;var a=cc.Scene.create(),b=new sg(g,2,rg);a.addChild(b);cc.Director.getInstance().replaceScene(a);break;case 5:tg=0;a=ug.Gc();cc.Director.getInstance().replaceScene(a);break;case 6:(new vg).N()}}}),xg=cc.Layer.extend({Og:g,Xb:1,Y:0,ctor:function(){this._super();this.init();this.Y=ig},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.MenuItemFont.setFontName("Arial");cc.MenuItemFont.setFontSize(24);var b=cc.MenuItemFont.create("Back",this.$i,this);b.setPosition(cc.p(a.width-
50,25));b=cc.Menu.create(b);b.setPosition(cc.p(0,0));if(this.Og){var c=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.oe,this),d=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.Ec,this),f=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.Ce,this);c.setPosition(cc.p(a.width/2-100,30));d.setPosition(cc.p(a.width/2,30));f.setPosition(cc.p(a.width/2+100,30));b.addChild(c,hg);b.addChild(d,hg);b.addChild(f,hg)}this.addChild(b)},Ec:function(){this.Va()},
Ce:function(){this.Y++;ig=this.Y%=this.Xb;this.Va()},oe:function(){this.Y--;0>this.Y&&(this.Y+=this.Xb);ig=this.Y;this.Va()},Va:k(),$i:function(){(new za).N()}}),za=w.extend({N:function(){this.addChild(new wg);cc.Director.getInstance().replaceScene(this)}});var lg=50,yg=0,Cg=xg.extend({Xb:4,Va:function(){var a=this.getParent().Z,b=h;switch(this.Y){case 0:b=new kg;break;case 1:b=new zg;break;case 2:b=new Ag;break;case 3:b=new Bg}yg=this.Y;b&&(b.vd(a),cc.Director.getInstance().replaceScene(b))}}),Eg=cc.Scene.extend({Ia:h,Z:h,ha:h,ctor:function(){this._super();this.init()},vd:function(a){var b=cc.Director.getInstance().getWinSize(),c=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(c,1);c.setPosition(cc.p(b.width/2,b.height-32));c.setColor(cc.D(255,
255,40));c=this.f();c.length&&(c=cc.LabelTTF.create(c,"Thonburi",16),this.addChild(c,1),c.setPosition(cc.p(b.width/2,b.height-80)));this.ha=this.Ia=0;this.Z=a;cc.MenuItemFont.setFontSize(65);a=cc.MenuItemFont.create(" - ",this.Ib,this);a.setColor(cc.D(0,200,20));c=cc.MenuItemFont.create(" + ",this.kb,this);c.setColor(cc.D(0,200,20));a=cc.Menu.create(a,c);a.alignItemsHorizontally();a.setPosition(cc.p(b.width/2,b.height/2+15));this.addChild(a,1);a=cc.LabelTTF.create("0 nodes","Marker Felt",30);a.setColor(cc.D(0,
200,20));a.setPosition(cc.p(b.width/2,b.height/2-15));this.addChild(a,1,Dg);a=new Cg(g,4,yg);this.addChild(a);this.Nb();this.Vc()},title:l("No title"),f:l(""),Vc:k(),Ib:function(){this.Z-=lg;0>this.Z&&(this.Z=0);this.Nb();this.Vc()},kb:function(){this.Z+=lg;1500<this.Z&&(this.Z=1500);this.Nb();this.Vc()},Nb:function(){if(this.Z!=this.Ia){var a=this.Z+" nodes";this.getChildByTag(Dg).setString(a);this.Ia=this.Z}},Vw:aa("Z")}),Fg=Eg.extend({A:h,na:h,ctor:function(){this._super();cc.ma&&(this.na=new cc.xg)},
Vc:function(){var a=cc.Director.getInstance().getWinSize();if(this.ha<this.Z)for(var b=0;b<this.Z-this.ha;b++){var c=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(0,0,32,32));this.A.addChild(c);c.setPosition(cc.p(Math.random()*a.width,Math.random()*a.height))}else if(this.ha>this.Z)for(b=0;b<this.ha-this.Z;b++)this.A.removeChildAtIndex(this.ha-b-1,g);this.ha=this.Z},vd:function(a){this.A=cc.SpriteBatchNode.create("res/Images/spritesheet1.png");this.addChild(this.A);this._super(a);cc.ma&&
(this.na=cc.wg.Yi(this.nb(),this));this.scheduleUpdate()},update:k(),nb:l("none")});Fg.extend({update:function(){var a=this.A.getChildren();cc.ma&&cc.$c(this.na);for(var b=0;b<a.length;b++)a[b].setVisible(j);cc.ma&&cc.ad(this.na)},title:l("A - Iterate SpriteSheet"),f:l("Iterate children using Fast Enum API. See console"),nb:l("iter fast enum")});
var kg=Fg.extend({update:function(){var a=this.A.getChildren();cc.ma&&cc.$c(this.na);for(var b=0;b<a.length;b++)a[b].setVisible(j);cc.ma&&cc.ad(this.na)},title:l("B - Iterate SpriteSheet"),f:l("Iterate children using Array API. See console"),nb:l("iter c-array")}),Gg=Eg.extend({A:h,ctor:function(){this._super();cc.ma&&(this.na=new cc.xg)},Vc:function(){var a=cc.Director.getInstance().getWinSize();if(this.ha<this.Z)for(var b=0;b<this.Z-this.ha;b++){var c=cc.Sprite.createWithTexture(this.A.getTexture(),
cc.rect(0,0,32,32));this.A.addChild(c);c.setPosition(cc.p(Math.random()*a.width,Math.random()*a.height));c.setVisible(j)}else if(this.ha>this.Z)for(b=0;b<this.ha-this.Z;b++)this.A.removeChildAtIndex(this.ha-b-1,g);this.ha=this.Z},vd:function(a){this.A=cc.SpriteBatchNode.create("res/Images/spritesheet1.png");this.addChild(this.A);this._super(a);cc.ma&&(this.na=cc.wg.Yi(this.nb(),this));this.scheduleUpdate()},update:k(),nb:l("none")}),zg=Gg.extend({update:function(){var a=0.15*this.ha;if(0<a){for(var b=
[],c=[],d=0;d<a;d++){var f=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(0,0,32,32));b.push(f);c[d]=50*(2*Math.random()-1)}cc.ma&&cc.$c(this.na)}for(d=0;d<a;d++)this.A.addChild(b[d],c[d],2E3+d);cc.ma&&cc.ad(this.na);for(d=0;d<a;d++)this.A.removeChildByTag(2E3+d,g);delete c},title:l("C - Add to spritesheet"),f:l("Adds %10 of total sprites with random z. See console"),nb:l("add sprites")}),Ag=Gg.extend({update:function(){var a=0.15*this.ha;if(0<a){for(var b=[],c=0;c<a;c++){var d=cc.Sprite.createWithTexture(this.A.getTexture(),
cc.rect(0,0,32,32));b.push(d)}for(c=0;c<a;c++)this.A.addChild(b[c],50*(2*Math.random()-1),2E3+c);cc.ma&&cc.$c(this.na);for(c=0;c<a;c++)this.A.removeChildByTag(2E3+c,g);cc.ma&&cc.ad(this.na)}},title:l("D - Del from spritesheet"),f:l("Remove %10 of total sprites placed randomly. See console"),nb:l("remove sprites")}),Bg=Gg.extend({update:function(){var a=0.15*this.ha;if(0<a){for(var b=[],c=0;c<a;c++){var d=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(0,0,32,32));b.push(d)}for(c=0;c<a;c++)this.A.addChild(b[c],
50*(2*Math.random()-1),2E3+c);cc.ma&&cc.$c(this.na);for(c=0;c<a;c++)this.A.reorderChild(this.A.getChildren()[c],50*(2*Math.random()-1));cc.ma&&cc.ad(this.na)}for(c=0;c<a;c++)this.A.removeChildByTag(2E3+c,g)},title:l("E - Reorder from spritesheet"),f:l("Reorder %10 of total sprites placed randomly. See console"),nb:l("reorder sprites")});var Gf=4,ng=200,Hg=0,Lg=xg.extend({Xb:4,Va:function(){var a=this.getParent(),b=a.U,a=a.ka,c=h;switch(this.Y){case 0:c=new mg;break;case 1:c=new Ig;break;case 2:c=new Jg;break;case 3:c=new Kg}Hg=this.Y;c&&(c.Gb(b,a),cc.Director.getInstance().replaceScene(c))}}),Mg=cc.Scene.extend({Ia:h,ka:h,U:h,ctor:function(){this._super();this.init()},Gb:function(a,b){this.U=a;var c=cc.Director.getInstance().getWinSize();this.Ia=0;this.ka=b;cc.MenuItemFont.setFontSize(65);var d=cc.MenuItemFont.create(" - ",this.Ib,
this);d.setColor(cc.D(0,200,20));var f=cc.MenuItemFont.create(" + ",this.kb,this);f.setColor(cc.D(0,200,20));d=cc.Menu.create(d,f);d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,c.height/2+15));this.addChild(d,1);d=cc.LabelTTF.create("0 nodes","Marker Felt",30);d.setColor(cc.D(0,200,20));d.setPosition(cc.p(c.width/2,c.height-90));this.addChild(d,1,Dg);d=cc.LabelAtlas.create("0000","res/Images/fps_images.png",16,24,".");this.addChild(d,0,Gf);d.setPosition(cc.p(c.width-66,50));d=new Lg(g,4,
Hg);this.addChild(d,1,1E3);cc.MenuItemFont.setFontSize(40);d=cc.Menu.create();for(f=1;3>=f;++f){var i=cc.MenuItemFont.create(f.toString(),this.Se,this);i.setTag(f);d.addChild(i,10);1>=f?i.setColor(cc.D(200,20,20)):i.setColor(cc.D(0,200,20))}d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,80));this.addChild(d,2);d=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(d,1);d.setPosition(cc.p(c.width/2,c.height-32));d.setColor(cc.D(255,255,40));this.Nb();this.re();this.schedule(this.step)},
title:l("No title"),step:function(){var a=this.getChildByTag(Gf),b=this.getChildByTag(3).getParticleCount();a.setString(b)},re:function(){this.removeChildByTag(3,g);var a=cc.ParticleSystem.createWithTotalParticles(this.ka);switch(this.U){case 1:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ya);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));break;case 2:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.kc);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
break;case 3:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Bg);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));break;default:a=h,cc.log("Shall not happen!")}this.addChild(a,0,3);this.pa();"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ya)},Ib:function(){this.ka-=ng;0>this.ka&&(this.ka=0);this.Nb();this.re()},kb:function(){this.ka+=ng;3E3<this.ka&&(this.ka=3E3);this.Nb();this.re()},Se:function(a){this.U=a.getTag();this.getChildByTag(1E3).Ec(a)},
Nb:function(){if(this.ka!=this.Ia){var a=this.ka+" particles";this.getChildByTag(Dg).setString(a);this.Ia=this.ka}},qh:aa("U"),Uw:aa("ka"),pa:k()}),mg=Mg.extend({title:function(){return"A "+this.U+" size=4"},pa:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/
2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());b.setStartColor(cc.G(0.5,0.5,0.5,1));b.setStartColorVar(cc.G(0.5,0.5,0.5,1));b.setEndColor(cc.G(0.1,0.1,0.1,0.2));b.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));b.setEndSize(4);b.setStartSize(4);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),Ig=Mg.extend({title:function(){return"B "+this.U+" size=8"},pa:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);
b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());b.setStartColor(cc.G(0.5,0.5,0.5,1));b.setStartColorVar(cc.G(0.5,0.5,0.5,1));b.setEndColor(cc.G(0.1,0.1,0.1,0.2));b.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));b.setEndSize(8);b.setStartSize(8);b.setEndSizeVar(0);b.setStartSizeVar(0);
b.setBlendAdditive(j)}}),Jg=Mg.extend({title:function(){return"C "+this.U+" size=32"},pa:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());b.setStartColor(cc.G(0.5,0.5,0.5,
1));b.setStartColorVar(cc.G(0.5,0.5,0.5,1));b.setEndColor(cc.G(0.1,0.1,0.1,0.2));b.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));b.setEndSize(32);b.setStartSize(32);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),Kg=Mg.extend({title:function(){return"D "+this.U+" size=64"},pa:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);
b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());b.setStartColor(cc.G(0.5,0.5,0.5,1));b.setStartColorVar(cc.G(0.5,0.5,0.5,1));b.setEndColor(cc.G(0.1,0.1,0.1,0.2));b.setEndColorVar(cc.G(0.1,0.1,0.1,0.2));b.setEndSize(64);b.setStartSize(64);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}});var Dg=1,Ng=0,Og=cc.Class.extend({U:h,A:h,bc:h,si:function(a){switch(this.U){case 1:case 4:case 7:this.bc.removeChildByTag(a+100,g);break;case 2:case 3:case 5:case 6:case 8:case 9:this.A.removeChildAtIndex(a,g)}},fh:function(a){"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ya);var b=h;switch(this.U){case 1:b=cc.Sprite.create("res/Images/grossinis_sister1.png");this.bc.addChild(b,0,a+100);break;case 2:case 3:b=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(0,0,52,
139));this.A.addChild(b,0,a+100);break;case 4:var c=parseInt(14*Math.random())+1,c=10>c?"0"+c:c.toString(),b=cc.Sprite.create("res/Images/grossini_dance_"+c+".png");this.bc.addChild(b,0,a+100);break;case 5:case 6:c=0|14*Math.random();b=85*(c%5);c=121*(0|c/5);b=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(b,c,85,121));this.A.addChild(b,0,a+100);break;case 7:b=0|64*Math.random();c=parseInt(b/8);b=parseInt(b%8);b=cc.Sprite.create("res/Images/sprites_test/sprite-"+b+"-"+c+".png");this.bc.addChild(b,
0,a+100);break;case 8:case 9:b=0|64*Math.random(),c=32*(0|b/8),b=32*(b%8),b=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(b,c,32,32)),this.A.addChild(b,0,a+100)}"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.af);return b},Gb:function(a,b){this.U=a;this.bc=b;this.A=h;"browser"!=sys.platform&&(mgr.removeTexture(mgr.addImage("res/Images/grossinis_sister1.png")),mgr.removeTexture(mgr.addImage("res/Images/grossini_dance_atlas.png")),mgr.removeTexture(mgr.addImage("res/Images/spritesheet1.png")));
switch(this.U){case 2:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ya);this.A=cc.SpriteBatchNode.create("res/Images/grossinis_sister1.png",500);b.addChild(this.A,0);break;case 3:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.kc);this.A=cc.SpriteBatchNode.create("res/Images/grossinis_sister1.png",500);b.addChild(this.A,0);break;case 5:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ya);this.A=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",
500);b.addChild(this.A,0);break;case 6:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.kc);this.A=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",500);b.addChild(this.A,0);break;case 8:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ya);this.A=cc.SpriteBatchNode.create("res/Images/spritesheet1.png",500);b.addChild(this.A,0);break;case 9:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.kc),this.A=cc.SpriteBatchNode.create("res/Images/spritesheet1.png",
500),b.addChild(this.A,0)}"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.af)}}),Vg=xg.extend({Xb:7,Va:function(){var a=h,b=this.getParent(),c=b.U,b=b.ta;Math.seedrandom("perftest");switch(this.Y){case 0:a=new og;break;case 1:a=new Pg;break;case 2:a=new Qg;break;case 3:a=new Rg;break;case 4:a=new Sg;break;case 5:a=new Tg;break;case 6:a=new Ug}Ng=this.Y;a&&(a.Gb(c,b),cc.Director.getInstance().replaceScene(a))}}),Wg=cc.Scene.extend({Ia:h,ta:h,md:h,U:1,ctor:function(){this._super();
this.init()},title:l("No title"),Gb:function(a,b){this.U=a;this.md=new Og;this.md.Gb(a,this);var c=cc.Director.getInstance().getWinSize();this.ta=this.Ia=0;var d=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(d,1);d.setPosition(cc.p(c.width/2,c.height-32));d.setColor(cc.D(255,255,40));cc.MenuItemFont.setFontSize(65);d=cc.MenuItemFont.create(" - ",this.Ib,this);d.setColor(cc.D(0,200,20));var f=cc.MenuItemFont.create(" + ",this.kb,this);f.setColor(cc.D(0,200,20));d=cc.Menu.create(d,f);d.alignItemsHorizontally();
d.setPosition(cc.p(c.width/2,c.height-65));this.addChild(d,1);d=cc.LabelTTF.create("0 nodes","Marker Felt",30);d.setColor(cc.D(0,200,20));d.setPosition(cc.p(c.width/2,c.height-90));this.addChild(d,1,Dg);d=new Vg(g,7,Ng);this.addChild(d,1,11E3);cc.MenuItemFont.setFontSize(32);d=cc.Menu.create();for(f=1;9>=f;++f){var i=cc.MenuItemFont.create(f.toString(),this.Se,this);i.setTag(f);d.addChild(i,10);3>=f?i.setColor(cc.D(200,20,20)):6>=f?i.setColor(cc.D(0,200,20)):i.setColor(cc.D(0,20,200))}d.alignItemsHorizontally();
d.setPosition(cc.p(c.width/2,80));for(this.addChild(d,2);this.ta<b;)this.kb(this)},Uc:function(){if(this.ta!=this.Ia){var a=this.ta+" nodes";this.getChildByTag(Dg).setString(a);this.Ia=this.ta}},Se:function(a){this.U=a.getTag();this.getChildByTag(11E3).Ec(a)},kb:function(){if(!(1E4<=this.ta)){for(var a=0;500>a;a++){var b=this.md.fh(this.ta);this.pa(b);this.ta++;150==a&&(window.zi=b);300==a&&(window.Ai=b)}this.Uc();window.zi.Rg!=window.Ai.Rg&&e("set texture error")}},Ib:function(){if(!(0>=this.ta)){for(var a=
0;500>a;a++)this.ta--,this.md.si(this.ta);this.Uc()}},pa:k(),qh:aa("U"),Tw:aa("ta")}),og=Wg.extend({pa:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)))},title:function(){return"A ("+this.U+") position"}}),Pg=Wg.extend({pa:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));a.setScale(100*Math.random()/50)},title:function(){return"B ("+
this.U+") scale"}}),Qg=Wg.extend({pa:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));a.setRotation(360*Math.random());a.setScale(2*Math.random())},title:function(){return"C ("+this.U+") scale + rot"}}),Rg=Wg.extend({pa:function(a){a.setPosition(cc.p(-1E3,-1E3))},title:function(){return"D ("+this.U+") 100% out"}}),Sg=Wg.extend({pa:function(a){var b=cc.Director.getInstance().getWinSize();0.2>Math.random()?
a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height))):a.setPosition(cc.p(-1E3,-1E3))},title:function(){return"E ("+this.U+") 80% out"}}),Tg=Wg.extend({pa:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));var b=cc.RotateBy.create(0.5+1E3*Math.random()/500,360*Math.random()),c=b.reverse(),b=cc.RepeatForever.create(cc.Sequence.create(b,c));a.runAction(b);b=cc.ScaleBy.create(0.5+
1E3*Math.random()/500,0.5,0.5);b=cc.RepeatForever.create(cc.Sequence.create(b,b.reverse()));a.runAction(b)},title:function(){return"F ("+this.U+") actions"}}),Ug=Wg.extend({pa:function(a){var b=cc.Director.getInstance().getWinSize();0.2>Math.random()?a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height))):a.setPosition(cc.p(-1E3,-1E3));var b=cc.RotateBy.create(0.5+1E3*Math.random()/500,360*Math.random()),c=b.reverse(),b=cc.RepeatForever.create(cc.Sequence.create(b,c));
a.runAction(b);b=cc.ScaleBy.create(0.5+1E3*Math.random()/500,0.5,0.5);b=cc.RepeatForever.create(cc.Sequence.create(b,b.reverse()));a.runAction(b)},title:function(){return"G ("+this.U+") actions 80% out"}});function Xg(a){this.name=a;this.totalTime=this.numberOfCalls=0;this.Dd=1E4;this.Bd=0;this.Wg=function(){var a=1E3*r.getSecondsPerFrame();this.totalTime+=a;this.numberOfCalls++;this.Dd=Math.min(this.Dd,a);this.Bd=Math.max(this.Bd,a)};this.reset=function(){this.totalTime=0;this.Dd=1E5;this.numberOfCalls=this.Bd=0};this.td=function(){cc.log("Profiling info for: "+this.name+"\nNumber of calls: "+this.numberOfCalls+"\nAverage Time: "+this.totalTime/this.numberOfCalls/1E3+"\nMin Time: "+this.Dd/1E3+"\nMax Time: "+
this.Bd/1E3+"\nTotal Time: "+this.totalTime/1E3+"\n")}}
var Yg=-1,Zg=[cc.Layer.extend({j:"",q:"",ctor:function(){this._super();this.init()},onEnter:function(){this._super();var a=cc.LabelTTF.create(this.j,"Arial",28);this.addChild(a,1);a.setPosition(cc.p(t.width/2,t.height-50));""!==this.q&&(a=cc.LabelTTF.create(this.q,"Thonburi",16),this.addChild(a,1),a.setPosition(cc.p(t.width/2,t.height-80)));var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.R,this),b=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.S,this),
c=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.Q,this),d=cc.Menu.create(a,b,c);d.setPosition(0,0);var f=b.getContentSize();a.setPosition(t.width/2-2*f.width,f.height/2);b.setPosition(t.width/2,f.height/2);c.setPosition(t.width/2+2*f.width,f.height/2);this.addChild(d,1)},S:function(){var a=new vg;a.addChild(new Zg[Yg]);r.replaceScene(a)},Q:function(){var a=new vg;a.addChild($g());r.replaceScene(a)},R:function(){var a=new vg;a.addChild(ah());r.replaceScene(a)}}).extend({j:"Performance Test 1",
q:"Let it run until you see the 'done' message. See console for results.",ctor:function(){this._super();this.hg=[this.Vi,this.Wi];this.kh=[this.ih,this.jh];this.lg=[100,500,1E3,2E3,5E3,1E4];this.ud=0;this.Pc=-1;this.Fc();this.scheduleUpdate();this.schedule(this.Af,5);this.se=g},Fc:function(){-1!=this.Pc&&this.kh[this.ud].bind(this)();this.Pc++;if(this.Pc>=this.lg.length&&(this.Pc=0,this.ud++,this.ud>=this.hg.length))return cc.log("No more tests"),j;var a=this.lg[this.Pc];this.hg[this.ud].bind(this)(a);
return g},Vi:function(a){this.Pe=new Xg("Test A - Total Sprites: "+a);Math.seedrandom("perftest");var b=cc.Node.create();this.addChild(b,0,10);for(var c=0;c<a;c++){var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);d.setPosition(Math.random()*t.width,Math.random()*t.height)}},ih:function(){this.removeChildByTag(10,g)},Wi:function(a){this.Pe=new Xg("Test B - Total Sprites: "+a);Math.seedrandom("perftest");var b=cc.SpriteBatchNode.create("res/Images/grossini.png",a);this.addChild(b,0,10);
for(var c=0;c<a;c++){var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);d.setPosition(Math.random()*t.width,Math.random()*t.height)}},jh:function(){this.removeChildByTag(10,g)},update:function(){this.se?this.se=j:this.Pe.Wg()},Af:function(){this.Pe.td();this.se=g;this.Fc()||this.unschedule(this.Af)}})],vg=w.extend({N:function(){Yg=-1;this.addChild($g());r.replaceScene(this)}});function $g(){Yg++;Yg%=Zg.length;return new Zg[Yg]}
function ah(){Yg--;0>Yg&&(Yg+=Zg.length);return new Zg[Yg]};var pg=0,qg=xg.extend({Va:function(){var a=h;switch(this.Y){case 0:a=qg.Gc()}pg=this.Y;a&&cc.Director.getInstance().replaceScene(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-32));b.setColor(cc.D(255,255,40));b=this.f();b.length&&(b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80)));this.Fd()},title:l("no title"),
f:l("no subtitle"),Fd:k()}).extend({Fd:function(){cc.log("--------");cc.log("--- PNG 128x128 ---");this.Gd("res/Images/test_image.png");cc.log("--- PNG 512x512 ---");this.Gd("res/Images/texture512x512.png");cc.log("EMPTY IMAGE");cc.log("--- PNG 1024x1024 ---");this.Gd("res/Images/texture1024x1024.png");cc.log("LANDSCAPE IMAGE");cc.log("--- PNG 1024x1024 ---");this.Gd("res/Images/landscape-1024x1024.png")},title:l("Texture Performance Test"),f:l("See console for results"),Gd:function(a){var b=Date.now(),
c,d=cc.TextureCache.getInstance();if("opengl"in sys.capabilities)var f=cc.Texture2D.getDefaultAlphaPixelFormat();cc.log("RGBA 8888");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ya);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);cc.log("RGBA 4444");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.kc);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);
cc.log("RGBA 5551");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Eg);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);cc.log("RGB 565");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Dg);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(f)}});
qg.Gc=function(){var a=cc.Scene.create(),b=new qg(j,1,pg);a.addChild(b);return a};var rg=0,ch=xg.extend({Xb:2,kd:h,Yb:0,ac:0,$b:0,Zb:0,Sa:h,Va:function(){var a=h;switch(this.Y){case 0:a=new sg(g,2,this.Y);break;case 1:a=new bh(g,2,this.Y)}rg=this.Y;if(a){var b=cc.Scene.create();b.addChild(a);cc.Director.getInstance().replaceScene(b)}},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",32);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-50));this.scheduleUpdate();this.kd=cc.LabelTTF.create("00.0","Arial",
16);this.kd.setPosition(cc.p(a.width/2,a.height/2));this.addChild(this.kd);this.Yb=this.ac=this.$b=this.Zb=this.Sa=0},title:l("No title"),update:function(a){this.Sa+=a;if(1<this.Sa){var a=(this.Yb/this.Sa).toFixed(1),b=(this.ac/this.Sa).toFixed(1),c=(this.$b/this.Sa).toFixed(1),d=(this.Zb/this.Sa).toFixed(1);this.Yb=this.ac=this.$b=this.Zb=this.Sa=0;this.kd.setString(a+" "+b+" "+c+" "+d)}}}),sg=ch.extend({onEnter:function(){this._super();this.setTouchEnabled(g)},title:l("Targeted touches"),registerWithTouchDispatcher:function(){cc.Director.getInstance().getTouchDispatcher().addTargetedDelegate(this,
0,g)},onTouchBegan:function(){this.Yb++;return g},onTouchMoved:function(){this.ac++},onTouchEnded:function(){this.$b++},onTouchCancelled:function(){this.Zb++}}),bh=ch.extend({onEnter:function(){this._super();this.setTouchEnabled(g)},title:l("Standard touches"),registerWithTouchDispatcher:function(){cc.Director.getInstance().getTouchDispatcher().addStandardDelegate(this,0)},onTouchesBegan:function(a){this.Yb+=a.length},onTouchesMoved:function(a){this.ac+=a.length},onTouchesEnded:function(a){this.$b+=
a.length},onTouchesCancelled:function(a){this.Zb+=a.length}});var tg=0,ug=xg.extend({Va:function(){var a=h;switch(this.Y){case 0:a=ug.Gc()}tg=this.Y;a&&cc.Director.getInstance().replaceScene(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-32));b.setColor(cc.D(255,255,40));b=this.f();b.length&&(b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80)))},title:l("no title"),f:l("no subtitle"),
Fd:k()}).extend({Ka:h,If:h,xc:h,init:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.MenuItemFont.setFontSize(65);var b=cc.MenuItemFont.create(" - ",this.Ib,this);b.setColor(cc.D(0,200,20));var c=cc.MenuItemFont.create(" + ",this.kb,this);c.setColor(cc.D(0,200,20));b=cc.Menu.create(b,c);b.alignItemsHorizontally();b.setPosition(cc.p(a.width/2,a.height/2+100));this.addChild(b,1);b=cc.LabelTTF.create("0 nodes","Marker Felt",24);b.setColor(cc.D(0,200,20));b.setPosition(cc.p(a.width/
2,a.height-90));this.addChild(b,1,Dg);this.Ka=0;this.vf()},Fd:function(){this.init()},title:l("Animation Performance Test"),f:l(""),vf:function(){this.xc=cc.Node.create();this.addChild(this.xc);for(var a=cc.Director.getInstance().getWinSize(),b=0;10>b;b++){var c=new dh;c.init();c.setPosition(cc.p(a.width/2-15*b-200,a.height/2-15*b));this.Ka++;cc.log("create"+this.Ka);this.xc.addChild(c,0,this.Ka)}a=cc.MoveBy.create(1,cc.p(20,0));this.xc.runAction(cc.RepeatForever.create(a));this.Uc()},kb:function(){this.vf()},
Ib:function(){if(0<this.Ka)for(var a=0;10>a;a++)cc.log("remove"+this.Ka),this.xc.removeChildByTag(this.Ka,g),this.Ka--;this.Uc()},Uc:function(){if(this.Ka!=this.If){var a=this.Ka+" nodes";this.getChildByTag(Dg).setString(a);this.If=this.Ka}}}),dh=cc.Node.extend({Yw:h,Zw:h,nx:h,ox:h,$w:h,init:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/crystals.plist");var a=0;rightData=Array(10);for(a=0;10>a;a++){var b=cc.Sprite.createWithSpriteFrameName("crystals/4.png");
b.setPosition(cc.p(50,10*a-40));b.setRotation(-90);b.setScale(1);this.addChild(b);rightData[a]=b;0==a&&(rightItem=b)}for(a=0;10>a;a++){b=cc.Sprite.createWithSpriteFrameName("crystals/1.png");b.setPosition(cc.p(5*a,50));this.addChild(b);b.setScale(1.5);b.setRotation(350);var c=cc.RotateBy.create(0.01,5);b.runAction(cc.RepeatForever.create(c))}leftData=Array(10);for(a=0;10>a;a++)b=cc.Sprite.createWithSpriteFrameName("crystals/2.png"),b.setPosition(cc.p(10,5*a-20)),b.setRotation(90),this.addChild(b),
leftData[a]=b,0==a&&(leftItem=b)},ux:function(){leftX=leftItem.getPositionX()}});ug.Gc=function(){var a=cc.Scene.create(),b=new ug(j,1,tg);a.addChild(b);return a};(function(a,b,c,d,f,i,m){function o(a){var b,d,f=this,i=a.length,m=0,o=f.i=f.Hf=f.bx=0;f.tb=[];f.pf=[];for(i||(a=[i++]);m<c;)f.tb[m]=m++;for(m=0;m<c;m++)b=f.tb[m],o=o+b+a[m%i]&c-1,d=f.tb[o],f.tb[m]=d,f.tb[o]=b;f.g=function(a){var b=f.tb,d=f.i+1&c-1,i=b[d],m=f.Hf+i&c-1,o=b[m];b[d]=o;b[m]=i;for(var p=b[i+o&c-1];--a;)d=d+1&c-1,i=b[d],m=m+i&c-1,o=b[m],b[d]=o,b[m]=i,p=p*c+b[i+o&c-1];f.i=d;f.Hf=m;return p};f.g(c)}function q(a,b){var c,d,f;c=[];f=typeof a;if(b&&"object"==f)for(d in a)if(5>d.indexOf("S"))try{c.push(q(a[d],
b-1))}catch(i){}return c.length?c:a+("string"!=f?"\x00":"")}function u(a,b){var d,f,a=a+"";for(f=d=0;f<a.length;f++){var i=b,m=f&c-1,o=(d^=19*b[f&c-1])+a.charCodeAt(f);i[m]=o&c-1}a="";for(f in b)a+=String.fromCharCode(b[f]);return a}b.seedrandom=function(p,s){var I=[],M,p=u(q(s?[p,a]:arguments.length?p:[Date.now(),a,window],3),I);M=new o(I);u(M.tb,a);b.random=function(){for(var a=M.g(d),b=m,o=0;a<f;)a=(a+o)*c,b*=c,o=M.g(1);for(;a>=i;)a/=2,b/=2,o>>>=1;return(a+o)/b};return p};m=b.pow(c,d);f=b.pow(2,
f);i=2*f;u(b.random(),a)})([],Math,256,6,52);var eh=-1,fh=cc.p(0,0);function W(){x.call(this,cc.o(0,0,0,255),cc.o(98,99,117,255));this.j="No title";this.q="No Subtitle";this.qa=j}cc.inherits(W,x);n=W.prototype;
n.onEnter=function(){x.prototype.onEnter.call(this);var a=36,b=this.j.length,a=1.6*(t.width/b);0.09<a/t.width&&(a=0.09*t.width);this.label=cc.LabelTTF.create(this.j,"Gill Sans",a);this.addChild(this.label,100);var c=this.qa;c===g?this.label.setPosition(fh):this.label.setPosition(t.width/2,11*t.height/12);var d=this.q;""!==d?(b=this.q.length,b=1.3*(t.width/b),b>0.4*a&&(b=0.4*a),this.Nd=cc.LabelTTF.create(d,"Thonburi",b),this.addChild(this.Nd,90),c?this.Nd.setPosition(cc.p(t.width/2,3*t.height/8)):
this.Nd.setPosition(cc.p(t.width/2,4*t.height/5))):this.Nd=h;d=this.getChildByTag(10);a=d.getChildByTag(1);c=d.getChildByTag(2);d=d.getChildByTag(3);[a,c,d].forEach(function(a){a.getNormalImage().setOpacity(45);a.getSelectedImage().setOpacity(45)});this.removeChildByTag(11);this.removeChildByTag(12)};n.fc=function(){for(var a="",b=0;b<arguments.length;b++)0!==b&&(a+="\n"),a+="- "+arguments[b];a=cc.LabelTTF.create(a,"Gill Sans",0.07*t.height);a.setPosition(fh);this.addChild(a,80)};
function gh(a,b){var c=cc.Sprite.create(b);c.setPosition(fh);a.addChild(c,70)}n.S=function(){var a=new Ka;a.addChild(new hh[eh]);r.replaceScene(a)};n.Q=function(){var a=new Ka;a.addChild(ih());r.replaceScene(a)};n.R=function(){var a=new Ka;a.addChild(jh());r.replaceScene(a)};n.W=function(){return hh.length-1-eh};n.T=function(){return eh};function kh(){W.call(this);this.j="cocos2d JS";this.q="Game Development Kit";this.qa=g}cc.inherits(kh,W);
function lh(){W.call(this);this.j="Goals";this.q="";this.qa=j;this.fc("Rapid prototyping","Rapid game development","Multiplatform: Mobile & Web","High quality code","Good performance")}cc.inherits(lh,W);function mh(){W.call(this);this.j="Options";this.q="HTML5 engines";this.qa=j;this.fc("cocos2d HTML5","Impact JS","LimeJS","Construct 2","etc...")}cc.inherits(mh,W);
function nh(){W.call(this);this.j="HTML5 Features";this.q="";this.qa=j;this.fc("Rapid prototyping","Rapid game development","Multiplatform: Mobile & Web","High quality code ???","Good Performance ???")}cc.inherits(nh,W);function oh(){W.call(this);this.j="HTML5 Mobile performance";this.q="Bad performance, even with accel frameworks";this.qa=j;gh(this,"res/Presentation/comparison.png")}cc.inherits(oh,W);
function ph(){W.call(this);this.j="Performance";this.q="But what we want is...";this.qa=j;this.fc("Hundreds of sprites... at 60 FPS","Physics... at 60 FPS","Particles... at 60 FPS")}cc.inherits(ph,W);function qh(){W.call(this);this.sc=cc.SpriteBatchNode.create("res/Images/grossini.png",50);this.addChild(this.sc);this.ib=function(a){this.sc.addChild(this.createPhysicsSprite(a))};this.j="Performance";this.q="Physics and Sprites";this.Fb();rh(this)}cc.inherits(qh,W);n=qh.prototype;n.hi=function(){this.sd.setVisible(!this.sd.isVisible())};
function rh(a){cc.MenuItemFont.setFontSize(16);var b=cc.MenuItemFont.create("Toggle Physics Debug",a.hi,a),b=cc.Menu.create(b);a.addChild(b,99);b.setPosition(cc.p(t.width-80,t.height-100))}
n.Fb=function(){this.H=new cp.Space;for(var a=this.H.getStaticBody(),a=[new cp.SegmentShape(a,cp.v(0,0),cp.v(t.width,0),0),new cp.SegmentShape(a,cp.v(0,t.height),cp.v(t.width,t.height),0),new cp.SegmentShape(a,cp.v(0,0),cp.v(0,t.height),0),new cp.SegmentShape(a,cp.v(t.width,0),cp.v(t.width,t.height),0)],b=0;b<a.length;b++){var c=a[b];c.setElasticity(1);c.setFriction(1);this.H.addStaticShape(c)}this.H.gravity=cp.v(0,-100);this.sd=cc.PhysicsDebugNode.create(this.H.handle);this.sd.setVisible(j);this.addChild(this.sd,
100)};n.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.H.addBody(b);a=cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.H.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b.handle);return a};
n.onEnter=function(){W.prototype.onEnter.call(this);for(var a=0;20>a;a++)this.ib(cp.v(40+Math.random()*(t.width-80),t.height/2+80*Math.random()));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)};n.onExitTransitionDidStart=function(){r.setDisplayStats(j)};n.onEnterTransitionDidFinish=function(){r.setDisplayStats(g);this.scheduleUpdate()};n.update=function(a){this.H.step(a)};n.onMouseDown=function(a){for(var b=0;10>b;b++)this.ib(a.getLocation())};
n.onTouchesEnded=function(a){for(var b=a.length,c=0;c<b;c++)this.ib(a[c].getLocation())};
function sh(){W.call(this);this.j="Performance";this.q="Particles";var a=cc.ParticleFireworks.create();this.addChild(a);a.setPosition(fh);var b=cc.ParticleSun.create();this.addChild(b);b.setPosition(cc.p(t.width/4,t.height/2));b=cc.ParticleMeteor.create();this.addChild(b);b.setPosition(cc.p(3*t.width/4,t.height/2));b=cc.ParticleSystem.create("res/Particles/Flower.plist");this.addChild(b);b.setPosition(fh);this.Uf=a;"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
this.onMouseDown=function(a){this.Uf.setPosition(a.getLocation())};this.onMouseDragged=function(a){return this.onMouseDown(a)};this.onTouchesEnded=function(a){for(var b=a.length,f=0;f<b;f++)this.Uf.setPosition(a[f].getLocation())};this.onTouchesMoved=function(a,b){return this.onTouchesEnded(a,b)};this.onExitTransitionDidStart=function(){r.setDisplayStats(j)};this.onEnterTransitionDidFinish=function(){r.setDisplayStats(g)}}cc.inherits(sh,W);
function th(){W.call(this);this.j="Improving the performance";this.q='Redefining "fast" for mobile';this.qa=g}cc.inherits(th,W);function uh(){W.call(this);this.j="HTML5 Mobile Accelerators";this.q="";this.qa=j;gh(this,"res/Presentation/html5accelerator.png")}cc.inherits(uh,W);function vh(){W.call(this);this.j="cocos2d Acceleration";this.q="";this.qa=j;gh(this,"res/Presentation/gdkaccelerator.png")}cc.inherits(vh,W);
function wh(){W.call(this);this.j="Components";this.q="";this.qa=j;this.fc("Game engine: cocos2d","Physics engine: Chipmunk","World Editor: CocosBuilder")}cc.inherits(wh,W);function xh(){W.call(this);this.j="Who is using it";this.q="";this.qa=j;this.fc("Zynga","...and you ?")}cc.inherits(xh,W);function yh(){W.call(this);this.j="Demo";this.q="";this.qa=g}cc.inherits(yh,W);function zh(){W.call(this);this.j="Thanks";this.q="";this.qa=g}cc.inherits(zh,W);function Ka(){w.call(this)}cc.inherits(Ka,w);
Ka.prototype.N=function(){eh=-1;fh=cc.p(t.width/2,t.height/2);this.addChild(ih());r.replaceScene(this)};var hh=[kh,lh,mh,nh,oh,ph,qh,sh,th,uh,vh,wh,yh,xh,zh];function ih(){eh++;eh%=hh.length;return new hh[eh]}function jh(){eh--;0>eh&&(eh+=hh.length);return new hh[eh]};var Ah=-1,Eh=x.extend({title:l("ProgressActionsTest"),title:l(""),R:function(){var a=new Aa;a.addChild(Bh());r.replaceScene(a)},S:function(){var a=new Aa;a.addChild(new Ch[Ah]);r.replaceScene(a)},Q:function(){var a=new Aa;a.addChild(Dh());r.replaceScene(a)},W:function(){return Ch.length-1-Ah},T:function(){return Ah}}),Fh=Eh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));
c.setType(cc.Qb);this.addChild(c);c.setPosition(200,t.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));a.setType(cc.Qb);a.setReverseDirection(g);this.addChild(a);a.setPosition(t.width-200,t.height/2);a.runAction(cc.RepeatForever.create(b))},title:l("ProgressTo Radial")}),Gh=Eh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));
c.setType(cc.sa);c.setMidpoint(cc.p(0,0));c.setBarChangeRate(cc.p(1,0));this.addChild(c);c.setPosition(200,t.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));a.setType(cc.sa);a.setMidpoint(cc.p(1,0));a.setBarChangeRate(cc.p(1,0));this.addChild(a);a.setPosition(t.width-200,t.height/2);a.runAction(cc.RepeatForever.create(b))},title:l("ProgressTo Horizontal")}),Hh=Eh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,
100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));c.setType(cc.sa);c.setMidpoint(cc.p(0,0));c.setBarChangeRate(cc.p(0,1));this.addChild(c);c.setPosition(200,t.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));a.setType(cc.sa);a.setMidpoint(cc.p(0,1));a.setBarChangeRate(cc.p(0,1));this.addChild(a);a.setPosition(t.width-200,t.height/2);a.runAction(cc.RepeatForever.create(b))},
title:l("ProgressTo Vertical")}),Ih=Eh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));b.setType(cc.Qb);this.addChild(b);b.setMidpoint(cc.p(0.25,0.75));b.setPosition(200,t.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));b.setType(cc.Qb);b.setMidpoint(cc.p(0.75,0.25));this.addChild(b);b.setPosition(t.width-200,t.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},
title:l("Radial w/ Different Midpoints")}),Jh=Eh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));b.setType(cc.sa);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,0));this.addChild(b);b.setPosition(150,t.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));b.setType(cc.sa);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,
1));this.addChild(b);b.setPosition(t.width/2,t.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));b.setType(cc.sa);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(0,1));this.addChild(b);b.setPosition(t.width-150,t.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},title:l("ProgressTo Bar Mid")}),Kh=Eh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(6,100),b=cc.Sequence.create(cc.TintTo.create(1,
255,0,0),cc.TintTo.create(1,0,255,0),cc.TintTo.create(1,0,0,255)),c=cc.Sequence.create(cc.FadeTo.create(1,0),cc.FadeTo.create(1,255)),d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));d.setType(cc.sa);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(1,0));this.addChild(d);d.setPosition(150,t.height/2);d.runAction(cc.RepeatForever.create(a.copy()));d.runAction(cc.RepeatForever.create(b.copy()));d.addChild(cc.LabelTTF.create("Tint","Marker Felt",20));d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));
d.setType(cc.sa);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(1,1));this.addChild(d);d.setPosition(t.width/2,t.height/2);d.runAction(cc.RepeatForever.create(a.copy()));d.runAction(cc.RepeatForever.create(c.copy()));d.addChild(cc.LabelTTF.create("Fade","Marker Felt",20));d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));d.setType(cc.sa);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(0,1));this.addChild(d);d.setPosition(t.width-150,t.height/2);d.runAction(cc.RepeatForever.create(a.copy()));
d.runAction(cc.RepeatForever.create(b.copy()));d.runAction(cc.RepeatForever.create(c.copy()));d.addChild(cc.LabelTTF.create("Tint and Fade","Marker Felt",20))},title:l("ProgressTo Bar Mid")}),Lh=Eh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(6,100);cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/grossini.plist");var b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png"));b.setType(cc.sa);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,
0));this.addChild(b);b.setPosition(150,t.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_02.png"));b.setType(cc.sa);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,1));this.addChild(b);b.setPosition(t.width/2,t.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_03.png"));b.setType(cc.Qb);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(0,
1));this.addChild(b);b.setPosition(t.width-150,t.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},title:l("Progress With Sprite Frame")}),Aa=w.extend({N:function(){Ah=-1;this.addChild(Dh());r.replaceScene(this)}}),Ch=[Fh,Gh,Hh,Ih,Jh,Kh,Lh];function Dh(){Ah++;Ah%=Ch.length;return new Ch[Ah]}function Bh(){Ah--;0>Ah&&(Ah+=Ch.length);return new Ch[Ah]};var Mh=-1,Qh=x.extend({ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255))},title:l("Render Texture"),f:l(""),code:l(""),S:function(){var a=new Ba;a.addChild(new Nh[Mh]);r.replaceScene(a)},Q:function(){var a=new Ba;a.addChild(Oh());r.replaceScene(a)},R:function(){var a=new Ba;a.addChild(Ph());r.replaceScene(a)},W:function(){return Nh.length-1-Mh},T:function(){return Mh}}),Rh=Qh.extend({Ha:h,Pa:h,cb:h,$a:0,onEnter:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):
"mouse"in sys.capabilities&&this.setMouseEnabled(g);this.Ha=cc.Sprite.create("res/Images/fire.png");this.Ha.retain();this.Ha.setColor(cc.Rb);this.Ha.setOpacity(20);var a=cc.MenuItemFont.create("Save",this.yi,this),b=cc.MenuItemFont.create("Clear",this.Xg.bind(this)),a=cc.Menu.create(a,b);a.alignItemsVertically();a.setPosition(t.width-70,t.height-80);this.addChild(a,10);a=cc.RenderTexture.create(t.width,t.height);a.setPosition(t.width/2,t.height/2);this.addChild(a,1);this.Pa=a;this.cb=cc.p(t.width/
2,t.height/2)},onExit:function(){this.Ha.release()},yi:function(){var a="image-"+this.$a+".png";this.Pa.saveToFile("image-"+this.$a+".jpg",cc.Ye);this.Pa.saveToFile(a,cc.Ze);cc.log("images saved!");this.$a++},Xg:function(){this.Pa.clear(Math.random(),Math.random(),Math.random(),1)},zf:function(a){var b=cc.pDistance(a,this.cb);if(1<b){this.Pa.begin();for(var c=0;c<b;c++){var d=c/b;this.Ha.setPosition(a.x+(this.cb.x-a.x)*d,a.y+(this.cb.y-a.y)*d);this.Ha.setRotation(360*Math.random());this.Ha.setScale(2*
Math.random());this.Ha.setColor(cc.D(255*Math.random(),255,255));this.Ha.visit()}this.Pa.end()}this.cb=a},onTouchesBegan:function(a){this.cb=a[0].getLocation();return g},onTouchesMoved:function(a){this.zf(a[0].getLocation());return g},onMouseDown:function(a){this.cb=a.getLocation();return g},onMouseDragged:function(a){this.zf(a.getLocation());return g},f:l("Testing 'save'")}),Sh=Qh.extend({ctor:function(){this._super();var a=cc.Director.getInstance().getWinSize();this.addChild(cc.LayerColor.create(cc.o(200,
200,200,255)));var b=cc.Sprite.create("res/Images/fire.png");b.setPosition(cc.p(16,48));var c=cc.Sprite.create("res/Images/fire.png");c.setPosition(cc.p(16,16));var d=cc.RenderTexture.create(32,64,cc.Qu);d&&(d.begin(),b.visit(),c.visit(),d.end(),b.setPosition(cc.p(a.width/2-16,a.height/2+16)),c.setPosition(cc.p(a.width/2-16,a.height/2-16)),d.setPosition(cc.p(a.width/2+16,a.height/2)),this.addChild(c),this.addChild(b),this.addChild(d))},title:l("Testing issue #937"),f:l("All images should be equal...")}),
Th=Qh.extend({Ja:h,Hc:h,Ic:h,Jc:h,Kc:h,Lc:h,Mc:h,Nc:h,Oc:h,Kb:h,ctor:function(){this._super();this.setTouchEnabled(g);var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create("vertexZ = 50","Marker Felt",64);b.setPosition(cc.p(a.width/2,0.25*a.height));this.addChild(b);var c=cc.LabelTTF.create("vertexZ = 0","Marker Felt",64);c.setPosition(cc.p(a.width/2,0.5*a.height));this.addChild(c);var d=cc.LabelTTF.create("vertexZ = -50","Marker Felt",64);d.setPosition(cc.p(a.width/2,0.75*a.height));
this.addChild(d);b.setVertexZ(50);c.setVertexZ(0);d.setVertexZ(-50);cc.SpriteFrameCache.getInstance().addSpriteFrames(da);this.Ja=cc.SpriteBatchNode.create("res/Images/bugs/circle.png",9);this.addChild(this.Ja);this.Hc=cc.Sprite.createWithSpriteFrameName("circle.png");this.Ic=cc.Sprite.createWithSpriteFrameName("circle.png");this.Jc=cc.Sprite.createWithSpriteFrameName("circle.png");this.Kc=cc.Sprite.createWithSpriteFrameName("circle.png");this.Lc=cc.Sprite.createWithSpriteFrameName("circle.png");
this.Mc=cc.Sprite.createWithSpriteFrameName("circle.png");this.Nc=cc.Sprite.createWithSpriteFrameName("circle.png");this.Oc=cc.Sprite.createWithSpriteFrameName("circle.png");this.Kb=cc.Sprite.createWithSpriteFrameName("circle.png");this.Ja.addChild(this.Hc,9);this.Ja.addChild(this.Ic,8);this.Ja.addChild(this.Jc,7);this.Ja.addChild(this.Kc,6);this.Ja.addChild(this.Lc,5);this.Ja.addChild(this.Mc,4);this.Ja.addChild(this.Nc,3);this.Ja.addChild(this.Oc,2);this.Ja.addChild(this.Kb,1);this.Hc.setVertexZ(400);
this.Ic.setVertexZ(300);this.Jc.setVertexZ(200);this.Kc.setVertexZ(100);this.Lc.setVertexZ(0);this.Mc.setVertexZ(-100);this.Nc.setVertexZ(-200);this.Oc.setVertexZ(-300);this.Kb.setVertexZ(-400);this.Kb.setScale(2);this.Kb.setColor(cc.ie)},onTouchesBegan:function(a){if(a&&0!==a.length)for(var b=0;b<a.length;b++){var c=a[b].getLocation();this.Hc.setPosition(c);this.Ic.setPosition(c);this.Jc.setPosition(c);this.Kc.setPosition(c);this.Lc.setPosition(c);this.Mc.setPosition(c);this.Nc.setPosition(c);this.Oc.setPosition(c);
this.Kb.setPosition(c)}},onTouchesMoved:function(a){if(a&&0!==a.length)for(var b=0;b<a.length;b++){var c=a[b].getLocation();this.Hc.setPosition(c);this.Ic.setPosition(c);this.Jc.setPosition(c);this.Kc.setPosition(c);this.Lc.setPosition(c);this.Mc.setPosition(c);this.Nc.setPosition(c);this.Oc.setPosition(c);this.Kb.setPosition(c)}},onTouchesEnded:function(){this.ti()},title:l("Testing Z Buffer in Render Texture"),f:l("Touch screen. It should be green"),ti:function(){var a=cc.Director.getInstance().getWinSize(),
b=cc.RenderTexture.create(a.width,a.width);b&&(b.setAnchorPoint(cc.p(0,0)),b.begin(),this.visit(),b.end(),b=cc.Sprite.createWithTexture(b.getSprite().getTexture()),b.setPosition(cc.p(a.width/2,a.width/2)),b.setOpacity(182),b.setFlipY(1),this.addChild(b,999999),b.setColor(cc.Yd),b.runAction(cc.Sequence.create(cc.FadeTo.create(2,0),cc.Hide.create())))}}),Uh=Qh.extend({ctor:function(){this._super();var a=cc.renderContext,b=cc.Director.getInstance().getWinSize(),c=cc.Sprite.create("res/Images/fire.png");
c.setPosition(cc.p(0.25*b.width,0));c.setScale(10);var d=cc.RenderTexture.create(b.width,b.height);a.stencilMask(255);d.beginWithClear(0,0,0,0,0,0);a.enable(a.STENCIL_TEST);a.stencilFunc(a.ALWAYS,1,255);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE);a.colorMask(0,0,0,1);c.visit();c.setPosition(cc.pAdd(c.getPosition(),cc.pMult(cc.p(c.getContentSize().width*c.getScale(),c.getContentSize().height*c.getScale()),0.5)));a.stencilFunc(a.NOTEQUAL,1,255);a.colorMask(1,1,1,1);c.visit();d.end();a.disable(a.STENCIL_TEST);
d.setPosition(cc.p(0.5*b.width,0.5*b.height));this.addChild(d)},title:l("Testing depthStencil attachment"),f:l("Circle should be missing 1/4 of its region")}),Vh=Qh.extend({V:h,aa:h,Ca:0,pc:h,ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.o(40,40,40,255)));this.V=cc.Sprite.create("res/Images/fire.png");this.aa=cc.Sprite.create("res/Images/fire.png");var a=cc.Director.getInstance().getWinSize(),b=cc.RenderTexture.create(a.width,a.height);this.pc=b;b.setPosition(cc.p(a.width/2,
a.height/2));b.addChild(this.V);b.addChild(this.aa);b.setClearColor(cc.G(0,0,0,0));b.setClearFlags(cc.renderContext.COLOR_BUFFER_BIT);this.addChild(b);b.setAutoDraw(g);this.scheduleUpdate();b=cc.MenuItemFont.create("Clear On/Off",this.aj,this);b=cc.Menu.create(b);this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},update:function(a){this.V.setPosition(cc.p(80*Math.cos(2*this.Ca),80*Math.sin(2*this.Ca)));this.aa.setPosition(cc.p(80*Math.sin(2*this.Ca),80*Math.cos(2*this.Ca)));this.Ca+=a},title:l("Testing Render Target Node"),
f:l("Sprites should be equal and move with each frame"),aj:function(){0==this.pc.getClearFlags()?this.pc.setClearFlags(cc.renderContext.COLOR_BUFFER_BIT):(this.pc.setClearFlags(0),this.pc.setClearColor(cc.G(Math.random(),Math.random(),Math.random(),1)))}}),Wh=Qh.extend({Ha:h,Pa:h,cb:h,$a:0,ctor:function(){this._super();var a=cc.Sprite.create("res/animations/grossini.png"),b=cc.RenderTexture.create(t.width/2,t.height/2);b.setPosition(t.width/2,t.height/2);this.addChild(b,1);a.setPosition(t.width/4,
t.height/4);b.begin();a.visit();b.end();var a=cc.FadeOut.create(2),c=a.reverse(),d=cc.DelayTime.create(0.25),a=cc.Sequence.create(a,d,c,d.copy()),a=cc.RepeatForever.create(a);b.getSprite().runAction(a)},title:l("Issue 1464"),f:l("Sprites should fade in / out correctly"),B:2.1,n:function(){return JSON.stringify({"0":0,1:0,2:0,3:255,4:0,5:0,6:0,7:255,8:0,9:0,10:0,11:255,12:0,13:0,14:0,15:255,16:0,17:0,18:0,19:255,20:0,21:0,22:0,23:255,24:0,25:0,26:0,27:255,28:0,29:0,30:0,31:255,32:0,33:0,34:0,35:255,
36:0,37:0,38:0,39:255,40:0,41:0,42:0,43:255,44:0,45:0,46:0,47:255,48:0,49:0,50:0,51:255,52:0,53:0,54:0,55:255,56:0,57:0,58:0,59:255,60:0,61:0,62:0,63:255})},m:function(){var a=this.readPixels(t.width/2-2,t.height/2-2,4,4);return JSON.stringify(a)}}),Ba=w.extend({N:function(){Mh=-1;this.addChild(Oh());r.replaceScene(this)}}),Nh=[Rh,Wh];"opengl"in sys.capabilities&&"browser"==sys.platform&&(Nh.push(Sh),Nh.push(Th),Nh.push(Uh),Nh.push(Vh));function Oh(){Mh++;Mh=Mh%Nh.length;return new Nh[Mh]}
function Ph(){Mh--;Mh<0&&(Mh=Mh+Nh.length);return new Nh[Mh]};var Ca=w.extend({N:function(){this.addChild(Xh.create());this.runAction(cc.RotateBy.create(4,-360));r.replaceScene(this)}}),Yh=cc.Layer.extend({ctor:function(){this._super();this.init()},onEnter:function(){this._super();var a,b,c=r.getWinSize();a=c.width;b=c.height;var d=cc.Sprite.create("res/Images/grossini.png"),c=cc.Sprite.create("res/Images/grossinis_sister1.png"),f=cc.Sprite.create("res/Images/grossinis_sister2.png");d.setScale(1.5);c.setScale(1.5);f.setScale(1.5);d.setPosition(a/2,b/2);c.setPosition(40,
b/2);f.setPosition(a-40,b/2);a=cc.RotateBy.create(16,-3600);this.addChild(d);this.addChild(c);this.addChild(f);d.runAction(a);a=cc.JumpBy.create(4,cc.p(-400,0),100,4);d=a.reverse();b=cc.RotateBy.create(4,720);var i=b.reverse();c.runAction(cc.Repeat.create(cc.Sequence.create(d,a),5));f.runAction(cc.Repeat.create(cc.Sequence.create(a.copy(),d.copy()),5));c.runAction(cc.Repeat.create(cc.Sequence.create(b,i),5));f.runAction(cc.Repeat.create(cc.Sequence.create(i.copy(),b.copy()),5))}});Yh.create=function(){return new Yh};
var Zh=cc.Layer.extend({ctor:function(){this._super();this.init()},onEnter:function(){this._super();var a,b;b=r.getWinSize();a=b.width;b=b.height;var c=cc.LabelTTF.create("cocos2d","Tahoma",64);c.setPosition(a/2,b/2);this.addChild(c)}});Zh.create=function(){return new Zh};
var Xh=cc.Layer.extend({ctor:function(){this._super();this.init()},onEnter:function(){this._super();var a,b,c=r.getWinSize();a=c.width;b=c.height;var c=cc.LayerColor.create(cc.o(0,0,255,255)),d=cc.LayerColor.create(cc.o(255,0,0,255)),f=cc.LayerColor.create(cc.o(0,255,0,255)),i=cc.LayerColor.create(cc.o(255,255,255,255));c.setScale(0.5);c.setPosition(-a/4,-b/4);c.addChild(Yh.create());d.setScale(0.5);d.setPosition(a/4,-b/4);f.setScale(0.5);f.setPosition(-a/4,b/4);f.addChild(Zh.create());i.setScale(0.5);
i.setPosition(a/4,b/4);this.addChild(c,-1);this.addChild(i);this.addChild(f);this.addChild(d);a=cc.RotateBy.create(8,720);c.runAction(a);d.runAction(a.copy());f.runAction(a.copy());i.runAction(a.copy())}});Xh.create=function(){return new Xh};var ai=cc.Layer.extend({ctor:function(){this._super();this.init();var a=r.getWinSize(),b=cc.MenuItemFont.create("Test pushScene",this.Uh,this),c=cc.MenuItemFont.create("Test pushScene w/transition",this.Vh,this),d=cc.MenuItemFont.create("Quit",function(){cc.log("quit!")},this),b=cc.Menu.create(b,c,d);b.alignItemsVertically();this.addChild(b);b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);b.setPosition(cc.p(a.width-40,a.height/2));a=cc.RotateBy.create(2,360);a=cc.RepeatForever.create(a);
b.runAction(a)},onEnter:function(){cc.log("SceneTestLayer1#onEnter");this._super()},onEnterTransitionDidFinish:function(){cc.log("SceneTestLayer1#onEnterTransitionDidFinish");this._super()},gg:k(),Uh:function(){var a=new SceneTestScene,b=new $h;a.addChild(b,0);r.pushScene(a)},Vh:function(){var a=new SceneTestScene,b=new $h;a.addChild(b,0);r.pushScene(cc.TransitionSlideInT.create(1,a))},Nf:k()}),$h=cc.Layer.extend({xx:0,ctor:function(){this._super();this.init();var a=r.getWinSize(),b=cc.MenuItemFont.create("replaceScene",
this.Zh,this),c=cc.MenuItemFont.create("replaceScene w/transition",this.$h,this),d=cc.MenuItemFont.create("Go Back",this.Fh,this),b=cc.Menu.create(b,c,d);b.alignItemsVertically();this.addChild(b);b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);b.setPosition(cc.p(a.width-40,a.height/2));a=cc.RotateBy.create(2,360);a=cc.RepeatForever.create(a);b.runAction(a)},gg:k(),Fh:function(){r.popScene()},Zh:function(){var a=new SceneTestScene,b=new bi;a.addChild(b,0);r.replaceScene(a)},$h:function(){var a=
new SceneTestScene,b=new bi;a.addChild(b,0);r.replaceScene(cc.TransitionSlideInT.create(2,a))}}),bi=cc.LayerColor.extend({ctor:function(){this._super();this.init(cc.o(0,128,255,255));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.LabelTTF.create("Touch to popScene","Arial",28);this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a);a.setPosition(cc.p(b.width-
40,b.height/2));b=cc.RotateBy.create(2,360);b=cc.RepeatForever.create(b);a.runAction(b)},gg:k(),onTouchesEnded:function(){r.popScene()},onMouseUp:function(){r.popScene()}});SceneTestScene=w.extend({N:function(){this.addChild(new ai);r.replaceScene(this)}});var ci=-1,fi=x.extend({title:l("No title"),f:l(""),R:function(){var a=new Da,b;ci--;0>ci&&(ci+=di.length);b=new di[ci];a.addChild(b);r.replaceScene(a)},Q:function(){var a=new Da,b=ei();a.addChild(b);r.replaceScene(a)},S:function(){var a=new Da,b=new di[ci];a.addChild(b);r.replaceScene(a)},W:function(){return di.length-1-ci},T:function(){return ci}}),gi=fi.extend({Ga:0,onEnter:function(){this._super();this.schedule(this.Mf,0.5);this.schedule(this.Me,0.5);this.Ga=0},title:l("Self-remove an scheduler"),
f:l("1 scheduler will be autoremoved in 3 seconds. See console"),Mf:function(a){this.Ga+=a;cc.log("Time: "+this.Ga);3<this.Ga&&(this.unschedule(this.Mf),cc.log("scheduler removed"))},Me:function(){cc.log("This scheduler should not be removed")}}),hi=fi.extend({onEnter:function(){this._super();this.schedule(this.lb,0.5);this.schedule(this.mb,0.5);this.schedule(this.Je,3)},title:l("Pause / Resume"),f:l("Scheduler should be paused after 3 seconds. See console"),lb:function(){cc.log("tick1")},mb:function(){cc.log("tick2")},
Je:function(){r.getScheduler().pauseTarget(this)}}),ii=fi.extend({onEnter:function(){this._super();this.schedule(this.lb,0.5);this.schedule(this.mb,1);this.schedule(this.Cc,1.5);this.schedule(this.Dc,1.5);this.schedule(this.Ne,4)},title:l("Unschedule All callbacks"),f:l("All scheduled callbacks will be unscheduled in 4 seconds. See console"),lb:function(){cc.log("tick1")},mb:function(){cc.log("tick2")},Cc:function(){cc.log("tick3")},Dc:function(){cc.log("tick4")},Ne:function(){this.unscheduleAllCallbacks()}}),
ji=fi.extend({onEnter:function(){this._super();this.schedule(this.lb,0.5);this.schedule(this.mb,1);this.schedule(this.Cc,1.5);this.schedule(this.Dc,1.5);this.schedule(this.Ne,4)},title:l("Unschedule All callbacks #2"),f:l("Unschedules all callbacks after 4s. Uses CCScheduler. See console"),lb:function(){cc.log("tick1")},mb:function(){cc.log("tick2")},Cc:function(){cc.log("tick3")},Dc:function(){cc.log("tick4")},Ne:function(){r.getScheduler().unscheduleAllCallbacks()}}),ki=fi.extend({onEnter:function(){this._super();
this.schedule(this.lb,0.5);this.schedule(this.mb,1);this.schedule(this.Of,4)},title:l("Schedule from Schedule"),f:l("Will unschedule and schedule callbacks in 4s. See console"),lb:function(){cc.log("tick1")},mb:function(){cc.log("tick2")},Cc:function(){cc.log("tick3")},Dc:function(){cc.log("tick4")},Of:function(){this.unschedule(this.lb);this.unschedule(this.mb);this.unschedule(this.Of);this.schedule(this.Cc,1);this.schedule(this.Dc,1)}}),li=cc.Node.extend({hf:"",ctor:function(a,b){this._super();
this.init();this.hf=a;this.scheduleUpdateWithPriority(b)},update:function(){cc.log(this.hf)}}),mi=fi.extend({onEnter:function(){this._super();this.addChild(new li("---",50));this.addChild(new li("3rd",0));this.addChild(new li("1st",-10));this.addChild(new li("4th",10));this.addChild(new li("5th",20));this.addChild(new li("2nd",-5));this.schedule(this.Yh,4)},title:l("Schedule update with priority"),f:l("3 scheduled updates. Priority should work. Stops in 4s. See console"),Yh:function(){for(var a=this.getChildren(),
b=0;b<a.length;b++){var c=a[b];c&&c.unscheduleAllCallbacks()}}}),ni=fi.extend({onEnter:function(){this._super();this.scheduleUpdate();this.schedule(this.Me);this.schedule(this.ci,4)},title:l("Schedule Update + custom callback"),f:l("Update + custom callback at the same time. Stops in 4s. See console"),update:function(a){cc.log("update called:"+a)},Me:function(a){cc.log("custom callback called:"+a)},ci:function(){this.unscheduleAllCallbacks()}}),oi=fi.extend({onEnter:function(){this._super();this.schedule(this.Jb,
2)},title:l("Schedule Update in 2 sec"),f:l("Update schedules in 2 secs. Stops 2 sec later. See console"),update:function(a){cc.log("update called:"+a)},Jb:function(){this.unschedule(this.Jb);this.scheduleUpdate();this.schedule(this.Rf,2)},Rf:function(){this.unscheduleUpdate();this.unschedule(this.Rf)}}),pi=fi.extend({nc:1,nd:0,onEnter:function(){this._super();this.nc=1;this.nd=0;this.schedule(this.Jb,this.nc)},title:l("Reschedule Callback"),f:l("Interval is 1 second, then 2, then 3..."),Jb:function(a){this.nd++;
cc.log("schedUpdate: "+a.toFixed(2));3<this.nd&&(this.nc+=1,this.schedule(this.Jb,this.nc),this.nd=0)}}),qi=fi.extend({Ga:0,onEnter:function(){this._super();this.Ga=0;var a=r.getScheduler();a.scheduleUpdateForTarget(this,0,j);var b=cc.$e;a.scheduleCallbackForTarget(this,this.Jb,0.25,b,2,j)},title:l("Schedule / Unschedule using Scheduler"),f:l("After 5 seconds all callbacks should be removed"),update:function(a){cc.log("update: "+a)},Jb:function(a){cc.log("onSchedUpdate delta: "+a);this.Ga+=a;3<this.Ga&&
r.getScheduler().unscheduleAllCallbacksForTarget(this);cc.log("onSchedUpdate accum: "+this.Ga)}}),Da=w.extend({N:function(){ci=-1;this.addChild(ei());r.replaceScene(this)}}),di=[gi,hi,ii,ji,ki,mi,ni,oi,pi,qi];function ei(){ci++;ci%=di.length;return new di[ci]};var X=1,La=2,F=0,G=1,Hc=2,ri=-1,Y=cc.SpriteFrameCache.getInstance(),Z=x.extend({j:"",q:"",ctor:function(){0===arguments.length?this._super(cc.o(0,0,0,255),cc.o(98,99,117,255)):this._super.apply(this,arguments)},S:function(){var a=new Ea;a.addChild(new si[ri]);r.replaceScene(a)},Q:function(){var a=new Ea;a.addChild(ti());r.replaceScene(a)},R:function(){var a=new Ea;a.addChild(ui());r.replaceScene(a)},W:function(){return si.length-1-ri},T:function(){return ri}}),vi=Z.extend({j:"Non Batched Sprite ",
q:"Tap screen to add more sprites",ctor:function(){this._super();this.Db(cc.p(t.width/2,t.height/2));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},Db:function(a){var b=0|14*Math.random(),b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85*(b%5),121*(0|b/5),85,121));this.addChild(b);b.setPosition(cc.p(a.x,a.y));var a=Math.random(),a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):0.8>
a?cc.TintBy.create(2,0,-255,-255):cc.FadeOut.create(2),c=a.reverse(),a=cc.Sequence.create(a,c);b.runAction(cc.RepeatForever.create(a))},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b];if(!c)break;this.Db(c.getLocation())}},onMouseDown:function(a){this.Db(a.getLocation());return g}}),wi=Z.extend({j:"Batched Sprite ",q:"Tap screen to add more sprites",ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
this.addChild(cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",50),0,1);this.Db(cc.p(t.width/2,t.height/2))},Db:function(a){var b=this.getChildByTag(1),c=0|14*Math.random(),d=85*(c%5),c=121*(0|c/5),d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(d,c,85,121));b.addChild(d);d.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):0.8>a?cc.TintBy.create(2,0,-255,-255):cc.FadeOut.create(2);b=a.reverse();
a=cc.Sequence.create(a,b);d.runAction(cc.RepeatForever.create(a))},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b];if(!c)break;this.Db(c.getLocation())}},onMouseDown:function(a){this.Db(a.getLocation());return g}}),xi=Z.extend({j:"Sprite: Color & Opacity",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(0,121,85,121)),b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121)),c=cc.Sprite.create("res/Images/grossini_dance_atlas.png",
cc.rect(170,121,85,121)),d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,121,85,121)),f=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(0,121,85,121)),i=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121)),m=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(170,121,85,121)),o=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,121,85,121));a.setPosition(cc.p(t.width/5,t.height/3));b.setPosition(cc.p(2*(t.width/
5),t.height/3));c.setPosition(cc.p(3*(t.width/5),t.height/3));d.setPosition(cc.p(4*(t.width/5),t.height/3));f.setPosition(cc.p(t.width/5,2*(t.height/3)));i.setPosition(cc.p(2*(t.width/5),2*(t.height/3)));m.setPosition(cc.p(3*(t.width/5),2*(t.height/3)));o.setPosition(cc.p(4*(t.width/5),2*(t.height/3)));var q=cc.FadeIn.create(2),u=q.reverse(),q=cc.RepeatForever.create(cc.Sequence.create(q,u)),u=cc.TintBy.create(2,0,-255,-255),p=u.reverse(),u=cc.RepeatForever.create(cc.Sequence.create(u,p)),p=cc.TintBy.create(2,
-255,0,-255),s=p.reverse(),p=cc.RepeatForever.create(cc.Sequence.create(p,s)),s=cc.TintBy.create(2,-255,-255,0),I=s.reverse(),s=cc.RepeatForever.create(cc.Sequence.create(s,I));f.runAction(u);i.runAction(p);m.runAction(s);o.runAction(q);this.addChild(a,0,F);this.addChild(b,0,G);this.addChild(c,0,Hc);this.addChild(d,0,3);this.addChild(f,0,4);this.addChild(i,0,5);this.addChild(m,0,6);this.addChild(o,0,7);this.schedule(this.Qe,2)},Qe:function(){var a=this.getChildByTag(4);this.removeChild(a,j);this.addChild(a,
0,4)}}),yi=Z.extend({j:"SpriteBatchNode: Color & Opacity",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121)),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(170,121,85,121)),f=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,121,85,121)),i=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(0,121,85,121)),m=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121)),o=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(170,121,85,121)),q=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,121,85,121));b.setPosition(cc.p(1*(t.width/5),1*(t.height/3)));c.setPosition(cc.p(2*(t.width/5),1*(t.height/3)));d.setPosition(cc.p(3*(t.width/5),1*(t.height/3)));f.setPosition(cc.p(4*(t.width/5),1*(t.height/3)));i.setPosition(cc.p(1*(t.width/5),2*(t.height/3)));m.setPosition(cc.p(2*
(t.width/5),2*(t.height/3)));o.setPosition(cc.p(3*(t.width/5),2*(t.height/3)));q.setPosition(cc.p(4*(t.width/5),2*(t.height/3)));var u=cc.FadeIn.create(2),p=u.reverse(),u=cc.RepeatForever.create(cc.Sequence.create(u,p)),p=cc.TintBy.create(2,0,-255,-255),p=cc.RepeatForever.create(cc.Sequence.create(p,p.reverse())),s=cc.TintBy.create(2,-255,0,-255),I=s.reverse(),s=cc.RepeatForever.create(cc.Sequence.create(s,I)),I=cc.TintBy.create(2,-255,-255,0),M=I.reverse(),I=cc.RepeatForever.create(cc.Sequence.create(I,
M));i.runAction(p);m.runAction(s);o.runAction(I);q.runAction(u);a.addChild(b,0,F);a.addChild(c,0,G);a.addChild(d,0,Hc);a.addChild(f,0,3);a.addChild(i,0,4);a.addChild(m,0,5);a.addChild(o,0,6);a.addChild(q,0,7);this.schedule(this.Qe,2)},Qe:function(){var a=this.getChildByTag(1),b=a.getChildByTag(4);a.removeChild(b,j);a.addChild(b,0,4)}}),Bi=Z.extend({Aa:0,j:"Sprite: Z order",ctor:function(){this._super();this.Aa=1;for(var a,b=t.width/11,c=0;5>c;c++)a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",
cc.rect(0,121,85,121)),a.setPosition(cc.p((c+1)*b,t.height/2)),this.addChild(a,c);for(c=5;10>c;c++)a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,0,85,121)),a.setPosition(cc.p((c+1)*b,t.height/2)),this.addChild(a,14-c);a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,0,85,121));this.addChild(a,-1,F);a.setPosition(cc.p(t.width/2,t.height/2-20));a.setScaleX(10);a.setColor(cc.Rb);this.schedule(this.ya,1)},ya:function(){var a=this.getChildByTag(F),b=a.getZOrder();
-1>b&&(this.Aa=1);10<b&&(this.Aa=-1);b+=3*this.Aa;this.reorderChild(a,b)}}),Ci=Z.extend({Aa:0,j:"SpriteBatch: Z order",ctor:function(){this._super();this.Aa=1;var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);for(var b,c=t.width/11,d=0;5>d;d++)b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),b.setPosition(cc.p((d+1)*c,t.height/2)),a.addChild(b,d);for(d=5;10>d;d++)b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,0,85,121)),b.setPosition(cc.p((d+
1)*c,t.height/2)),a.addChild(b,14-d);b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,0,85,121));a.addChild(b,-1,F);b.setPosition(cc.p(t.width/2,t.height/2-20));b.setScaleX(10);b.setColor(cc.Rb);this.schedule(this.ya,1)},ya:function(){var a=this.getChildByTag(1),b=a.getChildByTag(F),c=b.getZOrder();-1>c&&(this.Aa=1);10<c&&(this.Aa=-1);c+=3*this.Aa;a.reorderChild(b,c)}}),Di=Z.extend({j:"SpriteBatchNode: reorder #1",q:"Should not crash",ctor:function(){this._super();for(var a=[],b=cc.SpriteBatchNode.create("res/animations/ghosts.png"),
c=0;10>c;c++){var d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(0,0,50,50));a.push(d);b.addChild(d,10)}for(c=0;10>c;c++)5!=c&&b.reorderChild(a[c],9);d=b.getChildren();for(c=0;c<d.length;c++){a=d[c];if(!a)break;a.getAtlasIndex()}b=b.getDescendants();for(c=0;c<b.length;c++){a=b[c];if(!a)break;a.getAtlasIndex()}}}),Ei=Z.extend({j:"SpriteBatchNode: reorder issue #744",q:"Should not crash",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",15);this.addChild(a,
0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,85,121));b.setPosition(cc.p(t.width/2,t.height/2));a.addChild(b,3);a.reorderChild(b,1)}}),Fi=Z.extend({A:h,V:h,aa:h,Oa:h,j:"SpriteBatchNode: reorder issue #766",q:"In 2 seconds 1 sprite will be reordered",ctor:function(){this._super();this.A=cc.SpriteBatchNode.create("res/Images/piece.png",15);this.addChild(this.A,1,0);this.V=this.ze(2);this.V.setPosition(cc.p(200,160));this.aa=this.ze(3);this.aa.setPosition(cc.p(264,160));this.Oa=
this.ze(4);this.Oa.setPosition(cc.p(328,160));this.schedule(this.ya,2)},ya:function(){this.unschedule(this.ya);this.A.reorderChild(this.V,4)},ze:function(a){var b=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(128,0,64,64));this.A.addChild(b,a+1,0);var c=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(0,0,64,64));c.setOpacity(128);b.addChild(c,a,3);c=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(64,0,64,64));b.addChild(c,a+2,3);return b}}),Gi=Z.extend({j:"SpriteBatchNode: reorder issue #767",
q:"Should not crash",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist","res/animations/ghosts.png");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png");this.addChild(a,0,F);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));b.setPosition(cc.p(t.width/2,t.height/2));a.addChild(b,0,G);var c=b.getContentSize(),d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));d.setPosition(cc.p(-25+c.width/2,0+c.height/2));b.addChild(d,-1,2);var f=
d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));a.setPosition(cc.p(25+c.width/2,0+c.height/2));b.addChild(a,1,3);b=d.getContentSize();c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));c.setScale(0.65);c.setPosition(cc.p(0+f.width/2,-50+f.height/2));d.addChild(c,-1);c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));c.setScale(0.65);c.setPosition(cc.p(0+f.width/2,50+f.height/2));d.addChild(c,1);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));
d.setScale(0.65);d.setPosition(cc.p(0+b.width/2,-50+b.height/2));a.addChild(d,-1);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.65);d.setPosition(cc.p(0+b.width/2,50+b.height/2));a.addChild(d,1);this.schedule(this.ui,1)},ui:function(){var a=this.getChildByTag(F).getChildByTag(G),b=a.getChildByTag(2),c=a.getChildByTag(3),d=1;1===b.getZOrder()&&(d=-1);a.reorderChild(b,d);a.reorderChild(c,-d)}}),Hi=Z.extend({Aa:0,Ca:0,j:"Sprite: openGL Z vertex",q:"Scene should rotate",
ctor:function(){this._super(cc.o(255,0,0,80),cc.o(255,98,117,20));if("opengl"in sys.capabilities){gl.enable(gl.DEPTH_TEST);var a=cc.ShaderCache.getInstance().getProgram("ShaderPositionTextureColorAlphaTest"),b=a.getProgram(),c=gl.getUniformLocation(b,cc.bf);gl.useProgram(b);a.setUniformLocationF32(c,0.5);this.Aa=1;this.Ca=0;b=t.width/12;c=cc.Node.create();c.setContentSize(cc.size(t.width,t.height));c.setAnchorPoint(cc.p(0.5,0.5));c.setPosition(cc.p(t.width/2,t.height/2));this.addChild(c,0);for(var d,
f=0;5>f;f++)d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(0,121,85,121)),d.setPosition(cc.p((f+1)*b,t.height/2)),d.setVertexZ(10+40*f),d.setShaderProgram(a),c.addChild(d,0);for(f=5;11>f;f++)d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,0,85,121)),d.setPosition(cc.p((f+1)*b,t.height/2)),d.setVertexZ(10+40*(10-f)),d.setShaderProgram(a),c.addChild(d,0);this.runAction(cc.OrbitCamera.create(10,1,0,0,360,0,0))}else cc.log("Only runs when OpenGL is enabled")},onEnter:function(){this._super();
"opengl"in sys.capabilities&&(r.setProjection(cc.jc),gl.enable(gl.DEPTH_TEST),this.getChildByTag(10).setVertexZ(1),this.getChildByTag(11).setVertexZ(1),this.getChildByTag(12).setVertexZ(1))},onExit:function(){"opengl"in sys.capabilities&&(r.setProjection(cc.qb),gl.disable(gl.DEPTH_TEST));this._super()}}),Ii=Z.extend({Aa:0,Ca:0,j:"SpriteBatchNode: openGL Z vertex",q:"Scene should rotate",ctor:function(){this._super(cc.o(255,0,0,80),cc.o(255,98,117,20));if("opengl"in sys.capabilities){var a=cc.ShaderCache.getInstance().getProgram("ShaderPositionTextureColorAlphaTest"),
b=a.getProgram(),c=gl.getUniformLocation(b,cc.bf);gl.useProgram(b);a.setUniformLocationF32(c,0.5);b=t.width/12;c=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);c.setContentSize(cc.size(t.width,t.height));c.setAnchorPoint(cc.p(0.5,0.5));c.setPosition(cc.p(t.width/2,t.height/2));c.setShaderProgram(a);this.addChild(c,0,1);for(var d=0;5>d;d++)a=cc.Sprite.createWithTexture(c.getTexture(),cc.rect(0,121,85,121)),a.setPosition(cc.p((d+1)*b,t.height/2)),a.setVertexZ(10+40*d),c.addChild(a,
0);for(d=5;11>d;d++)a=cc.Sprite.createWithTexture(c.getTexture(),cc.rect(85,0,85,121)),a.setPosition(cc.p((d+1)*b,t.height/2)),a.setVertexZ(10+40*(10-d)),c.addChild(a,0);this.runAction(cc.OrbitCamera.create(10,1,0,0,360,0,0))}else cc.log("Only runs when OpenGL is enabled")},onEnter:function(){this._super();"opengl"in sys.capabilities&&(r.setProjection(cc.jc),gl.enable(gl.DEPTH_TEST),this.getChildByTag(10).setVertexZ(1),this.getChildByTag(11).setVertexZ(1),this.getChildByTag(12).setVertexZ(1))},onExit:function(){"opengl"in
sys.capabilities&&(r.setProjection(cc.qb),gl.disable(gl.DEPTH_TEST));this._super()}}),Ji=Z.extend({j:"Sprite: anchor point",ctor:function(){this._super();for(var a=0;3>a;a++){var b=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(b),c=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85*a,121,85,121));c.setPosition(cc.p(t.width/4*(a+1),t.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,10);switch(a){case 0:c.setAnchorPoint(cc.p(0,
0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());c.runAction(b);this.addChild(c,a)}}}),Ki=Z.extend({j:"SpriteBatchNode: anchor point",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);for(var b=0;3>b;b++){var c=cc.RotateBy.create(10,360),c=cc.RepeatForever.create(c),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85*b,121,85,121));d.setPosition(cc.p(t.width/
4*(b+1),t.height/2));var f=cc.Sprite.create("res/Images/r1.png");f.setScale(0.25);f.setPosition(d.getPosition());this.addChild(f,1);switch(b){case 0:d.setAnchorPoint(cc.p(0,0));break;case 1:d.setAnchorPoint(cc.p(0.5,0.5));break;case 2:d.setAnchorPoint(cc.p(1,1))}f.setPosition(d.getPosition());d.runAction(c);a.addChild(d,b)}}}),Li=Z.extend({j:"SpriteBatchNode transformation",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);
a.ignoreAnchorPointForPosition(g);a.setAnchorPoint(cc.p(0.5,0.5));a.setContentSize(cc.size(t.width,t.height));for(var b=cc.RotateBy.create(5,360),c=b.reverse(),b=cc.Sequence.create(b,c),b=cc.RepeatForever.create(b),c=cc.ScaleBy.create(5,1.5),d=c.reverse(),c=cc.Sequence.create(c,d),c=cc.RepeatForever.create(c),d=t.width/4,f=0;3>f;f++){var i=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85*f,121,85,121));i.setPosition(cc.p((f+1)*d,t.height/2));var m=cc.RotateBy.create(5,360),m=cc.RepeatForever.create(m);
i.runAction(m.copy());a.addChild(i,f)}a.runAction(c);a.runAction(b)}}),Mi=Z.extend({j:"Sprite Flip X & Y",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121));a.setPosition(cc.p(t.width/2-100,t.height/2));this.addChild(a,0,F);a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121));a.setPosition(cc.p(t.width/2+100,t.height/2));this.addChild(a,0,G);this.schedule(this.Ac,1)},Ac:function(){var a=this.getChildByTag(F),
b=this.getChildByTag(G);a.setFlipX(!a.isFlippedX());b.setFlipY(!b.isFlippedY())}}),Ni=Z.extend({j:"SpriteBatchNode Flip X & Y",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",10);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(t.width/2-100,t.height/2));a.addChild(b,0,F);b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(t.width/2+100,t.height/2));
a.addChild(b,0,G);this.schedule(this.Ac,1)},Ac:function(){var a=this.getChildByTag(1),b=a.getChildByTag(F),a=a.getChildByTag(G);b.setFlipX(!b.isFlippedX());a.setFlipY(!a.isFlippedY())}}),Oi=Z.extend({j:"Sprite Aliased",q:"You should see pixelated sprites",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121));a.setPosition(cc.p(t.width/2-100,t.height/2));this.addChild(a,0,F);var b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,
121,85,121));b.setPosition(cc.p(t.width/2+100,t.height/2));this.addChild(b,0,G);var c=cc.ScaleBy.create(2,5),d=c.reverse(),c=cc.Sequence.create(c,d),c=cc.RepeatForever.create(c),d=cc.ScaleBy.create(2,5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);a.runAction(c);b.runAction(d)},onEnter:function(){this._super();if("browser"===sys.platform&&!("opengl"in sys.capabilities)){var a=cc.LabelTTF.create("Not supported on HTML5-canvas","Times New Roman",30);this.addChild(a);a.setPosition(cc.p(t.width/
2,t.height/2))}else this.getChildByTag(F).getTexture().setAliasTexParameters()},onExit:function(){("browser"!==sys.platform||"opengl"in sys.capabilities)&&this.getChildByTag(F).getTexture().setAntiAliasTexParameters();this._super()}}),Pi=Z.extend({j:"SpriteBatchNode Aliased",q:"You should see pixelated sprites",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",10);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,
85,121));b.setPosition(cc.p(t.width/2-100,t.height/2));a.addChild(b,0,F);var c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));c.setPosition(cc.p(t.width/2+100,t.height/2));a.addChild(c,0,G);var a=cc.ScaleBy.create(2,5),d=a.reverse(),a=cc.Sequence.create(a,d),a=cc.RepeatForever.create(a),d=cc.ScaleBy.create(2,5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);b.runAction(a);c.runAction(d)},onEnter:function(){this._super();if("browser"==sys.platform&&!("opengl"in
sys.capabilities)){var a=cc.LabelTTF.create("Not supported on HTML5-canvas","Times New Roman",30);this.addChild(a);a.setPosition(cc.p(t.width/2,t.height/2))}else this.getChildByTag(1).getTexture().setAliasTexParameters()},onExit:function(){("browser"!==sys.platform||"opengl"in sys.capabilities)&&this.getChildByTag(1).getTexture().setAntiAliasTexParameters();this._super()}}),Qi=Z.extend({pd:j,Bb:h,qc:h,j:"Sprite New texture (tap)",ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):
"mouse"in sys.capabilities&&this.setMouseEnabled(g);this.addChild(cc.Node.create(),0,1);this.Bb=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas.png");this.qc=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas-mono.png");this.pd=g;for(var a=0;30>a;a++)this.ne()},ne:function(){var a=cc.p(Math.random()*t.width,Math.random()*t.height),b=0|14*Math.random(),c=85*(b%5),d=121*(0|b/5),b=this.getChildByTag(1),c=cc.Sprite.createWithTexture(this.Bb,cc.rect(c,d,85,
121));b.addChild(c);c.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):cc.FadeOut.create(2);b=a.reverse();a=cc.Sequence.create(a,b);c.runAction(cc.RepeatForever.create(a))},zc:function(){var a=this.getChildByTag(1).getChildren(),b,c;if(this.pd){for(c=0;c<a.length;c++){b=a[c];if(!b)break;b.setTexture(this.qc)}this.pd=j}else{for(c=0;c<a.length;c++){b=a[c];if(!b)break;b.setTexture(this.Bb)}this.pd=g}},onTouchesEnded:function(){this.zc()},
onMouseDown:function(){this.zc();return g}}),Ri=Z.extend({Bb:h,qc:h,j:"SpriteBatchNode new texture (tap)",ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",50);this.addChild(a,0,1);this.Bb=a.getTexture();this.qc=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas-mono.png");for(a=0;30>a;a++)this.ne()},ne:function(){var a=cc.p(Math.random()*
t.width,Math.random()*t.height),b=this.getChildByTag(1),c=0|14*Math.random(),d=85*(c%5),c=121*(0|c/5),d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(d,c,85,121));b.addChild(d);d.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):cc.FadeOut.create(2);b=a.reverse();a=cc.Sequence.create(a,b);d.runAction(cc.RepeatForever.create(a))},zc:function(){var a=this.getChildByTag(1);a.getTexture()==this.Bb?a.setTexture(this.qc):
a.setTexture(this.Bb)},onTouchesEnded:function(){this.zc()},onMouseDown:function(){this.zc();return g}}),Si=Z.extend({V:h,aa:h,$a:0,j:"Sprite vs. SpriteBatchNode animation",q:"Testing issue #792",onEnter:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");Y.addSpriteFrames("res/animations/grossini_blue.plist","res/animations/grossini_blue.png");this.V=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");
this.V.setPosition(cc.p(t.width/2-80,t.height/2));var a=cc.SpriteBatchNode.create("res/animations/grossini.png");a.addChild(this.V);this.addChild(a);for(var a=[],b="",c=1;15>c;c++)b="grossini_dance_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);c=cc.Animation.create(a,0.3);this.V.runAction(cc.RepeatForever.create(cc.Animate.create(c)));this.V.setFlipX(j);this.V.setFlipY(j);this.aa=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");this.aa.setPosition(cc.p(t.width/2+80,t.height/
2));this.addChild(this.aa);for(var d=[],c=1;15>c;c++)b="grossini_dance_gray_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),d.push(b);for(c=1;5>c;c++)b="grossini_blue_0"+c+".png",b=Y.getSpriteFrame(b),d.push(b);d=d.concat(a);a=cc.Animation.create(d,0.3);this.aa.runAction(cc.RepeatForever.create(cc.Animate.create(a)));this.aa.setFlipX(j);this.aa.setFlipY(j);this.schedule(this.Qf,0.5);this.$a=0},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist");
Y.removeSpriteFramesFromFile("res/animations/grossini_blue.plist")},Qf:function(){this.unschedule(this.Qf);this.schedule(this.Ac,1)},Ac:function(){this.$a++;var a=j,b=j;switch(this.$a%4){case 0:b=a=j;break;case 1:a=g;b=j;break;case 2:a=j;b=g;break;case 3:b=a=g}this.V.setFlipX(a);this.V.setFlipY(b);this.aa.setFlipX(a);this.aa.setFlipY(b)}}),Ti=Z.extend({j:"SpriteFrame Alias Name",q:"SpriteFrames are obtained using the alias name",onEnter:function(){this._super();Y.addSpriteFrames("res/animations/grossini-aliases.plist",
"res/animations/grossini-aliases.png");var a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(cc.p(t.width/2,t.height/2));var b=cc.SpriteBatchNode.create("res/animations/grossini-aliases.png");b.addChild(a);this.addChild(b);for(var b=[],c="",d=1;15>d;d++)c="dance_"+(10>d?"0"+d:d),c=Y.getSpriteFrame(c),b.push(c);b=cc.Animation.create(b,0.3);a.runAction(cc.RepeatForever.create(cc.Animate.create(b)))},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini-aliases.plist")}}),
Ui=Z.extend({j:"Sprite offset + anchor + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(t.width/4*(a+1),t.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,
0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;15>f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));b.runAction(cc.RepeatForever.create(cc.RotateBy.create(10,360)));this.addChild(b,0)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),
Vi=Z.extend({j:"SpriteBatchNode offset + anchor + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(t.width/4*(b+1),t.height/2));var d=cc.Sprite.create("res/Images/r1.png");
d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;15>i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));c.runAction(cc.RepeatForever.create(cc.RotateBy.create(10,360)));a.addChild(c,
b)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),Wi=Z.extend({j:"Sprite offset + anchor + scale",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(t.width/
4*(a+1),t.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));c=cc.ScaleBy.create(2,
2);f=c.reverse();c=cc.Sequence.create(c,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),Xi=Z.extend({j:"SpriteBatchNode offset + anchor + scale",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist",
"res/animations/grossini_gray.png");for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(t.width/4*(b+1),t.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+
(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));d=cc.ScaleBy.create(2,2);i=d.reverse();d=cc.Sequence.create(d,i);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),Yi=Z.extend({j:"Sprite offset + anchor + skew",ctor:function(){this._super();
Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(t.width/4*(a+1),t.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,
1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.SkewBy.create(2,45,0),f=c.reverse(),d=cc.SkewBy.create(2,0,45),i=d.reverse(),c=cc.Sequence.create(c,f,d,i);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}}}),Zi=Z.extend({j:"SpriteBatchNode offset + anchor + skew",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(t.width/4*(b+1),t.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,
0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));var d=cc.SkewBy.create(2,45,0),i=d.reverse(),f=cc.SkewBy.create(2,0,45),m=f.reverse(),d=cc.Sequence.create(d,i,f,m);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),$i=Z.extend({j:"Sprite anchor + skew + scale",ctor:function(){this._super();
Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(t.width/4*(a+1),t.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,
1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.SkewBy.create(2,45,0),f=c.reverse(),d=cc.SkewBy.create(2,0,45),i=d.reverse(),c=cc.Sequence.create(c,f,d,i);b.runAction(cc.RepeatForever.create(c));c=cc.ScaleBy.create(2,2);f=c.reverse();c=cc.Sequence.create(c,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,
0)}}}),aj=Z.extend({j:"SpriteBatchNode anchor + skew + scale",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(t.width/4*(b+1),t.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);
d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));var d=cc.SkewBy.create(2,45,0),i=d.reverse(),f=cc.SkewBy.create(2,0,45),m=f.reverse(),d=cc.Sequence.create(d,
i,f,m);c.runAction(cc.RepeatForever.create(d));d=cc.ScaleBy.create(2,2);i=d.reverse();d=cc.Sequence.create(d,i);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),bj=Z.extend({j:"Sprite offset + anchor + flip",q:"issue #1078",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(t.width/
4*(a+1),t.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.FlipY.create(g),
f=cc.FlipY.create(j),d=cc.DelayTime.create(1),i=cc.DelayTime.create(1),c=cc.Sequence.create(d,c,i,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}}}),cj=Z.extend({j:"SpriteBatchNode offset + anchor + flip",q:"issue #1078",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>
b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(t.width/4*(b+1),t.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),
d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));d=cc.FlipY.create(g);i=cc.FlipY.create(j);f=cc.DelayTime.create(1);d=cc.Sequence.create(f,d,f.copy(),i);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),dj=Z.extend({j:"Sprite: Animation + flip",ctor:function(){this._super();var a=cc.TextureCache.getInstance().addImage("res/animations/dragon_animation.png"),b=cc.SpriteFrame.createWithTexture(a,cc.rect(0,0,132,132)),c=cc.SpriteFrame.createWithTexture(a,
cc.rect(132,0,132,132)),d=cc.SpriteFrame.createWithTexture(a,cc.rect(264,0,132,132)),f=cc.SpriteFrame.createWithTexture(a,cc.rect(396,0,132,132)),i=cc.SpriteFrame.createWithTexture(a,cc.rect(0,132,132,132)),m=cc.SpriteFrame.createWithTexture(a,cc.rect(132,132,132,132)),a=cc.Sprite.createWithSpriteFrame(b);a.setPosition(cc.p(t.width/2,t.height/2));this.addChild(a);var o=[];o.push(b);o.push(c);o.push(d);o.push(f);o.push(i);o.push(m);b=cc.Animation.create(o,0.2);b=cc.Animate.create(b);b=cc.Sequence.create(b,
cc.FlipX.create(g),b.copy(),cc.FlipX.create(j));a.runAction(cc.RepeatForever.create(b))},onExit:function(){this._super()}}),ej=Z.extend({od:j,j:"Hybrid.Sprite* sprite Test",ctor:function(){this._super();var a=cc.Node.create(),b=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,La);this.addChild(b,0,1);Y.addSpriteFrames("res/animations/grossini.plist");for(b=1;250>=b;b++){var c=Math.round(14*Math.random());0===c&&(c=1);c=Y.getSpriteFrame("grossini_dance_"+(10>c?"0"+c:c)+
".png");c=cc.Sprite.createWithSpriteFrame(c);a.addChild(c,b,b);var d=-1E3,f=-1E3;0.2>Math.random()&&(d=Math.random()*t.width,f=Math.random()*t.height);c.setPosition(cc.p(d,f));d=cc.RotateBy.create(4,360);c.runAction(cc.RepeatForever.create(d))}this.od=j;this.schedule(this.wi,2)},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist")},wi:function(){var a=this.getChildByTag(La),b=this.getChildByTag(1),c=[],d;this.od&&(d=b,b=a,a=d);for(var f=a.getChildren(),i=0;i<
f.length;i++){d=f[i];if(!d)break;c.push(d)}a.removeAllChildren(j);for(i=0;i<c.length;i++){d=c[i];if(!d)break;b.addChild(d,i,i)}this.od=!this.od}}),fj=Z.extend({j:"SpriteBatchNode Grand Children",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);Y.addSpriteFrames("res/animations/grossini.plist");var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(t.width/3,t.height/2));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(50,50));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-50,-50));a.addChild(b);b.addChild(c);b.addChild(d);for(var a=[],f="",d=1;15>d;d++)f="grossini_dance_"+(10>d?"0"+d:d)+".png",f=Y.getSpriteFrame(f),a.push(f);a=cc.Animation.create(a,0.2);b.runAction(cc.RepeatForever.create(cc.Animate.create(a)));var a=cc.MoveBy.create(2,cc.p(200,0)),d=a.reverse(),f=cc.RotateBy.create(2,360),i=cc.ScaleBy.create(2,2),m=i.reverse(),o=f.reverse();
c.runAction(cc.RepeatForever.create(o));b.runAction(cc.RepeatForever.create(f));b.runAction(cc.RepeatForever.create(cc.Sequence.create(a,d)));b.runAction(cc.RepeatForever.create(cc.Sequence.create(i,m)))}}),gj=Z.extend({j:"SpriteBatchNode Children Z",ctor:function(){this._super();var a,b,c,d;Y.addSpriteFrames("res/animations/grossini.plist");a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));
b.setPosition(cc.p(t.width/3,t.height/2));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,2);b.addChild(d,-2);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(2*t.width/3,t.height/2));
c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(t.width/2-90,t.height/4));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(t.width/2-60,t.height/4));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(t.width/2-30,t.height/4));a.addChild(b,10);a.addChild(c,-10);a.addChild(d,-5);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(t.width/2+30,t.height/4));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(t.width/2+60,t.height/4));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(t.width/2+90,t.height/4));a.addChild(b,-10);a.addChild(c,-5);a.addChild(d,-2)}}),hj=Z.extend({j:"Sprite & SpriteBatchNode Visibility",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);a.setPosition(cc.p(t.width/3,t.height/2));this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));
b.setPosition(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);b.runAction(cc.Blink.create(5,10));a=cc.Node.create();a.setPosition(cc.p(2*t.width/3,t.height/2));this.addChild(a,0);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,
0));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);b.runAction(cc.Blink.create(5,10))}}),ij=Z.extend({j:"Sprite & SpriteBatchNode Visibility",q:"No sprites should be visible",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.SpriteBatchNode.create("res/animations/grossini.png",
50);a.setPosition(cc.p(t.width/3,t.height/2));this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));b.setVisible(j);a.addChild(b);b.addChild(c,-2);b.addChild(d,2);a=cc.Node.create();a.setPosition(cc.p(2*t.width/3,
t.height/2));this.addChild(a,0);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));b.setVisible(j);a.addChild(b);b.addChild(c,-2);b.addChild(d,2)}}),jj=Z.extend({j:"Sprite: children + anchor",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
var a=cc.Node.create();this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(t.width/4,t.height/2));b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));var f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,
0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(t.width/2,t.height/2));b.setAnchorPoint(cc.p(0.5,0.5));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(t.width/2+t.width/4,t.height/2));b.setAnchorPoint(cc.p(1,1));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10)}}),kj=Z.extend({j:"SpriteBatchNode: children + anchor",ctor:function(){this._super();
Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(t.width/4,t.height/2));b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));
var f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(t.width/2,t.height/2));b.setAnchorPoint(cc.p(0.5,0.5));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(t.width/
2+t.width/4,t.height/2));b.setAnchorPoint(cc.p(1,1));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);
c.setPosition(b.getPosition());this.addChild(c,10)}}),lj=Z.extend({j:"Sprite/BatchNode + child + scale + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini_family.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=cc.Node.create(),c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(t.width/4,t.height/4));c.setScaleX(0.5);c.setScaleY(2);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));
b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.SpriteBatchNode.create("res/animations/grossini_family.png");c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(3*t.width/4,t.height/4));c.setScaleX(0.5);c.setScaleY(2);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);
a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.Node.create();c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(t.width/4,2*t.height/3));c.setScaleX(1.5);c.setScaleY(0.5);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.SpriteBatchNode.create("res/animations/grossini_family.png");
c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(3*t.width/4,2*t.height/3));c.setScaleX(1.5);c.setScaleY(0.5);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b)}}),mj=Z.extend({j:"Sprite multiple levels of children",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),
a=a.reverse(),c=cc.RepeatForever.create(a),a=cc.Node.create();this.addChild(a);var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));d.setPosition(cc.p(t.width/2,t.height/2));d.runAction(b.copy());a.addChild(d);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));a.setPosition(cc.p(-50+f.width/2,0+f.height/2));a.runAction(c.copy());d.addChild(a);var i=a.getContentSize(),b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));b.setPosition(cc.p(50+
f.width/2,0+f.height/2));b.runAction(c.copy());d.addChild(b);c=a.getContentSize();d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,-100+i.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,100+i.height/2));a.addChild(d);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,
-100+c.height/2));b.addChild(a);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,100+c.height/2));b.addChild(a)}}),nj=Z.extend({j:"SpriteBatchNode multiple levels of children",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=a.reverse(),c=cc.RepeatForever.create(a),a=cc.SpriteBatchNode.create("res/animations/ghosts.png");"opengl"in
sys.capabilities&&a.getTexture().generateMipmap();this.addChild(a);var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));d.setPosition(cc.p(t.width/2,t.height/2));d.runAction(b.copy());a.addChild(d);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));a.setPosition(cc.p(-50+f.width/2,0+f.height/2));a.runAction(c.copy());d.addChild(a);var i=a.getContentSize(),b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));b.setPosition(cc.p(50+
f.width/2,0+f.height/2));b.runAction(c.copy());d.addChild(b);c=a.getContentSize();d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,-100+i.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,100+i.height/2));a.addChild(d);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,
-100+c.height/2));b.addChild(a);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,100+c.height/2));b.addChild(a)}}),oj=Z.extend({j:"Sprite without texture",q:"opacity and color should work",ctor:function(){this._super();var a=cc.Sprite.create();a.setTextureRect(cc.rect(0,0,300,300));a.setColor(cc.D(255,0,0));a.setOpacity(128);a.setPosition(cc.p(3*t.width/4,t.height/2));this.addChild(a,100);a=cc.Sprite.create();a.setTextureRect(cc.rect(0,
0,300,300));a.setColor(cc.D(0,0,255));a.setOpacity(128);a.setPosition(cc.p(t.width/4,t.height/2));this.addChild(a,100)}}),pj=cc.Sprite.extend({Pg:0});pj.Mi=function(){var a=Y.getSpriteFrame("father.gif"),b=new pj;b.initWithSpriteFrame(a);return b};var qj=cc.Sprite.extend({Pg:0});qj.Li=function(){var a=new qj;a.init("res/Images/grossini.png");return a};
var rj=Z.extend({j:"Sprite subclass",q:"Testing initWithTexture:rect method",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png"),b=pj.Mi();b.setPosition(cc.p(t.width/4,t.height/2));a.addChild(b);this.addChild(a);a=qj.Li();this.addChild(a);a.setPosition(cc.p(3*(t.width/4),t.height/2))}}),sj=Z.extend({j:"AnimationCache",q:"Sprite should be animated",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
Y.addSpriteFrames("res/animations/grossini_gray.plist");Y.addSpriteFrames("res/animations/grossini_blue.plist");var a=[],b;b="";for(var c=1;15>c;c++)b="grossini_dance_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance");a=[];for(c=1;15>c;c++)b="grossini_dance_gray_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance_gray");a=
[];for(c=1;4>c;c++)b="grossini_blue_0"+c+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance_blue");b=cc.AnimationCache.getInstance();c=b.getAnimation("dance");c.setRestoreOriginalFrame(g);a=b.getAnimation("dance_gray");a.setRestoreOriginalFrame(g);b=b.getAnimation("dance_blue");b.setRestoreOriginalFrame(g);c=cc.Animate.create(c);a=cc.Animate.create(a);b=cc.Animate.create(b);a=cc.Sequence.create(c,a,b);b=Y.getSpriteFrame("grossini_dance_01.png");
b=cc.Sprite.createWithSpriteFrame(b);b.setPosition(cc.p(t.width/2,t.height/2));this.addChild(b);b.runAction(a)}}),tj=Z.extend({Ba:h,V:h,aa:h,Oa:h,fb:h,gb:h,j:"node sort same index",q:"tag order in console should be 2,1,3,4,5",ctor:function(){this._super();this.Ba=cc.Node.create();this.addChild(this.Ba,0,0);this.V=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.V.setPosition(cc.p(100,160));this.Ba.addChild(this.V,-6,1);this.aa=cc.Sprite.create("res/Images/piece.png",cc.rect(128,
0,64,64));this.aa.setPosition(cc.p(164,160));this.Ba.addChild(this.aa,-6,2);this.fb=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.fb.setPosition(cc.p(292,160));this.Ba.addChild(this.fb,-3,4);this.Oa=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.Oa.setPosition(cc.p(228,160));this.Ba.addChild(this.Oa,-4,3);this.gb=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.gb.setPosition(cc.p(356,160));this.Ba.addChild(this.gb,-3,5);this.schedule(this.ya)},
ya:function(){this.unschedule(this.ya);cc.log("Before reorder--");for(var a=0,b,c=this.Ba.getChildren(),a=0;a<c.length;a++)b=c[a],cc.log("tag:"+b.getTag()+"  z: "+b.getZOrder());this.Ba.reorderChild(this.Ba.getChildren()[0],-6);this.Ba.sortAllChildren();cc.log("After reorder--");c=this.Ba.getChildren();for(a=0;a<c.length;a++)b=c[a],cc.log("tag:"+b.getTag()+"  z: "+b.getZOrder())}}),uj=Z.extend({A:h,V:h,aa:h,Oa:h,fb:h,gb:h,j:"SpriteBatchNodeReorder same index",q:"tag order in console should be 2,3,4,5,1",
ctor:function(){this._super();this.A=cc.SpriteBatchNode.create("res/Images/piece.png",15);this.addChild(this.A,1,0);this.V=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(128,0,64,64));this.V.setPosition(cc.p(100,160));this.A.addChild(this.V,3,1);this.aa=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(128,0,64,64));this.aa.setPosition(cc.p(164,160));this.A.addChild(this.aa,4,2);this.Oa=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(128,0,64,64));this.Oa.setPosition(cc.p(228,
160));this.A.addChild(this.Oa,4,3);this.fb=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(128,0,64,64));this.fb.setPosition(cc.p(292,160));this.A.addChild(this.fb,5,4);this.gb=cc.Sprite.createWithTexture(this.A.getTexture(),cc.rect(128,0,64,64));this.gb.setPosition(cc.p(356,160));this.A.addChild(this.gb,6,5);this.scheduleOnce(this.ya,2)},ya:function(){this.A.reorderChild(this.fb,4);this.A.reorderChild(this.gb,4);this.A.reorderChild(this.V,4);this.A.sortAllChildren();for(var a=this.A.getDescendants(),
b=0;b<a.length;b++)cc.log("tag:"+a[b].getTag())}}),vj=Z.extend({A:h,le:h,j:"SpriteBatchNode reorder 1 child",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png");this.A=a;"opengl"in sys.capabilities&&a.getTexture().generateMipmap();this.addChild(a);var b=cc.Sprite.createWithSpriteFrameName("father.gif");b.setPosition(cc.p(t.width/2,t.height/2));a.addChild(b);var c=b.getContentSize(),d=cc.Sprite.createWithSpriteFrameName("sister1.gif");
d.setPosition(cc.p(-10+c.width/2,0+c.height/2));b.addChild(d,1);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrameName("sister2.gif");a.setPosition(cc.p(50+c.width/2,0+c.height/2));b.addChild(a,2);b=d.getContentSize();c=cc.Sprite.createWithSpriteFrameName("child1.gif");c.setScale(0.45);c.setPosition(cc.p(0+f.width/2,-50+f.height/2));d.addChild(c,1);c=cc.Sprite.createWithSpriteFrameName("child1.gif");c.setScale(0.45);c.setPosition(cc.p(0+f.width/2,50+f.height/2));d.addChild(c,2);this.le=d;
d=cc.Sprite.createWithSpriteFrameName("child1.gif");d.setScale(0.45);d.setFlipY(g);d.setPosition(cc.p(0+b.width/2,-50+b.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrameName("child1.gif");d.setScale(0.45);d.setFlipY(g);d.setPosition(cc.p(0+b.width/2,50+b.height/2));a.addChild(d);this.scheduleOnce(this.ya,2)},ya:function(){this.le.getParent().reorderChild(this.le,-1);this.A.sortAllChildren()}}),wj=Z.extend({j:"SpriteBatchNode + children + skew",q:"SpriteBatchNode skew + negative scale with children",
ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");a.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;2>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(t.width/4*(b+1),t.height/2));var d=cc.SkewBy.create(2,45,0),f=d.reverse(),i=cc.SkewBy.create(2,0,45),m=i.reverse();1===b&&c.setScale(-1);d=
cc.Sequence.create(d,f,i,m);c.runAction(cc.RepeatForever.create(d));d=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");d.setPosition(cc.p(c.getContentSize().width/2,c.getContentSize().height/2));d.setScale(0.8);c.addChild(d);a.addChild(c,b)}}}),xj=Z.extend({j:"Sprite + children + skew",q:"Sprite skew + negative scale with children",ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");a.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");
a=cc.Node.create();this.addChild(a);for(var b=0;2>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(t.width/4*(b+1),t.height/2));var d=cc.SkewBy.create(2,45,0),f=d.reverse(),i=cc.SkewBy.create(2,0,45),m=i.reverse();1===b&&c.setScale(-1);d=cc.Sequence.create(d,f,i,m);c.runAction(cc.RepeatForever.create(d));d=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");d.setPosition(cc.p(c.getContentSize().width/2,c.getContentSize().height/2));c.addChild(d);
d.setScale(0.8);a.addChild(c,b)}}}),yj=cc.Sprite.extend({Xe:j,initWithTexture:function(a,b){return this._super(a,b)?g:j},setContentSize:function(a){a=cc.size(a.width,a.height);2==cc.CONTENT_SCALE_FACTOR()&&!this.Xe&&(a.width*=2,a.height*=2);this._super(a)},setVertexRect:function(a){2==cc.CONTENT_SCALE_FACTOR()&&!this.Xe&&(a.width*=2,a.height*=2);this._super(a)}});yj.create=function(a){var b=new yj;b.init(a);return b};
var zj=Z.extend({j:"Sprite Double resolution",q:"Retina Display. SD (left) should be equal to HD (right)",ctor:function(){this._super();var a=yj.create("res/Images/grossini_dance_08.png");this.addChild(a);a.setPosition(cc.p(t.width/4,t.height/2));var b=yj.create("res/Images/grossini_dance_08.png");a.addChild(b);b.setPosition(cc.p(-30,0));var c=cc.Sprite.create("res/Images/grossini.png");a.addChild(c);b.setPosition(cc.p(a.getContentSize().height,0));b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);
b.setPosition(cc.p(3*(t.width/4),t.height/2));c=yj.create("res/Images/grossini_dance_08.png");b.addChild(c);c.setPosition(cc.p(-30,0));var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);c.setPosition(cc.p(b.getContentSize().height,0));c=cc.ScaleBy.create(2,0.5);d=c.reverse();c=cc.Sequence.create(c,d);d=c.copy();a.runAction(c);b.runAction(d)}}),Aj=Z.extend({j:"AnimationCache - Load file",q:"Sprite should be animated",ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");
a.addSpriteFrames("res/animations/grossini_gray.plist");a.addSpriteFrames("res/animations/grossini_blue.plist");cc.AnimationCache.purgeSharedAnimationCache();var b=cc.AnimationCache.getInstance();b.addAnimations("res/animations/animations.plist");var c=b.getAnimation("dance_1");c.setRestoreOriginalFrame(g);a=b.getAnimation("dance_2");a.setRestoreOriginalFrame(g);b=b.getAnimation("dance_3");b.setRestoreOriginalFrame(g);c=cc.Animate.create(c);a=cc.Animate.create(a);b=cc.Animate.create(b);a=cc.Sequence.create(c,
a,b);b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(t.width/2,t.height/2));this.addChild(b);b.runAction(a)}}),Bj=Z.extend({j:"SpriteBatch - Bug 1217",q:"Adding big family to spritebatch. You shall see 3 heads",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",15),b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57)),c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57)),d=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(0,0,57,57));b.setColor(cc.D(255,0,0));c.setColor(cc.D(0,255,0));d.setColor(cc.D(0,0,255));b.setPosition(cc.p(20,200));c.setPosition(cc.p(100,0));d.setPosition(cc.p(100,0));a.setPosition(cc.p(0,0));b.addChild(c);c.addChild(d);a.addChild(b);this.addChild(a)}}),Cj=Z.extend({j:"Texture Color Cache Issue Test",q:"You should see two different sprites colored green and blue",ctor:function(){this._super();var a=cc.SpriteFrameCache.getInstance();a.addSpriteFrames("res/animations/tcc_issue_1.plist",
"res/animations/tcc_issue_1.png");a.addSpriteFrames("res/animations/tcc_issue_2.plist","res/animations/tcc_issue_2.png");a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(t.width/3,t.height/2);var b=cc.Sprite.createWithSpriteFrameName("grossinis_sister1.png");b.setPosition(2*(t.width/3),t.height/2);this.addChild(a);this.addChild(b);a.setColor(cc.D(1,255,1));b.setColor(cc.D(1,1,255))},onExit:function(){Y.removeSpriteFramesFromFile("res/animations/tcc_issue_1.plist");Y.removeSpriteFramesFromFile("res/animations/tcc_issue_2.plist");
this._super()}}),Dj=Z.extend({j:"Texture Color Cache Issue Test #2",q:"You should see two different sprites magenta and yellow",ctor:function(){this._super();var a=cc.SpriteFrameCache.getInstance();a.addSpriteFrames("res/animations/tcc_issue_1.plist","res/animations/tcc_issue_1.png");a.addSpriteFrames("res/animations/tcc_issue_2.plist","res/animations/tcc_issue_2.png");a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(t.width/3,t.height/2);var b=cc.Sprite.createWithSpriteFrameName("grossinis_sister1.png");
b.setPosition(2*(t.width/3),t.height/2);this.addChild(a);this.addChild(b);for(var c=0;10>c;++c)b.setColor(cc.D(128,128,128+c)),a.setColor(cc.D(128,128,128+c));a.setColor(cc.D(255,255,0));b.setColor(cc.D(255,0,255))},onExit:function(){Y.removeSpriteFramesFromFile("res/animations/tcc_issue_1.plist");Y.removeSpriteFramesFromFile("res/animations/tcc_issue_2.plist");this._super()}}),Ej=Z.extend({j:"Sub Sprite (rotated source)",q:"createWithSpriteFrameName(); sub sprite",ctor:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/blocks9ss.plist");
var a=cc.Sprite.createWithSpriteFrameName("blocks9r.png"),b=t.width/2,c=0+t.height/2;a.setTextureRect(cc.rect(32,32,32,32),g,cc.rect(32,32,32,32));a.setPosition(cc.p(b,c));this.addChild(a)}}),Ea=w.extend({N:function(){ri=-1;this.addChild(ti());r.replaceScene(this)}}),si=[vi,wi,Si,Ti,Ji,Ki,Ui,Vi,Wi,Xi,dj,xi,yi,Bi,Ci,Di,Ei,Fi,Gi,Hi,Ii,Li,Mi,Ni,Oi,Pi,Qi,Ri,ej,fj,gj,hj,ij,jj,kj,lj,mj,nj,oj,rj,sj,Yi,Zi,$i,aj,bj,cj,uj,vj,tj,xj,wj,zj,Bj,Aj,Cj,Dj,Ej];function ti(){ri++;ri%=si.length;return new si[ri]}
function ui(){ri--;0>ri&&(ri+=si.length);return new si[ri]};var Q=-1,Y=cc.SpriteFrameCache.getInstance(),Ij=cc.LayerGradient.extend({j:"",q:"",ctor:function(){this._super();this.init(cc.o(0,0,0,255),cc.o(98,99,117,255));cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/blocks9ss.plist");cc.log("sprite frames added to sprite frame cache...")},onEnter:function(){this._super();var a=cc.LabelTTF.create(this.j,"Arial",28);this.addChild(a,1);a.setPosition(cc.p(t.width/2,t.height-50));""!==this.q&&(a=cc.LabelTTF.create(this.q,"Thonburi",16),this.addChild(a,
1),a.setPosition(cc.p(t.width/2,t.height-80)));var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.R,this),b=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.S,this),c=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.Q,this),d=cc.Menu.create(a,b,c);d.setPosition(cc.p(0,0));var f=b.getContentSize();a.setPosition(cc.p(t.width/2-2*f.width,f.height/2));b.setPosition(cc.p(t.width/2,f.height/2));c.setPosition(cc.p(t.width/2+2*f.width,f.height/
2));this.addChild(d,1)},onExit:function(){this._super()},S:function(){var a=new Fa;a.addChild(new Fj[Q]);r.replaceScene(a)},Q:function(){var a=new Fa;a.addChild(Gj());r.replaceScene(a)},R:function(){var a=new Fa;a.addChild(Hj());r.replaceScene(a)}}),Jj=Ij.extend({j:"Scale9Sprite created empty and updated from SpriteBatchNode",q:"updateWithBatchNode(); capInsets=full size",ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9BatchNodeBasic ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");
cc.log("batchNode created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(0,0,96,96));cc.log("... updateWithBatchNode");d.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(d);cc.log("this..addChild");cc.log("... S9BatchNodeBasic done.")}}),Kj=Ij.extend({j:"Scale9Sprite from sprite sheet",q:"createWithSpriteFrameName(); default cap insets",ctor:function(){this._super();var a=t.width/2,b=0+t.height/
2;cc.log("S9FrameNameSpriteSheet ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheet done.")}}),Lj=Ij.extend({j:"Scale9Sprite from sprite sheet (stored rotated)",q:"createWithSpriteFrameName(); default cap insets",ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9FrameNameSpriteSheetRotated ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png");
cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotated done.")}}),Mj=Ij.extend({j:"Scale9Sprite created empty and updated from SpriteBatchNode",q:"updateWithBatchNode(); capInsets=full size; rendered 4 X width, 2 X height",ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9BatchNodeScaledNoInsets ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode_scaled created with : res/Images/blocks9.png");
var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(0,0,96,96));cc.log("... updateWithBatchNode");d.setPosition(cc.p(a,b));cc.log("... setPosition");d.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(d);cc.log("this..addChild");cc.log("... S9BtchNodeScaledNoInsets done.")}}),Nj=Ij.extend({j:"Scale9Sprite from sprite sheet",q:"createWithSpriteFrameName(); default cap insets; rendered 4 X width, 2 X height",ctor:function(){this._super();
var a=t.width/2,b=0+t.height/2;cc.log("S9FrameNameSpriteSheetScaledNoInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetScaledNoInsets done.")}}),Oj=Ij.extend({j:"Scale9Sprite from sprite sheet (stored rotated)",q:"createWithSpriteFrameName(); default cap insets; rendered 4 X width, 2 X height",
ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9FrameNameSpriteSheetRotatedScaledNoInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedScaledNoInsets done.")}}),Pj=Ij.extend({j:"Scale9Sprite created empty and updated from SpriteBatchNode",
q:"updateWithBatchNode(); capInsets=(32, 32, 32, 32)",ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9BatchNodeScaleWithCapInsets ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode_scaled_with_insets created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(32,32,32,32));cc.log("... updateWithBatchNode");d.setContentSize(cc.size(432,240));cc.log("... setContentSize");
d.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(d);cc.log("this..addChild");cc.log("... S9BatchNodeScaleWithCapInsets done.")}}),Qj=Ij.extend({j:"Scale9Sprite scaled with insets sprite sheet",q:"createWithSpriteFrameName(); cap insets=(32, 32, 32, 32)",ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9FrameNameSpriteSheetInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setPosition(cc.p(a,
b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetInsets done.")}}),Rj=Ij.extend({j:"Scale9Sprite scaled with insets sprite sheet",q:"createWithSpriteFrameName(); default cap insets; rendered scaled 4.5 X width, 2.5 X height",ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9FrameNameSpriteSheetInsetsScaled ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setContentSize(cc.size(432,
240));cc.log("... setContentSize");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetInsetsScaled done.")}}),Sj=Ij.extend({j:"Scale9Sprite scaled with insets sprite sheet (stored rotated)",q:"createWithSpriteFrameName(); cap insets=(32, 32, 32, 32)",ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9FrameNameSpriteSheetRotatedInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png",
cc.rect(32,32,32,32));cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedInsets done.")}}),Tj=Ij.extend({j:"Scale9Sprite from a spritesheet created with TexturePacker",q:"createWithSpriteFrameName('button_normal.png');createWithSpriteFrameName('button_actived.png');",ctor:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/ui.plist");var a=t.width/4,b=0+t.height/
2;cc.log("S9_TexturePacker ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("button_normal.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(336,208));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");a=3*t.width/4;c=cc.Scale9Sprite.createWithSpriteFrameName("button_actived.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(336,208));cc.log("... setContentSize");this.addChild(c);
cc.log("this..addChild");cc.log("... S9_TexturePacker done.")}}),Uj=Ij.extend({j:"Scale9Sprite scaled with insets sprite sheet (stored rotated)",q:"createWithSpriteFrameName(); default cap insets; rendered scaled 4.5 X width, 2.5 X height",ctor:function(){this._super();var a=t.width/2,b=0+t.height/2;cc.log("S9FrameNameSpriteSheetRotatedInsetsScaled ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setContentSize(cc.size(432,240));cc.log("... setContentSize");
c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedInsetsScaled done.")}}),Fa=w.extend({N:function(){Q=-1;this.addChild(Gj());r.replaceScene(this)}}),Fj=[Jj,Kj,Lj,Mj,Nj,Oj,Pj,Qj,Rj,Sj,Uj,Tj];function Gj(){Q++;Q%=Fj.length;return new Fj[Q]}function Hj(){Q--;0>Q&&(Q+=Fj.length);return new Fj[Q]};var ga=40,hg=1E3,Wj=[{ve:"TableViewTest",I:function(){var a=cc.Scene.create(),b=Vj.create();a.addChild(b);cc.Director.getInstance().replaceScene(a)}},{ve:"EditBoxTest",I:function(){runEditBoxTest()}},{ve:"WebSocketTest",I:function(){runWebSocketTest()}}],Xj=cc.Layer.extend({onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.Menu.create();b.setPosition(cc.p(0,0));cc.MenuItemFont.setFontName("Arial");cc.MenuItemFont.setFontSize(24);for(var c=0;c<Wj.length;++c){var d=
cc.MenuItemFont.create(Wj[c].ve,this.Ae,this);d.setPosition(cc.p(a.width/2,a.height-(c+1)*ga));b.addChild(d,hg+c)}this.addChild(b)},Ae:function(a){a=a.getZOrder()-hg;Wj[a].I()}}),qa=w.extend({N:function(){this.addChild(new Xj);cc.Director.getInstance().replaceScene(this)}});var Yj=cc.TableViewCell.extend({draw:function(a){this._super(a)}}),Vj=cc.Layer.extend({init:function(){if(!this._super())return j;var a=cc.Director.getInstance().getWinSize(),b=cc.TableView.create(this,cc.size(600,60));b.setDirection(cc.yg);b.setPosition(cc.p(20,a.height/2-150));b.setDelegate(this);this.addChild(b);b.reloadData();b=cc.TableView.create(this,cc.size(60,350));b.setDirection(cc.zg);b.setPosition(cc.p(a.width-150,a.height/2-150));b.setDelegate(this);b.setVerticalFillOrder(cc.Ag);this.addChild(b);
b.reloadData();b=cc.MenuItemFont.create("Back",this.Zi,this);b.setPosition(cc.p(a.width-50,25));a=cc.Menu.create(b);a.setPosition(cc.p(0,0));this.addChild(a);return g},Zi:function(){(new qa).N()},scrollViewDidScroll:k(),scrollViewDidZoom:k(),tableCellTouched:function(a,b){cc.log("cell touched at index: "+b.getIdx())},cellSizeForTable:function(){return cc.size(60,60)},tableCellAtIndex:function(a,b){var c=b.toFixed(0),d=a.dequeueCell(),f;d?(f=d.getChildByTag(123),f.setString(c)):(d=new Yj,f=cc.Sprite.create("res/Images/Icon.png"),
f.setAnchorPoint(cc.p(0,0)),f.setPosition(cc.p(0,0)),d.addChild(f),f=cc.LabelTTF.create(c,"Helvetica",20),f.setPosition(cc.p(0,0)),f.setAnchorPoint(cc.p(0,0)),f.setTag(123),d.addChild(f));return d},numberOfCellsInTableView:l(25)});Vj.create=function(){var a=new Vj;return a&&a.init()?a:h};var X=1,Zj=-1,$=x.extend({ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},title:l("No title"),f:l("drag the screen"),S:function(){var a=new Ga;a.addChild(new $j[Zj]);r.replaceScene(a)},Q:function(){var a=new Ga;a.addChild(ak());r.replaceScene(a)},R:function(){var a=new Ga;a.addChild(bk());r.replaceScene(a)},onTouchesMoved:function(a){var b=a[0].getDelta(),a=this.getChildByTag(X),b=cc.pAdd(b,a.getPosition());a.setPosition(b)},
onMouseDragged:function(a){var b=a.getDelta(),a=this.getChildByTag(X),b=cc.pAdd(b,a.getPosition());a.setPosition(b)},W:function(){return $j.length-1-Zj},T:function(){return Zj}});
$.extend({ctor:function(){this._super();var a=cc.Ig.create("res/TileMaps/tiles.png","res/TileMaps/levelmap.tga",16,16);"opengl"in sys.capabilities&&a.getTexture().setAntiAliasTexParameters();var b=a.getContentSize();this.log("ContentSize: "+b.width+" "+b.height);a.releaseMap();this.addChild(a,0,X);a.setAnchorPoint(cc.p(0,0.5));var b=cc.ScaleBy.create(4,0.8),c=b.reverse(),b=cc.Sequence.create(b,c);a.runAction(cc.RepeatForever.create(b))},title:l("TileMapAtlas")});
$.extend({ctor:function(){this._super();var a=cc.Ig.create("res/TileMaps/tiles.png","res/TileMaps/levelmap.tga",16,16);a.getTexture().setAliasTexParameters();var b=a.getContentSize();this.log("ContentSize: "+b.width+" "+b.height);this.schedule(this.gj,0.2);this.addChild(a,0,X);a.setAnchorPoint(cc.p(0,0));a.setPosition(cc.p(-20,-200))},title:l("Editable TileMapAtlas"),gj:function(){var a=this.getChildByTag(X),b=a.getTileAt(cc.g(13,21));b.r++;b.r%=50;0==b.r&&(b.r=1);a.setTile(b,cc.g(13,21))}});
var ck=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test1.tmx");this.addChild(a,0,X);a.runAction(cc.ScaleBy.create(2,0.5))},title:l("TMX Ortho test"),B:2.1,O:{"0":218,1:218,2:208,3:255},P:{"0":193,1:143,2:72,3:255},xa:{"0":200,1:15,2:160,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes",pixel3:"yes"})},m:function(){var a=this.readPixels(82,114,10,10),b=this.readPixels(475,100,10,10),c=this.readPixels(312,196,10,10);return JSON.stringify({pixel1:this.C(a,
this.O,j)?"yes":"no",pixel2:this.C(b,this.P,j)?"yes":"no",pixel3:this.C(c,this.xa,g,5)?"yes":"no"})}}),dk=$.extend({ctor:function(){this._super();this.addChild(cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx"),0,X)},title:l("TMX Orthogonal test 2"),onEnter:function(){this._super();r.setProjection(cc.jc)},onExit:function(){this._super();r.setProjection(cc.qb)},O:{"0":192,1:144,2:16,3:255},P:{"0":255,1:255,2:255,3:255},xa:{"0":40,1:0,2:0,3:255},n:function(){return JSON.stringify({pixel1:"yes",
pixel2:"yes",pixel3:"yes"})},m:function(){var a=this.readPixels(99,142,5,5),b=this.readPixels(238,270,5,5),c=this.readPixels(419,239,5,5);return JSON.stringify({pixel1:this.C(a,this.O,j)?"yes":"no",pixel2:this.C(b,this.P,j)?"yes":"no",pixel3:this.C(c,this.xa,j)?"yes":"no"})}}),ek=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test3.tmx");this.addChild(a,0,X);a.setScale(0.2);a.setAnchorPoint(cc.p(0.5,0.5))},title:l("TMX anchorPoint test"),O:{"0":247,1:196,
2:131,3:255},P:{"0":0,1:0,2:0,3:255},xa:{"0":0,1:0,2:0,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes",pixel3:"yes"})},m:function(){var a=this.readPixels(0,0,10,10),b=this.readPixels(107,58,10,10),c=this.readPixels(58,107,10,10);return JSON.stringify({pixel1:this.C(a,this.O,j)?"yes":"no",pixel2:this.C(b,this.P,j)?"yes":"no",pixel3:this.C(c,this.xa,j)?"yes":"no"})}}),fk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test4.tmx");this.addChild(a,
0,X);a.setAnchorPoint(cc.p(0,0));var a=a.getLayer("Layer 0"),b=a.getLayerSize(),c;c=a.getTileAt(cc.p(0,0));c.setScale(2);c=a.getTileAt(cc.p(b.width-1,0));c.setScale(2);c=a.getTileAt(cc.p(0,b.height-1));c.setScale(2);c=a.getTileAt(cc.p(b.width-1,b.height-1));c.setScale(2);this.scheduleOnce(this.Ke,2)},Ke:function(){var a=this.getChildByTag(X).getLayer("Layer 0"),b=a.getLayerSize(),c=a.getTileAt(cc.p(b.width-1,0));a.removeChild(c,g);this.Re=b},title:l("TMX width/height test"),B:3,Re:h,F:{"0":0,1:0,
2:0,3:255},n:function(){return JSON.stringify({width:14,height:8,pixel:"yes"})},m:function(){var a={width:this.Re.width,height:this.Re.height,pixel:this.C(this.readPixels(433,240,10,10),this.F,j)?"yes":"no"};return JSON.stringify(a)}}),gk=$.extend({Ww:0,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getLayer("Layer 0");"opengl"in sys.capabilities&&b.getTexture().setAntiAliasTexParameters();a.setScale(1);
var a=b.getTileAt(cc.p(1,63)),c=b.getTileAt(cc.p(2,63)),d=b.getTileAt(cc.p(3,62)),f=b.getTileAt(cc.p(2,62));a.setAnchorPoint(cc.p(0.5,0.5));c.setAnchorPoint(cc.p(0.5,0.5));d.setAnchorPoint(cc.p(0.5,0.5));f.setAnchorPoint(cc.p(0.5,0.5));var i=cc.MoveBy.create(0.5,cc.p(0,160)),m=cc.RotateBy.create(2,360),o=cc.ScaleBy.create(2,5),q=cc.FadeOut.create(2),u=cc.FadeIn.create(2),p=cc.ScaleTo.create(1,1),s=cc.CallFunc.create(this.Ke),i=cc.Sequence.create(i,m,o,q,u,p,s);a.runAction(i);c.runAction(i.copy());
d.runAction(i.copy());f.runAction(i.copy());b.getTileGIDAt(cc.p(0,63));this.schedule(this.ej,2);this.schedule(this.vi,2);this.schedule(this.$f,1);this.ue=0},Ke:function(a){var b=a.getParent();b&&b.removeChild(a,g)},ej:function(){for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.height;c++)a.setTileGID(this.ue,cc.p(3,c));this.ue=(this.ue+1)%80},vi:function(){for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.width;c++){var d=b.height-1,f=a.getTileGIDAt(cc.p(c,
d));a.setTileGID(f+1,cc.p(c,d))}},$f:function(){this.unschedule(this.$f);for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.height;c++)a.removeTileAt(cc.p(5,c))},title:l("TMX Read/Write test"),B:2.2,O:{"0":0,1:144,2:0,3:255},P:{"0":192,1:144,2:16,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes"})},m:function(){var a=this.readPixels(168,203,5,5),b=this.readPixels(239,239,5,5);return JSON.stringify({pixel1:!this.C(a,this.O,j)?"yes":"no",pixel2:this.C(b,this.P,
j)?"yes":"no"})}}),hk=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.o(64,64,64,255)),-1);this.addChild(cc.TMXTiledMap.create("res/TileMaps/hexa-test.tmx"),0,X)},title:l("TMX Hex test"),O:{"0":250,1:202,2:73,3:255},P:{"0":150,1:219,2:10,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes"})},m:function(){var a=this.readPixels(438,226,10,10),b=this.readPixels(195,0,10,10);return JSON.stringify({pixel1:this.C(a,this.O,j)?"yes":"no",pixel2:this.C(b,this.P,
j)?"yes":"no"})}}),ik=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.o(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test.tmx");this.addChild(a,0,X);var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)))},title:l("TMX Isometric test 0"),F:{"0":0,1:0,2:0,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){for(var a=g,b=0;6>b;b++)this.C(this.readPixels(438,226,3,3),this.F,
j)||(a=j);return JSON.stringify({pixel:a==g?"yes":"no"})}}),jk=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.o(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test1.tmx");this.addChild(a,0,X);a.getContentSize();a.setAnchorPoint(cc.p(0.5,0.5))},title:l("TMX Isometric test + anchorPoint"),F:{"0":0,1:0,2:0,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){for(var a=g,b=0;6>b;b++)this.C(this.readPixels(438,226,3,3),this.F,j)||(a=j);
return JSON.stringify({pixel:a==g?"yes":"no"})}}),kk=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.o(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test2.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)))},title:l("TMX Isometric test 2"),B:1.2,F:{"0":0,1:0,2:0,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){for(var a=
g,b=1;6>b;b++)this.C(this.readPixels(62*b,191,5,5),this.F,g,2)||(a=j);return JSON.stringify({pixel:a==g?"yes":"no"})}}),lk=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.o(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test2-uncompressed.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)));for(var a=a.getChildren(),b=h,c=0,d=a.length;c<d;c++){b=
a[c];if(!b)break;b.releaseMap()}},title:l("TMX Uncompressed test"),B:1.2,F:{"0":0,1:0,2:0,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){for(var a=g,b=1;6>b;b++)this.C(this.readPixels(62*b,191,5,5),this.F,g,2)||(a=j);return JSON.stringify({pixel:a==g?"yes":"no"})}}),mk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test5.tmx");this.addChild(a,0,X);a.getContentSize();if("opengl"in sys.capabilities){var b;b=a.getLayer("Layer 0");
b.getTexture().setAntiAliasTexParameters();b=a.getLayer("Layer 1");b.getTexture().setAntiAliasTexParameters();b=a.getLayer("Layer 2");b.getTexture().setAntiAliasTexParameters()}},title:l("TMX Tileset test"),B:1,O:{"0":255,1:0,2:0,3:255},P:{"0":213,1:202,2:190,3:255},xa:{"0":61,1:118,2:71,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes",pixel3:"yes"})},m:function(){var a=this.readPixels(53,80,5,5),b=this.readPixels(38,151,5,5),c=this.readPixels(345,202,5,5);return JSON.stringify({pixel1:this.C(a,
this.O,j)?"yes":"no",pixel2:this.C(b,this.P,j)?"yes":"no",pixel3:this.C(c,this.xa,j)?"yes":"no"})}}),nk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-objects.tmx");this.addChild(a,-1,X);a.getContentSize();for(var a=a.getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}this.Na=a},onEnter:function(){this._super();this.setAnchorPoint(cc.p(0,0))},draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Group 1").getObjects(),
b=0;b<a.length;b++){var c=a[b];if(!c)break;var d=c.x,f=c.y,i=c.width,c=c.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(d,f),cc.p(d+i,f));cc.drawingUtil.drawLine(cc.p(d+i,f),cc.p(d+i,f+c));cc.drawingUtil.drawLine(cc.p(d+i,f+c),cc.p(d,f+c));cc.drawingUtil.drawLine(cc.p(d,f+c),cc.p(d,f));cc.renderContext.lineWidth=1}},title:l("TMX Ortho object test"),f:l("You should see a white box around the 3 platforms"),Na:h,n:function(){var a=[];a.push({name:"Object",
type:"",x:0,y:0,width:352,height:32});a.push({name:"Object",type:"",x:224,y:64,width:160,height:32});a.push({name:"platform",type:"platform",x:2,y:131,width:125,height:60});return JSON.stringify(a)},m:function(){for(var a=[],b=h,c=0;c<this.Na.length;c++)b=this.Na[c],a.push({name:b.name||"",type:b.type||"",x:parseFloat(b.x),y:parseFloat(b.y),width:parseFloat(b.width),height:parseFloat(b.height)});return JSON.stringify(a)}}),ok=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-objectgroup.tmx");
this.addChild(a,-1,X);a.getContentSize();for(var a=a.getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}this.Na=a},onEnter:function(){this._super();this.setAnchorPoint(cc.p(0,0))},title:l("TMX Iso object test"),draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;var f=b.x,i=b.y,m=b.width;b=b.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle=
"#ffffff";cc.drawingUtil.drawLine(cc.p(f,i),cc.p(f+m,i));cc.drawingUtil.drawLine(cc.p(f+m,i),cc.p(f+m,i+b));cc.drawingUtil.drawLine(cc.p(f+m,i+b),cc.p(f,i+b));cc.drawingUtil.drawLine(cc.p(f,i+b),cc.p(f,i));cc.renderContext.lineWidth=1}},f:l("You need to parse them manually. See bug #810"),Na:h,n:function(){var a=[];a.push({name:"platform 1",type:"",x:0,y:0,width:32,height:30});a.push({name:"",type:"",x:0,y:285,width:31,height:32});a.push({name:"",type:"",x:130,y:129,width:29,height:29});a.push({name:"",
type:"",x:290,y:1,width:28,height:29});return JSON.stringify(a)},m:function(){for(var a=[],b=h,c=0;c<this.Na.length;c++)b=this.Na[c],a.push({name:b.name||"",type:b.type||"",x:parseFloat(b.x),y:parseFloat(b.y),width:parseFloat(b.width),height:parseFloat(b.height)});return JSON.stringify(a)}}),pk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test5.tmx");this.addChild(a,0,X);a.getContentSize();for(var a=a.getLayer("Layer 0"),b=a.getLayerSize(),c=0;c<b.height;c++)for(var d=
0;d<b.width;d++)a.setTileGID(1,cc.p(d,c))},title:l("TMX resize test"),f:l("Should not crash. Testing issue #740"),B:0.25,F:{"0":169,1:120,2:76,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){var a={pixel:this.C(this.readPixels(156,156,5,5),this.F,j)?"yes":"no"};return JSON.stringify(a)}}),qk=$.extend({X:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-zorder.tmx");this.addChild(a,0,X);var b=a.getContentSize();a.setPosition(cc.p(-b.width/2,0));
this.X=cc.Sprite.create("res/Images/grossinis_sister1.png");a.addChild(this.X,a.getChildren().length);this.X.setPosition(a.getMapSize().width*a.getTileSize().width/2,0);this.X.setAnchorPoint(cc.p(0.5,0));var a=cc.MoveBy.create(5,cc.pMult(cc.p(300,250),0.75)),b=a.reverse(),c=cc.DelayTime.create(0.5),a=cc.Sequence.create(a,c,b);this.X.runAction(cc.RepeatForever.create(a));this.schedule(this.ob)},title:l("TMX Iso Zorder"),f:l("Sprite should hide behind the trees"),onExit:function(){this.unschedule(this.ob);
this._super()},ob:function(){var a=this.X.getPosition(),b=this.getChildByTag(X),a=4-a.y/48,a=parseInt(Math.max(a,0),10);b.reorderChild(this.X,a)},B:5.2,F:{"0":255,1:255,2:255,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){var a={pixel:this.C(this.readPixels(223,247,5,5),this.F,j)?"yes":"no"};return JSON.stringify(a)}}),rk=$.extend({X:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-zorder.tmx");this.addChild(a,0,X);a.getContentSize();
this.X=cc.Sprite.create("res/Images/grossinis_sister1.png");a.addChild(this.X,a.getChildren().length,X);this.X.setAnchorPoint(cc.p(0.5,0));var a=cc.MoveBy.create(5,cc.pMult(cc.p(400,450),0.58)),b=a.reverse(),a=cc.Sequence.create(a,b);this.X.runAction(cc.RepeatForever.create(a));this.schedule(this.ob)},title:l("TMX Ortho Zorder"),f:l("Sprite should hide behind the trees"),ob:function(){var a=this.X.getPosition(),b=this.getChildByTag(X),a=4-(a.y-10)/81,a=Math.max(a,0);b.reorderChild(this.X,a)},B:2,
O:{"0":117,1:185,2:63,3:255},P:{"0":91,1:55,2:20,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes"})},m:function(){var a=this.readPixels(86,131,5,5),b=this.readPixels(84,200,5,5);return JSON.stringify({pixel1:this.C(a,this.O,j)?"yes":"no",pixel2:this.C(b,this.P,g,5)?"yes":"no"})}}),sk=$.extend({X:h,wx:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-vertexz.tmx");this.addChild(a,0,X);var b=a.getContentSize();a.setPosition(cc.p(-b.width/2,0));this.X=
a.getLayer("Trees").getTileAt(cc.p(29,29));var a=cc.MoveBy.create(5,cc.pMult(cc.p(300,250),0.75)),b=a.reverse(),c=cc.DelayTime.create(0.5),a=cc.Sequence.create(a,c,b);this.X.runAction(cc.RepeatForever.create(a));this.schedule(this.ob)},title:l("TMX Iso VertexZ"),f:l("Sprite should hide behind the trees"),onEnter:function(){this._super();r.setProjection(cc.qb);this.draw=k()},onExit:function(){this._super()},ob:function(){this.X.setVertexZ(-((this.X.getPosition().y+32)/16))},B:5.2,F:{"0":255,1:255,
2:255,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){var a={pixel:this.C(this.readPixels(224,246,4,4),this.F,j)?"yes":"no"};return JSON.stringify(a)}}),tk=$.extend({X:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-vertexz.tmx");this.addChild(a,0,X);a.getContentSize();this.X=a.getLayer("trees").getTileAt(cc.p(0,11));this.log("vertexZ: "+this.X.getVertexZ());var a=cc.MoveBy.create(5,cc.pMult(cc.p(400,450),0.55)),b=a.reverse(),c=cc.DelayTime.create(0.5),
a=cc.Sequence.create(a,c,b);this.X.runAction(cc.RepeatForever.create(a));this.schedule(this.ob);this.log("DEPTH BUFFER MUST EXIST IN ORDER")},title:l("TMX Ortho vertexZ"),f:l("Sprite should hide behind the trees"),onEnter:function(){this._super();r.setProjection(cc.qb);this.draw=k()},onExit:function(){this._super()},ob:function(){this.X.setVertexZ(-((this.X.getPosition().y+81)/81))},B:5.2,F:{"0":119,1:205,2:73,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){var a={pixel:this.C(this.readPixels(266,
331,5,5),this.F,j)?"yes":"no"};return JSON.stringify(a)}}),uk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-movelayer.tmx");this.addChild(a,0,X);a.setPosition(cc.p(-700,-50));a.getContentSize()},title:l("TMX Iso Move Layer"),f:l("Trees should be horizontally aligned")}),vk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-movelayer.tmx");this.addChild(a,0,X);a.getContentSize()},title:l("TMX Ortho Move Layer"),
f:l("Trees should be horizontally aligned")}),wk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-tile-property.tmx");this.addChild(a,0,X);for(var b=1;6>=b;b++){var c=a.propertiesForGID(b);this.log("GID:"+b+", Properties:"+JSON.stringify(c));this.Xf.push(c)}},title:l("TMX Tile Property Test"),f:l("In the console you should see tile properties"),B:0.25,Xf:[],n:function(){var a=[];a.push({test:"sss",type:"object"});a.push({type:"object"});a.push({type:"object"});
a.push({type:"platform"});a.push({type:"platform"});a.push({type:"platform"});return JSON.stringify(a)},m:function(){return JSON.stringify(this.Xf)}}),xk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-rotation-test.tmx");this.addChild(a,0,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);b=cc.ScaleBy.create(2,0.5);a.runAction(b)},title:l("TMX tile flip test"),B:2.2,F:{"0":41,1:42,2:54,3:255},n:function(){return JSON.stringify({pixel1:"yes",
pixel2:"yes"})},m:function(){var a=this.readPixels(93,153,5,5),b=this.readPixels(105,153,5,5);return JSON.stringify({pixel1:this.C(a,this.F,j)?"yes":"no",pixel2:this.C(b,this.F,j)?"yes":"no"})}}),yk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-rotation-test.tmx");this.addChild(a,0,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);b=cc.ScaleBy.create(2,0.5);a.runAction(b);this.schedule(this.Eh,1)},title:l("TMX tile flip run time test"),
f:l("in 2 sec bottom left tiles will flip"),Eh:function(){var a=this.getChildByTag(X).getLayer("Layer 0"),b=cc.p(1,10),c=a.getTileFlagsAt(b),d=a.getTileGIDAt(b),c=(c&cc.vb)>>>0?(c&~cc.vb>>>0)>>>0:(c|cc.vb)>>>0;a.setTileGID(d,b,c);b=cc.p(1,8);c=a.getTileFlagsAt(b);d=a.getTileGIDAt(b);c=(c&cc.vb)>>>0?(c&~cc.vb>>>0)>>>0:(c|cc.vb)>>>0;a.setTileGID(d,b,c);b=cc.p(2,8);c=a.getTileFlagsAt(b);d=a.getTileGIDAt(b);c=(c&cc.bd)>>>0?(c&~cc.bd>>>0)>>>0:(c|cc.bd)>>>0;a.setTileGID(d,b,c)},B:3.2,F:{"0":41,1:42,2:54,
3:255},O:h,Ea:function(){this.scheduleOnce(function(){this.O=this.readPixels(104,154,5,5)},2.2)},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes"})},m:function(){this.P=this.readPixels(145,154,5,5);return JSON.stringify({pixel1:this.C(this.O,this.F,j)?"yes":"no",pixel2:this.C(this.P,this.F,j)?"yes":"no"})}}),zk=$.extend({ctor:function(){this._super();var a=cc.FileUtils.getInstance().getStringFromFile("res/TileMaps/orthogonal-test1.tmx"),a=cc.TMXTiledMap.createWithXML(a,"res/TileMaps");
this.addChild(a,0,X);var b=a.getContentSize();cc.log("ContentSize: "+b.width+", "+b.height);if("opengl"in sys.capabilities)for(var b=a.getChildren(),c=0;c<b.length;c++){var d=b[c];d&&d.getTexture().setAntiAliasTexParameters()}b=cc.ScaleBy.create(2,0.5);a.runAction(b)},title:l("TMX created from XML test"),B:2.2,O:{"0":210,1:210,2:200,3:255},P:{"0":243,1:202,2:86,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes"})},m:function(){var a=this.readPixels(326,120,5,5),b=this.readPixels(124,
246,5,5);return JSON.stringify({pixel1:this.C(a,this.O,j)?"yes":"no",pixel2:this.C(b,this.P,j)?"yes":"no"})}}),Ak=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test6.tmx");this.addChild(a,0,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);for(var b=a.getChildren(),c=h,d=0,f=b.length;d<f;d++){c=b[d];if(!c)break;"opengl"in sys.capabilities&&c.getTexture().setAntiAliasTexParameters()}a.setAnchorPoint(cc.p(0,0));a.getLayer("Tile Layer 1").setTileGID(3,
cc.p(2,2))},title:l("TMX Bug 987"),f:l("You should see an square"),B:0.25,O:{"0":162,1:152,2:98,3:255},P:{"0":255,1:208,2:148,3:255},xa:{"0":182,1:182,2:146,3:255},n:function(){return JSON.stringify({pixel1:"yes",pixel2:"yes",pixel3:"yes"})},m:function(){var a=this.readPixels(64,224,5,5),b=this.readPixels(4,165,5,5),c=this.readPixels(144,140,5,5);return JSON.stringify({pixel1:this.C(a,this.O,j)?"yes":"no",pixel2:this.C(b,this.P,j)?"yes":"no",pixel3:this.C(c,this.xa,j)?"yes":"no"})}}),Bk=$.extend({ctor:function(){this._super();
var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-bug787.tmx");this.addChild(a,0,X);a.setScale(0.25)},title:l("TMX Bug 787"),f:l("You should see a map"),B:0.25,F:{"0":255,1:255,2:255,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){var a={pixel:this.C(this.readPixels(364,243,5,5),this.F,j)?"yes":"no"};return JSON.stringify(a)}}),Ck=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/test-object-layer.tmx");this.addChild(a,-1,X);var b=a.getContentSize();
this.log("ContentSize:"+b.width+","+b.height);this.log("---. Iterating over all the group objets");for(var a=a.getObjectGroup("Object Layer 1").getObjects(),c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}this.Na=a},title:l("TMX GID objects"),f:l("Tiles are created from an object group"),draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Layer 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;var f=b.x,i=b.y,m=b.width;b=b.height;cc.renderContext.lineWidth=
3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(f,i),cc.p(f+m,i));cc.drawingUtil.drawLine(cc.p(f+m,i),cc.p(f+m,i+b));cc.drawingUtil.drawLine(cc.p(f+m,i+b),cc.p(f,i+b));cc.drawingUtil.drawLine(cc.p(f,i+b),cc.p(f,i));cc.renderContext.lineWidth=1}},Na:[],n:function(){var a=[];a.push({name:"sandro",type:"",x:97,y:6,width:0,height:0});a.push({name:"",type:"",x:119,y:19,width:0,height:0});a.push({name:"",type:"",x:140,y:38,width:0,height:0});a.push({name:"",type:"",x:160,y:57,width:0,
height:0});a.push({name:"",type:"",x:180,y:71,width:0,height:0});return JSON.stringify(a)},m:function(){for(var a=[],b=h,c=0;c<this.Na.length;c++)b=this.Na[c],a.push({name:b.name||"",type:b.type||"",x:parseFloat(b.x),y:parseFloat(b.y),width:parseFloat(b.width||0),height:parseFloat(b.height||0)});return JSON.stringify(a)}}),Dk=$.extend({ctor:function(){this._super();this.addChild(cc.TMXTiledMap.create("res/TileMaps/tile_iso_offset.tmx"),0,X)},title:l("TMX Tile Offset"),f:l("Testing offset of tiles"),
B:0.25,F:{"0":168,1:168,2:168,3:255},n:function(){return JSON.stringify({pixel:"yes"})},m:function(){var a={pixel:this.C(this.readPixels(150,260,5,5),this.F,j)?"yes":"no"};return JSON.stringify(a)}}),Ga=w.extend({N:function(){Zj=-1;this.addChild(ak());cc.Director.getInstance().setDepthTest(g);r.replaceScene(this)}}),$j=[ck,dk,ek,fk,gk,hk,ik,jk,kk,lk,mk,nk,ok,pk,qk,rk,sk,tk,uk,vk,wk,xk,yk,zk,Ak,Bk,Ck,Dk];function ak(){Zj++;Zj%=$j.length;return new $j[Zj]}
function bk(){Zj--;0>Zj&&(Zj+=$j.length);return new $j[Zj]};TRANSITION_DURATION=1.2;
var Uk=[{title:"JumpZoomTransition",K:function(a,b){return new Ek(a,b)}},{title:"TransitionProgressRadialCCW",K:function(a,b){return cc.TransitionProgressRadialCCW.create(a,b)}},{title:"TransitionProgressRadialCW",K:function(a,b){return cc.TransitionProgressRadialCW.create(a,b)}},{title:"TransitionProgressHorizontal",K:function(a,b){return cc.TransitionProgressHorizontal.create(a,b)}},{title:"TransitionProgressVertical",K:function(a,b){return cc.TransitionProgressVertical.create(a,b)}},{title:"TransitionProgressInOut",
K:function(a,b){return cc.TransitionProgressInOut.create(a,b)}},{title:"TransitionProgressOutIn",K:function(a,b){return cc.TransitionProgressOutIn.create(a,b)}},{title:"FadeTransition",K:function(a,b){return new Fk(a,b)}},{title:"FadeWhiteTransition",K:function(a,b){return new Gk(a,b)}},{title:"ShrinkGrowTransition",K:function(a,b){return new Hk(a,b)}},{title:"RotoZoomTransition",K:function(a,b){return new Ik(a,b)}},{title:"MoveInLTransition",K:function(a,b){return new Jk(a,b)}},{title:"MoveInRTransition",
K:function(a,b){return new Kk(a,b)}},{title:"MoveInTTransition",K:function(a,b){return new Lk(a,b)}},{title:"MoveInBTransition",K:function(a,b){return new Mk(a,b)}},{title:"SlideInLTransition",K:function(a,b){return new Nk(a,b)}},{title:"SlideInRTransition",K:function(a,b){return new Ok(a,b)}},{title:"SlideInTTransition",K:function(a,b){return new Pk(a,b)}},{title:"SlideInBTransition",K:function(a,b){return new Qk(a,b)}},{title:"CCTransitionCrossFade",K:function(a,b){return new Rk(a,b)}},{title:"CCTransitionRadialCCW",
K:function(a,b){return new Sk(a,b)}},{title:"CCTransitionRadialCW",K:function(a,b){return new Tk(a,b)}}];
"opengl"in sys.capabilities&&(Uk=Uk.concat([{title:"FlipXLeftOver",K:function(a,b){return new Vk(a,b)}},{title:"FlipXRightOver",K:function(a,b){return new Wk(a,b)}},{title:"FlipYUpOver",K:function(a,b){return new Xk(a,b)}},{title:"FlipYDownOver",K:function(a,b){return new Yk(a,b)}},{title:"FlipAngularLeftOver",K:function(a,b){return new Zk(a,b)}},{title:"FlipAngularRightOver",K:function(a,b){return new $k(a,b)}},{title:"ZoomFlipXLeftOver",K:function(a,b){return new al(a,b)}},{title:"ZoomFlipXRightOver",
K:function(a,b){return new bl(a,b)}},{title:"ZoomFlipYUpOver",K:function(a,b){return new cl(a,b)}},{title:"ZoomFlipYDownOver",K:function(a,b){return new dl(a,b)}},{title:"ZoomFlipAngularLeftOver",K:function(a,b){return new el(a,b)}},{title:"ZoomFlipAngularRightOver",K:function(a,b){return new fl(a,b)}},{title:"PageTransitionForward",K:function(a,b){return new hl(a,b)}},{title:"PageTransitionBackward",K:function(a,b){return new il(a,b)}},{title:"FadeTRTransition",K:function(a,b){return new jl(a,b)}},
{title:"FadeBLTransition",K:function(a,b){return new kl(a,b)}},{title:"FadeUpTransition",K:function(a,b){return new ll(a,b)}},{title:"FadeDownTransition",K:function(a,b){return new ml(a,b)}},{title:"TurnOffTilesTransition",K:function(a,b){return new nl(a,b)}},{title:"SplitRowsTransition",K:function(a,b){return new ol(a,b)}},{title:"SplitColsTransition",K:function(a,b){return new pl(a,b)}}]));
var ql=0,Ha=w.extend({N:function(){this.addChild(new rl);r.replaceScene(this)}}),sl=x.extend({B:TRANSITION_DURATION+0.1,title:function(){return Uk[ql].title},ctor:function(){this._super(this.tf,this.uf);var a,b,c=r.getWinSize();a=c.width;b=c.height;var d=cc.Sprite.create(this.backgroundImage);d.setPosition(c.width/2,c.height/2);d.setScale(1.7);this.addChild(d);c=cc.LabelTTF.create(this.title(),"Thonburi",32);this.addChild(c);c.setColor(cc.D(255,32,32));c.setPosition(a/2,b-100);c=cc.LabelTTF.create(this.hc,
"Marker Felt",38);c.setColor(cc.D(16,16,255));c.setPosition(a/2,b/2);this.addChild(c);this.schedule(this.step,1)},S:function(){var a=new Ha,b=this.rd();a.addChild(b);(a=Uk[ql].K(TRANSITION_DURATION,a))&&r.replaceScene(a)},Q:function(){ql++;ql%=Uk.length;var a=new Ha,b=this.rd();a.addChild(b);(a=Uk[ql].K(TRANSITION_DURATION,a))&&r.replaceScene(a)},R:function(){ql--;0>ql&&(ql+=Uk.length);var a=new Ha,b=this.rd();a.addChild(b);(a=Uk[ql].K(TRANSITION_DURATION,a))&&r.replaceScene(a)},step:k(),onEnter:function(){this._super();
this.log(""+this.hc+" onEnter")},onEnterTransitionDidFinish:function(){this._super();this.log(""+this.hc+" onEnterTransitionDidFinish")},onExitTransitionDidStart:function(){this._super();this.log(""+this.hc+" onExitTransitionDidStart")},onExit:function(){this._super();this.log(""+this.hc+" onExit")},W:function(){return Uk.length-1-ql},T:function(){return ql}}),rl=sl.extend({backgroundImage:"res/Images/background1.png",tf:cc.o(0,0,0,255),uf:cc.o(160,99,117,255),hc:"Scene 1",rd:function(){return new tl}}),
tl=sl.extend({backgroundImage:"res/Images/background2.png",tf:cc.o(0,0,0,255),uf:cc.o(99,160,117,255),hc:"Scene 2",rd:function(){return new rl}});function Ek(a,b){return cc.TransitionJumpZoom.create(a,b)}function Fk(a,b){return cc.TransitionFade.create(a,b)}function Gk(a,b){return cc.TransitionFade.create(a,b,cc.D(255,255,255))}function Vk(a,b){return cc.TransitionFlipX.create(a,b,cc.lc)}function Wk(a,b){return cc.TransitionFlipX.create(a,b,cc.mc)}
function Xk(a,b){return cc.TransitionFlipY.create(a,b,cc.ee)}function Yk(a,b){return cc.TransitionFlipY.create(a,b,cc.de)}function Zk(a,b){return cc.TransitionFlipAngular.create(a,b,cc.lc)}function $k(a,b){return cc.TransitionFlipAngular.create(a,b,cc.mc)}function al(a,b){return cc.TransitionZoomFlipX.create(a,b,cc.lc)}function bl(a,b){return cc.TransitionZoomFlipX.create(a,b,cc.mc)}function cl(a,b){return cc.TransitionZoomFlipY.create(a,b,cc.ee)}
function dl(a,b){return cc.TransitionZoomFlipY.create(a,b,cc.de)}function el(a,b){return cc.TransitionZoomFlipAngular.create(a,b,cc.lc)}function fl(a,b){return cc.TransitionZoomFlipAngular.create(a,b,cc.mc)}function Hk(a,b){return cc.TransitionShrinkGrow.create(a,b)}function Ik(a,b){return cc.TransitionRotoZoom.create(a,b)}function Jk(a,b){return cc.TransitionMoveInL.create(a,b)}function Kk(a,b){return cc.TransitionMoveInR.create(a,b)}function Lk(a,b){return cc.TransitionMoveInT.create(a,b)}
function Mk(a,b){return cc.TransitionMoveInB.create(a,b)}function Nk(a,b){return cc.TransitionSlideInL.create(a,b)}function Ok(a,b){return cc.TransitionSlideInR.create(a,b)}function Pk(a,b){return cc.TransitionSlideInT.create(a,b)}function Qk(a,b){return cc.TransitionSlideInB.create(a,b)}function Rk(a,b){return cc.TransitionCrossFade.create(a,b)}function Sk(a,b){return cc.TransitionProgressRadialCCW.create(a,b)}function Tk(a,b){return cc.TransitionProgressRadialCW.create(a,b)}
function hl(a,b){r.setDepthTest(g);return cc.TransitionPageTurn.create(a,b,j)}function il(a,b){r.setDepthTest(g);return cc.TransitionPageTurn.create(a,b,g)}function jl(a,b){return cc.TransitionFadeTR.create(a,b)}function kl(a,b){return cc.TransitionFadeBL.create(a,b)}function ll(a,b){return cc.TransitionFadeUp.create(a,b)}function ml(a,b){return cc.TransitionFadeDown.create(a,b)}function nl(a,b){return cc.TransitionTurnOffTiles.create(a,b)}
function ol(a,b){return cc.TransitionSplitRows.create(a,b)}function pl(a,b){return cc.TransitionSplitCols.create(a,b)};var ul=-1,yl=x.extend({j:"",q:"",S:function(){var a=new Ia;a.addChild(new vl[ul]);r.replaceScene(a)},Q:function(){var a=new Ia;a.addChild(wl());r.replaceScene(a)},R:function(){var a=new Ia;a.addChild(xl());r.replaceScene(a)},W:function(){return vl.length-1-ul},T:function(){return ul}}),zl=yl.extend({j:"Rect Unit Test",q:"See console for possible errors",onEnter:function(){this._super();this.pb()},pb:function(){var a=[],b,c;this.log("Test 1: rectIntersectsRect 1");b=cc.rect(0,0,5,10);c=cc.rect(4,9,
5,10);(b=cc.Zf(b,c))||e("Fail rectIntersectsRect 1");a.push(b);this.log("Test 2: rectIntersectsRect 2");b=cc.rect(0,0,5,10);c=cc.rect(40,90,5,10);(b=cc.Zf(b,c))&&e("Fail rectIntersectsRect 2");a.push(b);this.log("Test 3: rectIntersection");b=cc.rect(0,0,5,10);c=cc.rect(4,9,5,10);b=cc.qi(b,c);(b=cc.Yf(b,cc.rect(4,9,1,1)))||e("Fail rectIntersection");a.push(b);this.log("Test 4: rectUnion");b=cc.rect(0,0,5,10);c=cc.rect(4,9,5,10);b=cc.ri(b,c);(b=cc.Yf(b,cc.rect(0,0,9,19)))||e("Fail rectUnion");a.push(b);
this.log("Test 5: rectContainsPoint 1");b=cc.rect(0,0,5,10);c=cc.p(1,1);(b=cc.Id(b,c))||e("Fail rectContainsPoint 1");a.push(b);this.log("Test 6: rectContainsPoint 2");b=cc.rect(0,0,5,10);c=cc.p(1,-1);(b=cc.Id(b,c))&&e("Fail rectContainsPoint 2");a.push(b);this.log("Test 7: rect property x");b=cc.rect(1,2,3,4);1!=b.x&&e("Fail rect property x");a.push(b.x);this.log("Test 8: rect property y");b=cc.rect(1,2,3,4);2!=b.y&&e("Fail rect property y");a.push(b.y);this.log("Test 9: rect property width");b=
cc.rect(1,2,3,4);3!=b.width&&e("Fail rect property width");a.push(b.width);this.log("Test 10: rect property height");b=cc.rect(1,2,3,4);4!=b.height&&e("Fail rect property height");a.push(b.height);this.log("Test 11: getBoundingBox()");b=cc.Node.create();b.setContentSize(cc.size(99,101));b=b.getBoundingBox();(101!=b.height||99!=b.width)&&e("Fail getBoundingBox()");a.push(b.height);a.push(b.width);return a},B:0.1,n:function(){return JSON.stringify([g,j,g,g,g,j,1,2,3,4,101,99])},m:function(){var a=this.pb();
return JSON.stringify(a)}}),Al=yl.extend({j:"Dictionary To/From Test",q:"Sends and receives a dictionary to JSB",ctor:function(){this._super();this.pb()},pb:function(){cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/grossini.plist");var a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");var a=a.getAnimation("dance_1").getFrames()[0],b=a.getUserInfo();this.log(JSON.stringify(b));a.setUserInfo({array:[1,2,3,"hello world"],bool0:0,bool1:1,dict:{key1:"value1",
key2:2},number:42,string:"hello!"});b=a.getUserInfo();this.log(JSON.stringify(b));return b},B:0.1,n:function(){var a=this.eg({array:[1,2,3,"hello world"],bool0:0,bool1:1,dict:{key1:"value1",key2:2},number:42,string:"hello!"});return JSON.stringify(a)},m:function(){var a=this.eg(this.pb());return JSON.stringify(a)}}),Ia=w.extend({N:function(){ul=-1;this.addChild(wl());r.replaceScene(this)}}),vl=[zl,Al];function wl(){ul++;ul%=vl.length;return new vl[ul]}
function xl(){ul--;0>ul&&(ul+=vl.length);return new vl[ul]};var Bl=-1,Fl=x.extend({j:"",q:"",ctor:function(){this._super(cc.o(0,0,0,255),cc.o(98,99,117,255))},S:function(){var a=new Ja;a.addChild(new Cl[Bl]);r.replaceScene(a)},Q:function(){var a=new Ja;a.addChild(Dl());r.replaceScene(a)},R:function(){var a=new Ja;a.addChild(El());r.replaceScene(a)},W:function(){return Cl.length-1-Bl},T:function(){return Bl}}),Gl=Fl.extend({j:"LocalStorage Test ",q:"See the console",ctor:function(){this._super();var a="key_"+Math.random(),b=sys.localStorage;cc.log(1);b.setItem(a,
"Hello world");cc.log(2);var c=b.getItem(a);cc.log(c);cc.log(3);b.removeItem(a);cc.log(4);c=b.getItem(a);cc.log(c)}}),Hl=Fl.extend({j:"Capabilities Test ",q:"See the console",ctor:function(){this._super();var a=sys.capabilities,b;for(b in a)cc.log(b+" = "+a[b])}}),Ja=w.extend({N:function(){Bl=-1;this.addChild(Dl());r.replaceScene(this)}}),Cl=[Gl,Hl];function Dl(){Bl++;Bl%=Cl.length;return new Cl[Bl]}function El(){Bl--;0>Bl&&(Bl+=Cl.length);return new Cl[Bl]};var Il=cc.Scene.create(),Jl=new fa;Il.addChild(Jl);r.runWithScene(Il);