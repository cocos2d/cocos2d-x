function e(a){throw a;}var g=!0,h=null,j=!1;function l(){return function(){}}function aa(a){return function(){return this[a]}}function m(a){return function(){return a}}var n,cc=cc||{};cc.Ws=4294967295;cc.ju=1;cc.ku=2;cc.lu=0;cc.ov=1;cc.pv=2;cc.qv=3;cc.rv=0;cc.gj=771;cc.hj=1;cc.Tl=0;cc.Ul=0;cc.Zl=0.1;cc.Jm=0;cc.Km=1;cc.Lm=1;cc.da=0;cc.Mm=1;cc.vn=0;cc.Nn=0;cc.lo=0;cc.mo=0;cc.Eo=0;cc.Fo=2;cc.Go=1;cc.sp=1;cc.qr=16;cc.Us=1;cc.Vs=0;cc.It=0;cc.Jt=1;cc.Yu=1;cc.hi=-1;cc.Rl=6;cc.Sl=7;cc.Ll=4;cc.Ml=5;
cc.Nl=0;cc.Ol=2;cc.Pl=3;cc.Ql=1;cc.Vl=0;cc.Wl=1;cc.Xl=2;cc.Yl=1;cc.sn=1;cc.tn=0;cc.xn=3758096384;cc.yn=536870911;cc.je=0;cc.ke=1;cc.bo=32;cc.no=-1;cc.oo=1;cc.po=2;cc.qo=3;cc.ro=5;cc.so=4;cc.to=0;cc.Ho=168165376;cc.Io=168230912;cc.Jo=168296448;cc.yb=-128;cc.vf=1;cc.wf=0;cc.tp=-1;cc.rc=-1;cc.xf=0;cc.sc=1;cc.td=-1;cc.zb=-1;cc.dr=0;cc.er=2;cc.fr=1;cc.gr=-2147483647;cc.hr=-2147483648;cc.ka=1;cc.Ab=0;cc.le=4294967294;cc.Xr=1;cc.Yr=2;cc.Zr=0;cc.If=536870912;cc.vc=2147483648;cc.gb=1073741824;cc.Da=1;
cc.sa=0;cc.fb=2;cc.wt=3;cc.xt=5;cc.yt=0;cc.zt=4;cc.At=9;cc.Bt=8;cc.Ft=2;cc.Ct=7;cc.Gt=1;cc.Dt=6;cc.Et=0;cc.mu=0;cc.nu=1;cc.Lf=1;cc.Mf=0;cc.Nf=1;cc.Of=0;cc.qu=5;cc.vu=1;cc.tu=2;cc.xu=0;cc.zu=6;cc.Bu=7;cc.Du=4;cc.Fu=3;cc.su=8;cc.Qf=2;cc.ev=0;cc.fv=7;cc.yd=1;cc.Rf=4;cc.pe=1;cc.gv=3;cc.Bb=0;cc.qe=2;cc.zd=2;cc.Ad=1;cc.Sb=0;cc.wq=67108864;cc.xq=67109120;cc.yq=67174400;cc.zq=67239936;cc.Aq=67240192;cc.Bq=67305472;cc.Cq=67305728;cc.Dq=67305984;cc.Eq=67306240;cc.Fq=67306496;cc.Gq=67306752;cc.Hq=83886080;
cc.Iq=83886336;cc.Jq=83951616;cc.Kq=100663296;cc.Ki="CCAnimationFrameDisplayedNotification";cc.oj="chipmunk.h";cc.Zi="a_color";cc.pf="a_position";cc.qf="a_texCoord";cc.Hs="ShaderPositionColor";cc.Is="ShaderPositionLengthTextureColor";cc.Js="ShaderPositionTexture";cc.Ks="ShaderPositionTextureA8Color";cc.Ls="ShaderPositionTextureColor";cc.me="ShaderPositionTextureColorAlphaTest";cc.Ms="ShaderPositionTexture_uColor";cc.Ns="ShaderPosition_uColor";cc.oe="CC_AlphaValue";cc.ru="CC_CosTime";cc.wu="CC_MVMatrix";
cc.uu="CC_MVPMatrix";cc.yu="CC_PMatrix";cc.Au="CC_Random01";cc.Cu="CC_Texture0";cc.Eu="CC_SinTime";cc.Gu="CC_Time";cc=cc||{};cc.$a=0;cc.Qb=1;cc.La=0;cc.au=1;cc.Gf=2;cc.Ef=3;cc.$t=4;cc.Zt=5;cc.Rb=6;cc.Hf=7;cc.Ff=8;cc.Ff=9;cc.ne=cc.La;cc.sa=0;cc.Da=1;cc.fb=2;cc.Sb=0;cc.Ad=1;cc.zd=2;cc.je=0;cc.ke=0;cc.Ab=0;cc.ka=1;cc.ud=0;cc.wd=1;cc.vd=2;cc.rc=-1;cc.xf=0;cc.sc=1;cc.zb=-1;cc.td=-1;cc.Jf=0;cc.Kf=1;cc.vc=2147483648;cc.gb=1073741824;cc.If=536870912;cc.Mf=0;cc.Nf=1;cc.Of=0;cc.Lf=1;cc.xd={r:255,g:0,b:0};cc.tf={r:0,g:255,b:0};cc.sf={r:0,g:0,b:255};cc.fj={r:0,g:0,b:0};cc.kv={r:255,g:255,b:255};cc.Sf={r:255,g:255,b:0};
cc.br={x:0,y:0};cc.le=4294967295;cc.wf=0;cc.vf=1;cc.yb=-128;cc.vl=5;cc.ye=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}];cc._reuse_p_index=0;cc._reuse_size={width:0,height:0};cc._reuse_rect={x:0,y:0,width:0,height:0};cc._reuse_color3b={r:255,g:255,b:255};cc._reuse_color4b={r:255,g:255,b:255,a:255};cc.log=cc.log||log;cc.o=function(a,b,c){return{r:a,g:b,b:c}};cc._c3b=function(a,b,c){cc._reuse_color3b.r=a;cc._reuse_color3b.g=b;cc._reuse_color3b.b=c;return cc._reuse_color3b};
cc.k=function(a,b,c,d){return{r:a,g:b,b:c,a:d}};cc._c4b=function(a,b,c,d){cc._reuse_color4b.r=a;cc._reuse_color4b.g=b;cc._reuse_color4b.b=c;cc._reuse_color4b.a=d;return cc._reuse_color4b};cc.Ev=cc.k;cc._c4=cc._c4b;cc.u=function(a,b,c,d){return{r:a,g:b,b:c,a:d}};cc.p=function(a,b){return{x:a,y:b}};cc._p=function(a,b){cc._reuse_p_index==cc.ye.length&&(cc._reuse_p_index=0);var c=cc.ye[cc._reuse_p_index];cc._reuse_p_index++;c.x=a;c.y=b;return c};cc.Vv=function(a,b){return a.x==b.x&&a.y==b.y};
cc._g=function(a,b){cc.xe.x=a;cc.xe.y=b;return cc.xe};cc.size=function(a,b){return{width:a,height:b}};cc._size=function(a,b){cc._reuse_size.width=a;cc._reuse_size.height=b;return cc._reuse_size};cc.kw=function(a,b){return a.width==b.width&&a.height==b.height};cc.rect=function(a,b,c,d){return{x:a,y:b,width:c,height:d}};cc._rect=function(a,b,c,d){cc._reuse_rect.x=a;cc._reuse_rect.y=b;cc._reuse_rect.width=c;cc._reuse_rect.height=d;return cc._reuse_rect};
cc.cf=function(a,b){return a.x==b.x&&a.y==b.y&&a.width==b.width&&a.height==b.height};cc.Xv=function(a,b){return a.x>=b.x||a.y>=b.y||a.x+a.width<=b.x+b.width||a.y+a.height<=b.y+b.height?j:g};cc.Yv=function(a){return a.x+a.width};cc.$v=function(a){return a.x+a.width/2};cc.bw=function(a){return a.x};cc.Zv=function(a){return a.y+a.height};cc.aw=function(a){return a.y+a.height/2};cc.cw=function(a){return a.y};
cc.$c=function(a,b){var c=j;b.x>=a.x&&(b.x<=a.x+a.width&&b.y>=a.y&&b.y<=a.y+a.height)&&(c=g);return c};cc.df=function(a,b){return!(a.x>b.x+b.width||a.x+a.width<b.x||a.y>b.y+b.height||a.y+a.height<b.y)};cc.wh=function(a,b){var c=cc.rect(0,0,0,0);c.x=Math.min(a.x,b.x);c.y=Math.min(a.y,b.y);c.width=Math.max(a.x+a.width,b.x+b.width)-c.x;c.height=Math.max(a.y+a.height,b.y+b.height)-c.y;return c};
cc.vh=function(a,b){var c=cc.rect(Math.max(a.x,b.x),Math.max(a.y,b.y),0,0);c.width=Math.min(a.x+a.width,b.x+b.width)-c.x;c.height=Math.min(a.y+a.height,b.y+b.height)-c.y;return c};cc.rf=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1};cc.$i=function(a,b){return-1!=cc.rf(a,b)};cc.aj=function(a,b){for(var c=0;c<a.length;c++)a[c]==b&&a.splice(c,1)};cc.Ic=function(a){for(var b in a)cc.log(b+" = "+a[b])};var sys=sys||void 0;cc.Iv=function(){sys&&(cc.Ic(sys),cc.Ic(sys.capabilities))};
cc.MenuItemToggle.create=function(){var a=arguments.length;if("function"===typeof arguments[a-2]||"function"===typeof arguments[a-1]){var b=Array.prototype.slice.call(arguments),c=h;"function"===typeof arguments[a-2]&&(c=b.pop());a=b.pop();b=cc.MenuItemToggle._create.apply(this,b);c!==h?b.setCallback(a,c):b.setCallback(a);return b}return cc.MenuItemToggle._create.apply(this,arguments)};
cc.LabelAtlas.create=function(a,b,c,d,f){return 5==arguments.length?cc.LabelAtlas._create(a,b,c,d,f.charCodeAt(0)):cc.LabelAtlas._create.apply(this,arguments)};cc.LayerMultiplex.create=cc.LayerMultiplex.createWithArray;cc.associateWithNative=function(a,b){try{var c=new b;__associateObjWithNative(a,c)}catch(d){__associateObjWithNative(a,b)}};cc.inherits=function(a,b){function c(){}c.prototype=b.prototype;a.gd=b.prototype;a.prototype=new c;a.prototype.constructor=a};
cc.base=function(a,b,c){var d=arguments.callee.caller;if(d.gd)return ret=d.gd.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var f=Array.prototype.slice.call(arguments,2),i=j,k=a.constructor;k;k=k.gd&&k.gd.constructor)if(k.prototype[b]===d)i=g;else if(i)return k.prototype[b].apply(a,f);if(a[b]===d)return a.constructor.prototype[b].apply(a,f);e(Error("cc.base called from a method of one name to a method of a different name"))};cc.Class=l();
cc.Class.extend=function(a){function b(){!initializing&&this.ctor&&this.ctor.apply(this,arguments)}var c=this.prototype;initializing=g;var d=new this;initializing=j;fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;for(var f in a)d[f]="function"==typeof a[f]&&"function"==typeof c[f]&&fnTest.test(a[f])?function(a,b){return function(){var d=this._super;this._super=c[a];var f=b.apply(this,arguments);this._super=d;return f}}(f,a[f]):a[f];b.prototype=d;b.prototype.constructor=b;b.extend=arguments.callee;
return b};cc.Node.prototype.ctor=l();cc.GLNode.extend=cc.Class.extend;cc.Node.extend=cc.Class.extend;cc.Layer.extend=cc.Class.extend;cc.LayerGradient.extend=cc.Class.extend;cc.LayerColor.extend=cc.Class.extend;cc.Sprite.extend=cc.Class.extend;cc.MenuItemFont.extend=cc.Class.extend;cc.Scene.extend=cc.Class.extend;cc.DrawNode.extend=cc.Class.extend;cc.sd=cc.Class.extend({wg:function(a,b,c){b&&(this.Xf=b,this.Ba=c);this.Xf.call(this.Ba)}});
cc.sd.uh=function(a,b,c){this.se||(this.se=new cc.sd);this.se.wg(a,b,c)};cc=cc||{};cc.xs=-1;cc.Bf=0;cc.Cf=1;cc.ws=2;cc.Df=0;cc.vt=1;cc.co=0;cc.eo=1;cc.io=2;cc.ho=3;cc.fo=4;cc.Cm=0;cc.Em=1;cc.Fm=2;cc.Gm=3;cc.Im=4;cc.Dm=5;cc.Hm=6;cc.Am=0;cc.Bm=1;cc.zm=2;cc.ym=3;cc.xm=4;cc.PhysicsDebugNode.create=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return cc.PhysicsDebugNode._create(b)};cc.PhysicsDebugNode.prototype.setSpace=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return this._setSpace(b)};
cc.PhysicsSprite.prototype.setBody=function(a){var b=a;void 0!==a.handle&&(b=a.handle);return this._setCPBody(b)};cc.ScrollView.extend=cc.Class.extend;cc.TableView.extend=cc.Class.extend;cc.TableViewCell.extend=cc.Class.extend;var cp=cp||{};cp.li=1;cp.ALL_LAYERS=4294967295;cp.kj=32768;cp.pj=0;cp.Qn=3344921057;cp.Uo=4;cp.NO_GROUP=0;cp.yp=3;cp.cr=2;cp.ys=1;cp.Wu=1;cp.Xu=0;cp.Zu=6;cp.$u=1;cp.av=1;cp=cp||{};cp.v=cc.p;cp._v=cc._p;cp.vzero=cp.v(0,0);cp.v.add=cp.vadd;cp.v.clamp=cp.vclamp;cp.v.cross=cp.vcross;cp.v.dist=cp.vdist;cp.v.distsq=cp.vdistsq;cp.v.dot=cp.vdot;cp.v.eql=cp.veql;cp.v.forangle=cp.vforangle;cp.v.len=cp.vlength;cp.v.lengthsq=cp.vlengthsq;cp.v.lerp=cp.vlerp;cp.v.lerpconst=cp.vlerpconst;cp.v.mult=cp.vmult;cp.v.near=cp.vnear;cp.v.neg=cp.vneg;cp.v.normalize=cp.vnormalize;cp.v.normalize_safe=cp.vnormalize_safe;cp.v.perp=cp.vperp;cp.v.project=cp.vproject;cp.v.rotate=cp.vrotate;
cp.v.hw=cp.vrperp;cp.v.slerp=cp.vslerp;cp.v.slerpconst=cp.vslerpconst;cp.v.sub=cp.vsub;cp.v.toangle=cp.vtoangle;cp.v.unrotate=cp.vunrotate;cp.clamp01=cp.fclamp01;cp.BoxShape2=function(a,b){return new cp.PolyShape(a,[b.l,b.b,b.l,b.t,b.r,b.t,b.r,b.b],cp.vzero)};cp.BoxShape=function(a,b,c){b/=2;c/=2;return cp.BoxShape2(a,new cp.BB(-b,-c,b,c))};cp.StaticBody=function(){return new cp.Body(Infinity,Infinity)};cp.BB=function(a,b,c,d){return{l:a,b:b,r:c,t:d}};
cp.bb=function(a,b,c,d){return new cp.BB(a,b,c,d)};Object.defineProperties(cp.Base.prototype,{handle:{get:function(){return this.getHandle()},enumerable:g,configurable:g}});
Object.defineProperties(cp.Space.prototype,{gravity:{get:function(){return this.getGravity()},set:function(a){this.setGravity(a)},enumerable:g,configurable:g},iterations:{get:function(){return this.getIterations()},set:function(a){this.setIterations(a)},enumerable:g,configurable:g},damping:{get:function(){return this.getDamping()},set:function(a){this.setDamping(a)},enumerable:g,configurable:g},staticBody:{get:function(){return this.getStaticBody()},enumerable:g,configurable:g},idleSpeedThreshold:{get:function(){return this.getIdleSpeedThreshold()},
set:function(a){this.setIdleSpeedThreshold(a)},enumerable:g,configurable:g},sleepTimeThreshold:{get:function(){return this.getSleepTimeThreshold()},set:function(a){this.setSleepTimeThreshold(a)},enumerable:g,configurable:g},collisionSlop:{get:function(){return this.getCollisionSlop()},set:function(a){this.setCollisionSlop(a)},enumerable:g,configurable:g},collisionBias:{get:function(){return this.getCollisionBias()},set:function(a){this.setCollisionBias(a)},enumerable:g,configurable:g},collisionPersistence:{get:function(){return this.getCollisionPersistence()},
set:function(a){this.setCollisionPersistence(a)},enumerable:g,configurable:g},enableContactGraph:{get:function(){return this.getEnableContactGraph()},set:function(a){this.setEnableContactGraph(a)},enumerable:g,configurable:g}});
Object.defineProperties(cp.Body.prototype,{a:{get:function(){return this.getAngle()},set:function(a){this.setAngle(a)},enumerable:g,configurable:g},w:{get:function(){return this.getAngVel()},set:function(a){this.setAngVel(a)},enumerable:g,configurable:g},p:{get:function(){return this.getPos()},set:function(a){this.setPos(a)},enumerable:g,configurable:g},v:{get:function(){return this.getVel()},set:function(a){this.setVel(a)},enumerable:g,configurable:g},i:{get:function(){return this.getMoment()},set:function(a){this.setMoment(a)},
enumerable:g,configurable:g}});Object.defineProperties(cp.Shape.prototype,{body:{get:function(){return this.getBody()},set:function(a){this.setBody(a)},enumerable:g,configurable:g},group:{get:function(){return this.getGroup()},set:function(a){this.setGroup(a)},enumerable:g,configurable:g},collision_type:{get:function(){return this.getCollisionType()},enumerable:g,configurable:g}});
Object.defineProperties(cp.Constraint.prototype,{maxForce:{get:function(){return this.getMaxForce()},set:function(a){this.setMaxForce(a)},enumerable:g,configurable:g}});Object.defineProperties(cp.PinJoint.prototype,{anchr1:{get:function(){return this.getAnchr1()},set:function(a){this.setAnchr1(a)},enumerable:g,configurable:g},anchr2:{get:function(){return this.getAnchr2()},set:function(a){this.setAnchr2(a)},enumerable:g,configurable:g}});var gl=gl||{};gl.Mn=37472;gl.sv=34810;gl.tv=34809;gl.ACTIVE_ATTRIBUTES=35721;gl.ii=35722;gl.ji=33369;gl.ACTIVE_TEXTURE=34016;gl.ACTIVE_UNIFORMS=35718;gl.ki=35719;gl.ALIASED_LINE_WIDTH_RANGE=33902;gl.ALIASED_POINT_SIZE_RANGE=33901;gl.mi=34034;gl.ni=4294967295;gl.ALPHA=6406;gl.oi=34844;gl.pi=34838;gl.qi=32828;gl.ri=32828;gl.ALPHA_BITS=3413;gl.si=3009;gl.ti=3008;gl.ui=3010;gl.vi=37146;gl.ALWAYS=519;gl.wi=1;gl.xi=1;gl.yi=1;gl.zi=1;gl.Ai=1;gl.Bi=1;gl.Ci=1;gl.Di=1;gl.Ei=1;gl.Fi=1;gl.Gi=1;gl.Hi=1;
gl.Ii=1;gl.Ji=1;gl.Li=36202;gl.Mi=35887;gl.Ni=1;gl.Oi=1;gl.Pi=1;gl.Qi=1;gl.Ri=1;gl.Si=1;gl.Ti=1;gl.Ui=1;gl.Vi=1;gl.ARRAY_BUFFER=34962;gl.ARRAY_BUFFER_BINDING=34964;gl.Wi=35987;gl.Xi=34798;gl.Yi=35986;gl.ATTACHED_SHADERS=35717;gl.BACK=1029;gl.bj=37793;gl.cj=32993;gl.dj=32993;gl.ej=36784;gl.BLEND=3042;gl.BLEND_COLOR=32773;gl.BLEND_DST_ALPHA=32970;gl.BLEND_DST_RGB=32968;gl.BLEND_EQUATION=32777;gl.BLEND_EQUATION_ALPHA=34877;gl.BLEND_EQUATION_RGB=32777;gl.BLEND_SRC_ALPHA=32971;gl.BLEND_SRC_RGB=32969;
gl.BLUE_BITS=3412;gl.BOOL=35670;gl.BOOL_VEC2=35671;gl.BOOL_VEC3=35672;gl.BOOL_VEC4=35673;gl.ij=33504;gl.jj=35003;gl.lj=35004;gl.mj=35005;gl.nj=37201;gl.BUFFER_SIZE=34660;gl.BUFFER_USAGE=34661;gl.BYTE=5120;gl.CCW=2305;gl.qj=33069;gl.CLAMP_TO_EDGE=33071;gl.COLOR_ATTACHMENT0=36064;gl.rj=36064;gl.sj=36074;gl.tj=36075;gl.uj=36076;gl.vj=36077;gl.wj=36078;gl.xj=36079;gl.yj=36065;gl.zj=36066;gl.Aj=36067;gl.Bj=36068;gl.Cj=36069;gl.Dj=36070;gl.Ej=36071;gl.Fj=36072;gl.Gj=36073;gl.Hj=37104;
gl.COLOR_BUFFER_BIT=16384;gl.Ij=1;gl.Jj=2;gl.Kj=4;gl.Lj=8;gl.Mj=16;gl.Nj=32;gl.Oj=64;gl.Pj=128;gl.COLOR_CLEAR_VALUE=3106;gl.Qj=6144;gl.COLOR_WRITEMASK=3107;gl.Rj=34894;gl.COMPILE_STATUS=35713;gl.Sj=37819;gl.Tj=37816;gl.Uj=37817;gl.Vj=37818;gl.Wj=37820;gl.Xj=37821;gl.Yj=37808;gl.Zj=37809;gl.$j=37810;gl.ak=37811;gl.bk=37812;gl.ck=37813;gl.dk=37814;gl.ek=37815;gl.fk=35843;gl.gk=37175;gl.hk=35842;gl.ik=37176;gl.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777;gl.jk=33778;gl.kk=33779;gl.lk=35841;gl.mk=35840;
gl.COMPRESSED_RGB_S3TC_DXT1_EXT=33776;gl.nk=37851;gl.ok=37848;gl.pk=37849;gl.qk=37850;gl.rk=37852;gl.sk=37853;gl.tk=37840;gl.uk=37841;gl.vk=37842;gl.wk=37843;gl.xk=37844;gl.yk=37845;gl.zk=37846;gl.Ak=37847;gl.Bk=35917;gl.Ck=35918;gl.Dk=35919;gl.Ek=35916;gl.COMPRESSED_TEXTURE_FORMATS=34467;gl.Fk=37148;gl.CONSTANT_ALPHA=32771;gl.CONSTANT_COLOR=32769;gl.Gk=2;gl.Hk=37107;gl.Ik=35777;gl.Jk=35776;gl.Kk=36565;gl.Lk=36562;gl.Mk=36567;gl.Nk=36563;gl.Ok=32768;gl.Pk=36561;gl.Qk=36560;gl.Rk=36566;gl.Sk=36564;
gl.Tk=36785;gl.CULL_FACE=2884;gl.CULL_FACE_MODE=2885;gl.CURRENT_PROGRAM=35725;gl.Uk=34917;gl.CURRENT_VERTEX_ATTRIB=34342;gl.CW=2304;gl.Vk=33348;gl.Wk=33349;gl.Xk=33389;gl.Yk=37189;gl.Zk=33347;gl.$k=37600;gl.al=33346;gl.bl=37190;gl.cl=37192;gl.dl=37191;gl.el=33387;gl.fl=33350;gl.hl=33354;gl.il=33355;gl.jl=33352;gl.kl=33353;gl.ll=33351;gl.ml=33357;gl.nl=33356;gl.ol=33384;gl.pl=33361;gl.ql=33360;gl.rl=33386;gl.sl=33359;gl.tl=33385;gl.ul=33358;gl.DECR=7683;gl.DECR_WRAP=34056;gl.DELETE_STATUS=35712;
gl.wl=35056;gl.DEPTH_ATTACHMENT=36096;gl.DEPTH_BITS=3414;gl.DEPTH_BUFFER_BIT=256;gl.xl=256;gl.yl=512;gl.zl=1024;gl.Al=2048;gl.Bl=4096;gl.Cl=8192;gl.Dl=16384;gl.El=32768;gl.DEPTH_CLEAR_VALUE=2931;gl.DEPTH_COMPONENT=6402;gl.DEPTH_COMPONENT16=33189;gl.Fl=36396;gl.Gl=33189;gl.Hl=33190;gl.Il=33191;gl.Jl=6145;gl.DEPTH_FUNC=2932;gl.DEPTH_RANGE=2928;gl.Kl=34041;gl.DEPTH_TEST=2929;gl.DEPTH_WRITEMASK=2930;gl.DITHER=3024;gl.$l=1;gl.DONT_CARE=4352;gl.am=34853;gl.bm=34863;gl.cm=34864;gl.dm=34865;gl.em=34866;
gl.fm=34867;gl.gm=34868;gl.hm=34854;gl.im=34855;gl.jm=34856;gl.km=34857;gl.lm=34858;gl.mm=34859;gl.nm=34860;gl.om=34861;gl.pm=34862;gl.qm=3073;gl.rm=36009;gl.sm=36009;gl.tm=36006;gl.um=36006;gl.vm=36006;gl.wm=36009;gl.DST_ALPHA=772;gl.DST_COLOR=774;gl.DYNAMIC_DRAW=35048;gl.ELEMENT_ARRAY_BUFFER=34963;gl.ELEMENT_ARRAY_BUFFER_BINDING=34965;gl.EQUAL=514;gl.Nm=1;gl.Om=36196;gl.Pm=35054;gl.Qm=7939;gl.Rm=1;gl.Sm=1;gl.Tm=1;gl.Um=1;gl.Vm=1;gl.Wm=1;gl.Xm=1;gl.Ym=1;gl.Zm=1;gl.$m=1;gl.an=1;gl.bn=1;gl.cn=1;
gl.dn=1;gl.en=1;gl.fn=1;gl.gn=1;gl.hn=1;gl.jn=1;gl.kn=1;gl.ln=1;gl.mn=1;gl.nn=1;gl.on=1;gl.pn=0;gl.FASTEST=4353;gl.qn=34036;gl.rn=34035;gl.un=5132;gl.wn=1;gl.FLOAT=5126;gl.FLOAT_MAT2=35674;gl.FLOAT_MAT3=35675;gl.FLOAT_MAT4=35676;gl.FLOAT_VEC2=35664;gl.FLOAT_VEC3=35665;gl.FLOAT_VEC4=35666;gl.FRAGMENT_SHADER=35632;gl.zn=2;gl.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723;gl.An=35410;gl.FRAMEBUFFER=36160;gl.Bn=37795;gl.Cn=33296;gl.Dn=33297;gl.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049;
gl.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048;gl.En=36052;gl.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051;gl.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050;gl.Fn=36204;gl.FRAMEBUFFER_BINDING=36006;gl.FRAMEBUFFER_COMPLETE=36053;gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054;gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057;gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055;gl.Gn=36182;gl.Hn=36182;gl.In=36182;gl.Jn=37172;gl.Kn=36182;gl.Ln=33305;gl.FRAMEBUFFER_UNSUPPORTED=36061;gl.FRONT=1028;
gl.FRONT_AND_BACK=1032;gl.FRONT_FACE=2886;gl.FUNC_ADD=32774;gl.FUNC_REVERSE_SUBTRACT=32779;gl.FUNC_SUBTRACT=32778;gl.GENERATE_MIPMAP_HINT=33170;gl.GEQUAL=518;gl.On=36786;gl.GREATER=516;gl.GREEN_BITS=3411;gl.Pn=33363;gl.HALF_FLOAT_OES=36193;gl.HIGH_FLOAT=36338;gl.HIGH_INT=36341;gl.Rn=1;gl.Sn=1;gl.Tn=1;gl.Un=1;gl.Vn=1;gl.Wn=1;gl.Xn=35739;gl.Yn=35738;gl.INCR=7682;gl.INCR_WRAP=34055;gl.Zn=35716;gl.$n=33364;gl.INT=5124;gl.ao=36343;gl.INT_VEC2=35667;gl.INT_VEC3=35668;gl.INT_VEC4=35669;gl.INVALID_ENUM=1280;
gl.INVALID_FRAMEBUFFER_OPERATION=1286;gl.INVALID_OPERATION=1282;gl.INVALID_VALUE=1281;gl.INVERT=5386;gl.KEEP=7680;gl.jo=1;gl.ko=1;gl.LEQUAL=515;gl.LESS=513;gl.LINEAR=9729;gl.LINEAR_MIPMAP_LINEAR=9987;gl.LINEAR_MIPMAP_NEAREST=9985;gl.LINES=1;gl.LINE_LOOP=2;gl.LINE_STRIP=3;gl.LINE_WIDTH=2849;gl.LINK_STATUS=35714;gl.uo=33362;gl.LOW_FLOAT=36336;gl.LOW_INT=36339;gl.LUMINANCE=6409;gl.vo=34846;gl.wo=34840;gl.xo=32835;gl.yo=32837;gl.zo=32837;gl.Ao=32832;gl.Bo=32832;gl.LUMINANCE_ALPHA=6410;gl.Co=34847;
gl.Do=34841;gl.Ko=36705;gl.Lo=36704;gl.Mo=16;gl.No=8;gl.Oo=4;gl.Po=1;gl.Qo=32;gl.Ro=2;gl.So=32883;gl.To=36063;gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661;gl.MAX_CUBE_MAP_TEXTURE_SIZE=34076;gl.Vo=33388;gl.Wo=37188;gl.Xo=37187;gl.Yo=34852;gl.Zo=32776;gl.MAX_FRAGMENT_UNIFORM_VECTORS=36349;gl.$o=33512;gl.ap=37106;gl.MAX_RENDERBUFFER_SIZE=34024;gl.bp=36183;gl.dp=36183;gl.ep=36183;gl.fp=37173;gl.gp=36183;gl.hp=37137;gl.MAX_TEXTURE_IMAGE_UNITS=34930;gl.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047;
gl.MAX_TEXTURE_SIZE=3379;gl.MAX_VARYING_VECTORS=36348;gl.MAX_VERTEX_ATTRIBS=34921;gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660;gl.MAX_VERTEX_UNIFORM_VECTORS=36347;gl.MAX_VIEWPORT_DIMS=3386;gl.MEDIUM_FLOAT=36337;gl.MEDIUM_INT=36340;gl.ip=32775;gl.MIRRORED_REPEAT=33648;gl.jp=16777216;gl.kp=33554432;gl.lp=67108864;gl.mp=134217728;gl.np=268435456;gl.op=536870912;gl.pp=1073741824;gl.qp=2147483648;gl.rp=37105;gl.NEAREST=9728;gl.NEAREST_MIPMAP_LINEAR=9986;gl.NEAREST_MIPMAP_NEAREST=9984;gl.NEVER=512;
gl.NICEST=4354;gl.NONE=0;gl.NOTEQUAL=517;gl.NO_ERROR=0;gl.up=33377;gl.vp=34466;gl.wp=34814;gl.xp=36345;gl.zp=1;gl.Ap=1;gl.Bp=1;gl.Cp=1;gl.Dp=1;gl.Ep=1;gl.Fp=1;gl.Gp=1;gl.Hp=1;gl.Ip=1;gl.Jp=1;gl.Kp=1;gl.Lp=1;gl.Mp=1;gl.Np=1;gl.Op=1;gl.Pp=1;gl.Qp=1;gl.Rp=1;gl.Sp=1;gl.Tp=1;gl.Up=37138;gl.Vp=1;gl.Wp=1;gl.Xp=1;gl.Yp=1;gl.Zp=1;gl.$p=1;gl.aq=1;gl.bq=1;gl.cq=1;gl.dq=1;gl.eq=1;gl.fq=1;gl.gq=1;gl.hq=1;gl.iq=1;gl.jq=1;gl.kq=1;gl.lq=1;gl.mq=1;gl.nq=1;gl.oq=1;gl.pq=1;gl.qq=1;gl.rq=1;gl.sq=1;gl.tq=1;gl.uq=1;
gl.vq=1;gl.ONE=1;gl.ONE_MINUS_CONSTANT_ALPHA=32772;gl.ONE_MINUS_CONSTANT_COLOR=32770;gl.ONE_MINUS_DST_ALPHA=773;gl.ONE_MINUS_DST_COLOR=775;gl.ONE_MINUS_SRC_ALPHA=771;gl.ONE_MINUS_SRC_COLOR=769;gl.OUT_OF_MEMORY=1285;gl.PACK_ALIGNMENT=3333;gl.Lq=37796;gl.Mq=35730;gl.Nq=35732;gl.Oq=35728;gl.Pq=35731;gl.Qq=35729;gl.Rq=35735;gl.Sq=35737;gl.Tq=35733;gl.Uq=35736;gl.Vq=35734;gl.Xq=35779;gl.Yq=36768;gl.Zq=35782;gl.$q=35780;gl.ar=35781;gl.POINTS=0;gl.POLYGON_OFFSET_FACTOR=32824;gl.POLYGON_OFFSET_FILL=32823;
gl.POLYGON_OFFSET_UNITS=10752;gl.ir=33506;gl.jr=37798;gl.kr=34815;gl.lr=34625;gl.mr=35648;gl.nr=33370;gl.or=35407;gl.pr=33368;gl.rr=1;gl.sr=1;gl.tr=1;gl.ur=1;gl.vr=1;gl.wr=1;gl.xr=1;gl.yr=1;gl.zr=33507;gl.Ar=37203;gl.Br=34919;gl.Cr=34918;gl.Dr=33325;gl.Er=33326;gl.Fr=33321;gl.Gr=3074;gl.Hr=3074;gl.Ir=36008;gl.Jr=36008;gl.Kr=36010;gl.Lr=36010;gl.Mr=36010;gl.Nr=36008;gl.RED_BITS=3410;gl.Or=6403;gl.RENDERBUFFER=36161;gl.RENDERBUFFER_ALPHA_SIZE=36179;gl.RENDERBUFFER_BINDING=36007;
gl.RENDERBUFFER_BLUE_SIZE=36178;gl.RENDERBUFFER_DEPTH_SIZE=36180;gl.RENDERBUFFER_GREEN_SIZE=36177;gl.RENDERBUFFER_HEIGHT=36163;gl.RENDERBUFFER_INTERNAL_FORMAT=36164;gl.RENDERBUFFER_RED_SIZE=36176;gl.Pr=36011;gl.Qr=36011;gl.Rr=36011;gl.Sr=37171;gl.Tr=36011;gl.RENDERBUFFER_STENCIL_SIZE=36181;gl.RENDERBUFFER_WIDTH=36162;gl.RENDERER=7937;gl.Ur=36787;gl.REPEAT=10497;gl.REPLACE=7681;gl.Vr=36200;gl.Wr=33366;gl.$r=33327;gl.as=33328;gl.bs=33323;gl.RGB=6407;gl.cs=32857;gl.ds=32850;gl.es=34843;gl.fs=34837;
gl.RGB565=36194;gl.gs=36194;gl.RGB5_A1=32855;gl.hs=32855;gl.is=32849;gl.RGBA=6408;gl.js=34842;gl.ks=34836;gl.RGBA4=32854;gl.ls=32854;gl.ms=32856;gl.ns=35359;gl.ps=33319;gl.qs=33510;gl.SAMPLER_2D=35678;gl.rs=36292;gl.ss=35682;gl.ts=35679;gl.SAMPLER_CUBE=35680;gl.us=36293;gl.vs=36198;gl.SAMPLES=32937;gl.SAMPLE_ALPHA_TO_COVERAGE=32926;gl.SAMPLE_BUFFERS=32936;gl.SAMPLE_COVERAGE=32928;gl.SAMPLE_COVERAGE_INVERT=32939;gl.SAMPLE_COVERAGE_VALUE=32938;gl.SCISSOR_BOX=3088;gl.SCISSOR_TEST=3089;gl.zs=35850;
gl.As=37168;gl.Bs=33505;gl.Cs=37456;gl.Ds=36344;gl.Es=36804;gl.Fs=36346;gl.Gs=35656;gl.Os=35720;gl.SHADER_TYPE=35663;gl.SHADING_LANGUAGE_VERSION=35724;gl.SHORT=5122;gl.Ps=37145;gl.Qs=35909;gl.Rs=35911;gl.Ss=35908;gl.Ts=35910;gl.SRC_ALPHA=770;gl.SRC_ALPHA_SATURATE=776;gl.SRC_COLOR=768;gl.Xs=35907;gl.Ys=35905;gl.Zs=35906;gl.$s=35904;gl.at=1283;gl.bt=1284;gl.ct=35804;gl.STATIC_DRAW=35044;gl.STENCIL_ATTACHMENT=36128;gl.STENCIL_BACK_FAIL=34817;gl.STENCIL_BACK_FUNC=34816;
gl.STENCIL_BACK_PASS_DEPTH_FAIL=34818;gl.STENCIL_BACK_PASS_DEPTH_PASS=34819;gl.STENCIL_BACK_REF=36003;gl.STENCIL_BACK_VALUE_MASK=36004;gl.STENCIL_BACK_WRITEMASK=36005;gl.STENCIL_BITS=3415;gl.STENCIL_BUFFER_BIT=1024;gl.dt=65536;gl.et=131072;gl.ft=262144;gl.gt=524288;gl.ht=1048576;gl.it=2097152;gl.jt=4194304;gl.kt=8388608;gl.STENCIL_CLEAR_VALUE=2961;gl.lt=6146;gl.STENCIL_FAIL=2964;gl.STENCIL_FUNC=2962;gl.mt=36166;gl.nt=36167;gl.STENCIL_INDEX8=36168;gl.STENCIL_PASS_DEPTH_FAIL=2965;
gl.STENCIL_PASS_DEPTH_PASS=2966;gl.STENCIL_REF=2967;gl.STENCIL_TEST=2960;gl.STENCIL_VALUE_MASK=2963;gl.STENCIL_WRITEMASK=2968;gl.STREAM_DRAW=35040;gl.SUBPIXEL_BITS=3408;gl.ot=37139;gl.pt=37142;gl.qt=37141;gl.rt=1;gl.st=37143;gl.tt=35411;gl.ut=37140;gl.TEXTURE=5890;gl.TEXTURE0=33984;gl.TEXTURE1=33985;gl.TEXTURE10=33994;gl.TEXTURE11=33995;gl.TEXTURE12=33996;gl.TEXTURE13=33997;gl.TEXTURE14=33998;gl.TEXTURE15=33999;gl.TEXTURE16=34E3;gl.TEXTURE17=34001;gl.TEXTURE18=34002;gl.TEXTURE19=34003;
gl.TEXTURE2=33986;gl.TEXTURE20=34004;gl.TEXTURE21=34005;gl.TEXTURE22=34006;gl.TEXTURE23=34007;gl.TEXTURE24=34008;gl.TEXTURE25=34009;gl.TEXTURE26=34010;gl.TEXTURE27=34011;gl.TEXTURE28=34012;gl.TEXTURE29=34013;gl.TEXTURE3=33987;gl.TEXTURE30=34014;gl.TEXTURE31=34015;gl.TEXTURE4=33988;gl.TEXTURE5=33989;gl.TEXTURE6=33990;gl.TEXTURE7=33991;gl.TEXTURE8=33992;gl.TEXTURE9=33993;gl.TEXTURE_2D=3553;gl.Ht=32879;gl.TEXTURE_BINDING_2D=32873;gl.Kt=32874;gl.TEXTURE_BINDING_CUBE_MAP=34068;gl.Lt=36199;gl.Mt=4100;
gl.Nt=34893;gl.Ot=34892;gl.TEXTURE_CUBE_MAP=34067;gl.TEXTURE_CUBE_MAP_NEGATIVE_X=34070;gl.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072;gl.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074;gl.TEXTURE_CUBE_MAP_POSITIVE_X=34069;gl.TEXTURE_CUBE_MAP_POSITIVE_Y=34071;gl.TEXTURE_CUBE_MAP_POSITIVE_Z=34073;gl.Pt=35796;gl.Qt=36197;gl.Rt=35798;gl.St=35795;gl.Tt=35800;gl.Ut=37167;gl.Vt=35797;gl.TEXTURE_MAG_FILTER=10240;gl.TEXTURE_MAX_ANISOTROPY_EXT=34046;gl.Wt=33085;gl.TEXTURE_MIN_FILTER=10241;gl.Xt=35801;gl.Yt=35803;gl.bu=37174;
gl.cu=35802;gl.du=35799;gl.eu=37794;gl.fu=35794;gl.gu=32882;gl.TEXTURE_WRAP_S=10242;gl.TEXTURE_WRAP_T=10243;gl.hu=37147;gl.iu=1.8446744073709552E19;gl.ou=37792;gl.TRIANGLES=4;gl.TRIANGLE_FAN=6;gl.TRIANGLE_STRIP=5;gl.pu=1;gl.Hu=33365;gl.UNPACK_ALIGNMENT=3317;gl.Iu=3314;gl.Ju=3316;gl.Ku=3315;gl.Lu=37144;gl.UNSIGNED_BYTE=5121;gl.UNSIGNED_INT=5125;gl.Mu=35778;gl.Nu=36342;gl.Ou=34042;gl.Pu=33640;gl.Qu=35863;gl.UNSIGNED_SHORT=5123;gl.Ru=33638;gl.UNSIGNED_SHORT_4_4_4_4=32819;gl.Su=33637;gl.Tu=33637;
gl.UNSIGNED_SHORT_5_5_5_1=32820;gl.UNSIGNED_SHORT_5_6_5=33635;gl.Uu=34234;gl.Vu=34235;gl.VALIDATE_STATUS=35715;gl.VENDOR=7936;gl.VERSION=7938;gl.VERTEX_ARRAY_BINDING_OES=34229;gl.bv=37204;gl.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975;gl.cv=35070;gl.dv=35070;gl.VERTEX_ATTRIB_ARRAY_ENABLED=34338;gl.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922;gl.VERTEX_ATTRIB_ARRAY_POINTER=34373;gl.VERTEX_ATTRIB_ARRAY_SIZE=34339;gl.VERTEX_ATTRIB_ARRAY_STRIDE=34340;gl.VERTEX_ATTRIB_ARRAY_TYPE=34341;gl.VERTEX_SHADER=35633;
gl.hv=1;gl.VIEWPORT=2978;gl.iv=1;gl.jv=37149;gl.lv=34851;gl.mv=35001;gl.nv=34624;gl.ZERO=0;gl=gl||{};gl.createTexture=function(){return{nf:gl._createTexture()}};gl.createBuffer=function(){return{Fc:gl._createBuffer()}};gl.createRenderbuffer=function(){return{dw:gl.wv()}};gl.createFramebuffer=function(){return{qg:gl._createFramebuffer()}};gl.createProgram=function(){return{ya:gl._createProgram()}};gl.createShader=function(a){return{Pb:gl._createShader(a)}};gl.deleteTexture=function(a){var b=a.nf;"number"===typeof a&&(b=a);gl._deleteTexture(b)};
gl.deleteBuffer=function(){var a=buffer.Fc;"number"===typeof buffer&&(a=buffer);gl._deleteBuffer(a)};gl.deleteRenderbuffer=function(){gl._deleteRenderbuffer(renderbuffer_id)};gl.deleteFramebuffer=function(){var a=buffer.qg;"number"===typeof buffer&&(a=buffer);gl._deleteFramebuffer(a)};gl.deleteProgram=function(a){var b=a.ya;"number"===typeof a&&(b=a);gl._deleteProgram(b)};gl.deleteShader=function(a){var b=a.Pb;"number"===typeof a&&(b=a);gl._deleteShader(b)};
gl.bindTexture=function(a,b){gl._bindTexture(a,"number"===typeof b?b:b===h?0:b.nf)};gl.bindBuffer=function(a,b){gl._bindBuffer(a,"number"===typeof b?b:b===h?0:b.Fc)};gl.Cv=function(a,b){gl._bindRenderbuffer(a,"number"===typeof b?b:b===h?0:b.Fc)};gl.bindFramebuffer=function(a,b){gl._bindFramebuffer(a,"number"===typeof b?b:b===h?0:b.Fc)};gl.getUniform=function(a,b){return gl._getUniform("number"===typeof a?a:a.ya,"number"===typeof b?b:b.Sv)};gl.compileShader=function(a){gl._compileShader(a.Pb)};
gl.shaderSource=function(a,b){gl._shaderSource(a.Pb,b)};gl.getShaderParameter=function(a,b){return gl._getShaderParameter(a.Pb,b)};gl.getShaderInfoLog=function(a){return gl._getShaderInfoLog(a.Pb)};gl.attachShader=function(a,b){var c=a.ya;"number"===typeof a&&(c=a);gl._attachShader(c,b.Pb)};gl.linkProgram=function(a){var b=a.ya;"number"===typeof a&&(b=a);gl._linkProgram(b)};gl.getProgramParameter=function(a,b){var c=a.ya;"number"===typeof a&&(c=a);return gl._getProgramParameter(c,b)};
gl.useProgram=function(a){gl._useProgram("number"===typeof a?a:a.ya)};gl.getAttribLocation=function(a,b){var c=a.ya;"number"===typeof a&&(c=a);return gl._getAttribLocation(c,b)};gl.getUniformLocation=function(a,b){var c=a.ya;"number"===typeof a&&(c=a);return gl._getUniformLocation(c,b)};gl.getActiveAttrib=function(a,b){var c=a.ya;"number"===typeof a&&(c=a);return gl._getActiveAttrib(c,b)};gl.getActiveUniform=function(a,b){var c=a.ya;"number"===typeof a&&(c=a);return gl._getActiveUniform(c,b)};
gl.getAttachedShaders=function(a){var b=a.ya;"number"===typeof a&&(b=a);return gl._getAttachedShaders(b)};gl.texImage2D=function(){9!=arguments.length&&e("texImage2D: Unsupported number of parameters:"+arguments.length);gl._texImage2D.apply(this,arguments)};gl.texSubImage2D=function(){9!=arguments.length&&e("texImage2D: Unsupported number of parameters");gl._texSubImage2D.apply(this,arguments)};gl.getExtension=function(a){return-1<gl.getSupportedExtensions().indexOf(a)?{}:h};cc.BuilderReader=cc.BuilderReader||{};cc.BuilderReader.we="";var ba=this;cc.BuilderReader.setResourcePath=function(a){cc.BuilderReader.we=a};
cc.BuilderReader.load=function(a,b,c){var d=cc.uv.create();d.setCCBRootPath(cc.BuilderReader.we);a=c?d.load(a,h,c):d.load(a);if(b){for(var f=d.getOwnerCallbackNames(),i=d.getOwnerCallbackNodes(),c=0;c<f.length;c++){var k=f[c],o=i[c];o.setCallback(b[k],b)}f=d.getOwnerOutletNames();i=d.getOwnerOutletNodes();for(c=0;c<f.length;c++)k=f[c],o=i[c],b[k]=o}f=d.getNodesWithAnimationManagers();d=d.getAnimationManagersForNodes();for(c=0;c<f.length;c++){var q=f[c],i=d[c];q.Bv=i;if(k=i.getDocumentControllerName()){var v=
new ba[k];v.Gv=k;q.Fv=v;v.gw=q;for(var p=i.getDocumentCallbackNames(),t=i.getDocumentCallbackNodes(),q=0;q<p.length;q++)k=p[q],o=t[q],o.setCallback(v[k],v);p=i.getDocumentOutletNames();t=i.getDocumentOutletNodes();for(q=0;q<p.length;q++)k=p[q],o=t[q],v[k]=o;"function"==typeof v.Eg&&v.Eg();o=i.Jv();for(q=0;q<o.length;q++)k=o[q].split(":"),p=k[0],k=k[1],1==p?(k=cc.CallFunc.create(v[k],v),i.Jh(k,o[q])):2==p&&b&&(k=cc.CallFunc.create(b[k],b),i.Jh(k,o[q]));v=i.getAutoPlaySequenceId();-1!=v&&i.iw(v,0)}}return a};
cc.BuilderReader.loadAsScene=function(a,b,c){a=cc.BuilderReader.load(a,b,c);b=cc.Scene.create();b.addChild(a);return b};sys=sys||{};Object.defineProperties(sys,{capabilities:{get:function(){var a={opengl:g};"mobile"==sys.platform?(a.accelerometer=g,a.touches=g):(a.keyboard=g,a.mouse=g);return a},enumerable:g,configurable:g},os:{get:function(){return __getOS()},enumerable:g,configurable:g},platform:{get:function(){return __getPlatform()},enumerable:g,configurable:g},version:{get:function(){return __getVersion()},enumerable:g,configurable:g}});sys.garbageCollect=function(){__jsc__.garbageCollect()};sys.dumpRoot=function(){__jsc__.dumpRoot()};
sys.restartVM=function(){__restartVM()};var r=h,u=h,w=w||j,ca=ca||"N/A",x=cc.Scene.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},onEnter:function(){this._super();var a=cc.LabelTTF.create("Main Menu","Arial",20),a=cc.MenuItemLabel.create(a,this.Og,this),b=cc.Menu.create(a);b.setPosition(0,0);a.setPosition(u.width-50,25);this.addChild(b,1)},Og:function(){var a=cc.Scene.create(),b=new da;a.addChild(b);a=cc.TransitionProgressRadialCCW.create(0.5,a);r.replaceScene(a)},G:l()}),ea=40,fa=cc.p(0,0),da=
cc.LayerGradient.extend({X:h,Uf:0,Ov:j,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.k(0,0,0,255),cc.k(70,130,180,255));r=cc.Director.getInstance();u=r.getWinSize();var a=cc.MenuItemImage.create("res/Images/close.png","res/Images/close.png",this.Dg,this);a.setPosition(u.width-30,u.height-30);var b=cc.MenuItemFont.create("Automated Test: Off");b.setFontSize(18);var c=cc.MenuItemFont.create("Automated Test: On");c.setFontSize(18);b=cc.MenuItemToggle.create(b,
c);b.setCallback(this.jh,this);b.setPosition(u.width-90,20);w&&b.setSelectedIndex(1);a=cc.Menu.create(a,b);a.setPosition(0,0);this.X=cc.Menu.create();b=0;for(c=ga.length;b<c;b++){var d=cc.LabelTTF.create(ga[b].title,"Arial",24),d=cc.MenuItemLabel.create(d,this.aa,this);this.X.addChild(d,b+1E4);d.setPosition(u.width/2,u.height-(b+1)*ea);"browser"==sys.platform?d.setEnabled(ga[b].F&2):d.setEnabled(ga[b].F&1)}this.X.setContentSize(cc.size(u.width,(ga.length+1)*ea));this.X.setPosition(fa);this.addChild(this.X);
this.addChild(a,1);"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},onEnter:function(){this._super();this.X.setPosition(this.X.getPosition().x,da.re)},aa:function(a){da.re=this.X.getPosition().y;a=a.getZOrder()-1E4;ca=ga[a].title;var b=ga[a];cc.sd.uh(b.ja||[],function(){var a=b.A();a&&a.G()},this)},Dg:function(){history.go(-1)},jh:function(){w=!w},onTouchesMoved:function(a){this.Nb(a[0].getDelta());return g},onMouseDragged:function(a){this.Nb(a.getDelta());
return g},onScrollWheel:function(a){this.Nb({y:-a.getWheelDelta()});return g},Nb:function(a){var b=this.X.getPosition(),a=b.y+a.y;0>a&&(a=0);a>(ga.length+1)*ea-u.height&&(a=(ga.length+1)*ea-u.height);this.X.setPosition(b.x,a)}});da.re=0;
var ga=[{title:"ActionManager Test",F:3,A:function(){return new ha}},{title:"Actions Test",F:3,A:function(){return new ia}},{title:"Box2D Test",ja:[{src:"res/Images/blocks.png"}],F:2,A:function(){return new Box2DTestScene}},{title:"Chipmunk Test",F:3,A:function(){return new ja}},{title:"Click and Move Test",F:3,A:function(){return new ka}},{title:"CocosDenshion Test",ja:[{src:"res/Sound/background.mp3"},{src:"res/Sound/effect2.mp3"},{src:"res/Sound/background.ogg"},{src:"res/Sound/effect2.ogg"}],
F:3,A:function(){return new CocosDenshionTestScene}},{title:"CurrentLanguage Test",F:2,A:function(){return new CurrentLanguageTestScene}},{title:"DrawPrimitives Test",F:3,A:function(){return new la}},{title:"EaseActions Test",F:3,A:function(){return new ma}},{title:"Event Test",F:3,A:function(){return new na}},{title:"Extensions Test",ja:[{src:"res/Images/Icon.png"},{src:"res/extensions/background.png"},{src:"res/extensions/buttonBackground.png"},{src:"res/extensions/button.png"},{src:"res/extensions/buttonHighlighted.png"},
{src:"res/extensions/ribbon.png"},{src:"res/ccb/HelloCocosBuilder.ccbi"},{src:"res/ccb/ccb/TestAnimations.ccbi"},{src:"res/ccb/ccb/TestAnimationsSub.ccbi"},{src:"res/ccb/ccb/TestButtons.ccbi"},{src:"res/ccb/ccb/TestHeader.ccbi"},{src:"res/ccb/ccb/TestLabels.ccbi"},{src:"res/ccb/ccb/TestMenus.ccbi"},{src:"res/ccb/ccb/TestParticleSystems.ccbi"},{src:"res/ccb/ccb/TestScrollViews.ccbi"},{src:"res/ccb/ccb/TestScrollViewsContentA.ccbi"},{src:"res/ccb/ccb/TestSprites.ccbi"},{src:"res/ccb/btn-test-0.png"},
{src:"res/ccb/animated-grossini.png"},{src:"res/ccb/btn-a-0.png"},{src:"res/ccb/btn-a-1.png"},{src:"res/ccb/btn-a-2.png"},{src:"res/ccb/btn-b-0.png"},{src:"res/ccb/btn-b-1.png"},{src:"res/ccb/btn-b-2.png"},{src:"res/ccb/btn-back-0.png"},{src:"res/ccb/btn-back-1.png"},{src:"res/ccb/btn-test-0.png"},{src:"res/ccb/btn-test-1.png"},{src:"res/ccb/btn-test-2.png"},{src:"res/ccb/burst.png"},{src:"res/ccb/flower.jpg"},{src:"res/ccb/grossini-generic.png"},{src:"res/ccb/jungle.png"},{src:"res/ccb/jungle-left.png"},
{src:"res/ccb/jungle-right.png"},{src:"res/ccb/logo.png"},{src:"res/ccb/logo-icon.png"},{src:"res/ccb/markerfelt24shadow.png"},{src:"res/ccb/particle-fire.png"},{src:"res/ccb/particle-smoke.png"},{src:"res/ccb/particle-snow.png"},{src:"res/ccb/particle-stars.png"},{src:"res/ccb/scale-9-demo.png"},{src:"res/ccb/markerfelt24shadow.fnt"},{src:"res/ccb/grossini-generic.plist"},{src:"res/ccb/animated-grossini.plist"}],F:2,A:function(){return new oa}},{title:"Effects Test",F:1,A:function(){return new pa}},
{title:"FileUtils Test",ja:[{src:"FileUtils/lookup-html5.plist"}],F:3,A:function(){return new qa}},{title:"Font Test",ja:[{fontName:"Thonburi",src:[{src:"res/fonts/Thonburi.eot",type:"embedded-opentype"},{src:"res/fonts/Thonburi.ttf",type:"truetype"}]},{fontName:"Schwarzwald Regular",src:[{src:"res/fonts/Schwarzwald_Regular.eot",type:"embedded-opentype"},{src:"res/fonts/Schwarzwald Regular.ttf",type:"truetype"}]},{fontName:"ThonburiBold",src:[{src:"res/fonts/ThonburiBold.eot",type:"embedded-opentype"},
{src:"res/fonts/ThonburiBold.ttf",type:"truetype"}]},{fontName:"Courier New",src:[{src:"res/fonts/Courier New.eot",type:"embedded-opentype"},{src:"res/fonts/Courier New.ttf",type:"truetype"}]}],F:3,A:function(){return new FontTestScene}},{title:"Interval Test",F:3,A:function(){return new IntervalTestScene}},{title:"Label Test",ja:[{src:"res/fonts/bitmapFontTest.png"},{src:"res/fonts/bitmapFontTest2.png"},{src:"res/fonts/bitmapFontTest3.png"},{src:"res/fonts/bitmapFontTest4.png"},{src:"res/fonts/bitmapFontTest5.png"},
{src:"res/fonts/konqa32.png"},{src:"res/fonts/konqa32-hd.png"},{src:"res/fonts/bitmapFontChinese.png"},{src:"res/fonts/arial16.png"},{src:"res/fonts/larabie-16.png"},{src:"res/fonts/larabie-16-hd.png"},{src:"res/fonts/futura-48.png"},{src:"res/fonts/arial-unicode-26.png"},{src:"res/fonts/tuffy_bold_italic-charmap.png"},{src:"res/Images/arrows.png"},{src:"res/Images/arrowsBar.png"},{src:"res/Images/arrows-hd.png"},{src:"res/Images/arrowsBar-hd.png"},{src:"res/fonts/larabie-16.plist"},{src:"res/fonts/larabie-16-hd.plist"},
{src:"res/fonts/tuffy_bold_italic-charmap.plist"},{src:"res/fonts/tuffy_bold_italic-charmap-hd.plist"},{src:"res/fonts/bitmapFontTest.fnt"},{src:"res/fonts/bitmapFontTest2.fnt"},{src:"res/fonts/bitmapFontTest3.fnt"},{src:"res/fonts/bitmapFontTest4.fnt"},{src:"res/fonts/bitmapFontTest5.fnt"},{src:"res/fonts/konqa32.fnt"},{src:"res/fonts/konqa32-hd.fnt"},{src:"res/fonts/bitmapFontChinese.fnt"},{src:"res/fonts/arial16.fnt"},{src:"res/fonts/futura-48.fnt"},{src:"res/fonts/helvetica-32.fnt"},{src:"res/fonts/geneva-32.fnt"},
{src:"res/fonts/arial-unicode-26.fnt"},{src:"res/fonts/markerFelt.fnt"},{src:"res/fonts/markerFelt-hd.fnt"},{src:"res/fonts/strings.xml"}],F:3,A:function(){return new ra}},{title:"Layer Test",F:3,A:function(){return new sa}},{title:"Menu Test",ja:[{src:"res/fonts/bitmapFontTest3.fnt"},{src:"res/fonts/bitmapFontTest3.png"},{src:"res/Images/btn-play-normal.png"},{src:"res/Images/btn-play-selected.png"},{src:"res/Images/btn-about-normal.png"},{src:"res/Images/btn-about-selected.png"},{src:"res/Images/btn-highscores-normal.png"},
{src:"res/Images/btn-highscores-selected.png"},{src:"res/Images/menuitemsprite.png"},{src:"res/Images/SendScoreButton.png"},{src:"res/Images/SendScoreButtonPressed.png"},{src:"res/fonts/fps_images.png"}],F:3,A:function(){return new ta}},{title:"Node Test",F:3,A:function(){return new ua}},{title:"OpenGL Test",F:1,A:function(){return new va}},{title:"Parallax Test",ja:[{src:"res/TileMaps/orthogonal-test2.tmx"},{src:"res/TileMaps/fixed-ortho-test2.png"},{src:"res/Images/powered.png"},{src:"res/Images/background.png"}],
F:3,A:function(){return new ParallaxTestScene}},{title:"Particle Test",F:3,ja:[{src:"res/fonts/fps_images.png"},{src:"res/Images/stars-grayscale.png"},{src:"res/Images/stars2-grayscale.png"},{src:"res/Images/texturemode.png"},{src:"res/Images/shapemode.png"},{src:"res/Images/movement.png"},{src:"res/Images/stars.png"},{src:"res/Images/stars2.png"},{src:"res/Images/snow.png"},{src:"res/Images/particles.png"},{src:"res/Images/particles-hd.png"},{src:"res/Particles/BoilingFoam.plist"},{src:"res/Particles/BurstPipe.plist"},
{src:"res/Particles/Comet.plist"},{src:"res/Particles/debian.plist"},{src:"res/Particles/ExplodingRing.plist"},{src:"res/Particles/Flower.plist"},{src:"res/Particles/Galaxy.plist"},{src:"res/Particles/LavaFlow.plist"},{src:"res/Particles/Phoenix.plist"},{src:"res/Particles/SmallSun.plist"},{src:"res/Particles/SpinningPeas.plist"},{src:"res/Particles/Spiral.plist"},{src:"res/Particles/SpookyPeas.plist"},{src:"res/Particles/TestPremultipliedAlpha.plist"},{src:"res/Particles/Upsidedown.plist"}],A:function(){return new wa}},
{title:"Performance Test",F:3,A:function(){return new xa}},{title:"ProgressActions Test",F:3,A:function(){return new ya}},{title:"RenderTexture Test",F:1,A:function(){return new za}},{title:"RotateWorld Test",F:3,A:function(){return new Aa}},{title:"Scene Test",F:3,A:function(){return new SceneTestScene}},{title:"Scheduler Test",F:3,A:function(){return new Ba}},{title:"Sprite Test",ja:[{src:"res/Images/piece.png"},{src:"res/animations/grossini_gray.png"},{src:"res/animations/grossini_blue.png"},{src:"res/Images/grossini_dance_atlas.png"},
{src:"res/animations/grossini-aliases.png"},{src:"res/animations/dragon_animation.png"},{src:"res/animations/ghosts.png"},{src:"res/animations/grossini_family.png"},{src:"res/Images/grossini_dance_atlas-mono.png"},{src:"res/animations/animations.plist"},{src:"res/animations/grossini_gray.plist"},{src:"res/animations/grossini_blue.plist"},{src:"res/animations/grossini-aliases.plist"},{src:"res/animations/ghosts.plist"},{src:"res/animations/grossini_family.plist"},{src:"res/animations/tcc_issue_1.plist"},
{src:"res/animations/tcc_issue_2.plist"},{src:"res/animations/tcc_issue_1.png"},{src:"res/animations/tcc_issue_2.png"},{src:"res/Images/blocks9ss.plist"},{src:"res/Images/blocks9ss.png"}],F:3,A:function(){return new Ca}},{title:"Scale9Sprite Test",ja:[{src:"res/Images/blocks9ss.plist"},{src:"res/Images/blocks9ss.png"}],F:3,A:function(){return new Da}},{title:"TextInput Test",F:2,A:function(){return new TextInputTestScene}},{title:"TextureCache Test",F:2,A:function(){return new TextureCacheTestScene}},
{title:"TileMap Test",ja:[{src:"res/TileMaps/fixed-ortho-test2.png"},{src:"res/TileMaps/hexa-tiles.png"},{src:"res/TileMaps/iso-test.png"},{src:"res/TileMaps/iso-test2.png"},{src:"res/TileMaps/iso.png"},{src:"res/TileMaps/ortho-test1_bw.png"},{src:"res/TileMaps/ortho-test1.png"},{src:"res/TileMaps/tiles-hd.png"},{src:"res/TileMaps/tmw_desert_spacing-hd.png"},{src:"res/TileMaps/tmw_desert_spacing.png"},{src:"res/TileMaps/tiles.png"},{src:"res/TileMaps/orthogonal-test1.tmx"},{src:"res/TileMaps/orthogonal-test1.tsx"},
{src:"res/TileMaps/orthogonal-test2.tmx"},{src:"res/TileMaps/orthogonal-test3.tmx"},{src:"res/TileMaps/orthogonal-test4.tmx"},{src:"res/TileMaps/orthogonal-test4-hd.tmx"},{src:"res/TileMaps/orthogonal-test5.tmx"},{src:"res/TileMaps/orthogonal-test6.tmx"},{src:"res/TileMaps/orthogonal-test6-hd.tmx"},{src:"res/TileMaps/hexa-test.tmx"},{src:"res/TileMaps/iso-test.tmx"},{src:"res/TileMaps/iso-test1.tmx"},{src:"res/TileMaps/iso-test2.tmx"},{src:"res/TileMaps/iso-test2-uncompressed.tmx"},{src:"res/TileMaps/ortho-objects.tmx"},
{src:"res/TileMaps/iso-test-objectgroup.tmx"},{src:"res/TileMaps/iso-test-zorder.tmx"},{src:"res/TileMaps/orthogonal-test-zorder.tmx"},{src:"res/TileMaps/iso-test-vertexz.tmx"},{src:"res/TileMaps/orthogonal-test-vertexz.tmx"},{src:"res/TileMaps/iso-test-movelayer.tmx"},{src:"res/TileMaps/orthogonal-test-movelayer.tmx"},{src:"res/TileMaps/iso-test-bug787.tmx"},{src:"res/TileMaps/test-object-layer.tmx"},{src:"res/TileMaps/ortho-tile-property.tmx"},{src:"res/TileMaps/ortho-rotation-test.tmx"}],F:3,A:function(){return new Ea}},
{title:"Touches Test",ja:[{src:"res/Images/ball.png"},{src:"res/Images/paddle.png"}],F:2,A:function(){return new TouchesTestScene}},{title:"Transitions Test",ja:[{src:"res/Images/background1.png"},{src:"res/Images/background2.png"}],F:3,A:function(){return new Fa}},{title:"Unit Tests",F:3,A:function(){return new Ga}},{title:"Sys Tests",F:3,A:function(){return new Ha}},{title:"cocos2d JS Presentation",F:1,A:function(){return new Ia}}];var w=w||j,ca=ca||"N/A",y=cc.LayerGradient.extend({ctor:function(a,b){sys.garbageCollect();this._super();cc.associateWithNative(this,cc.LayerGradient);var c=cc.k(98,99,117,255),d=cc.k(0,0,0,255);1<=arguments.length&&(c=a);2==arguments.length&&(d=b);w&&(c=cc.k(0,0,0,255),d=cc.k(0,0,0,255));this.init(c,d);u=r.getWinSize();w&&(this.M(),this.scheduleOnce(this.og,this.B),this.Ca())},Ca:l(),Md:function(){var a="";"title"in this?a=this.title():"_title"in this&&(a=this.e);return a},ug:function(){var a="";
"subtitle"in this?a=this.d():"_subtitle"in this&&(a=this.h);return a},log:function(a){w||cc.log(a)},onEnter:function(){this._super();var a=this.Md(),a=cc.LabelTTF.create(a,"Arial",28);this.addChild(a,100,11);a.setPosition(u.width/2,u.height-50);if(a=this.ug())a=cc.LabelTTF.create(a.toString(),"Thonburi",16),this.addChild(a,101,12),a.setPosition(u.width/2,u.height-80);var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.H,this),b=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",
this.J,this),c=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.I,this);a.setTag(1);b.setTag(2);c.setTag(3);var d=cc.Menu.create(a,b,c);d.setPosition(0,0);var f=b.getContentSize();a.setPosition(u.width/2-2*f.width,f.height/2);b.setPosition(u.width/2,f.height/2);c.setPosition(u.width/2+2*f.width,f.height/2);this.addChild(d,102,10)},J:l(),I:l(),H:l(),B:0.25,s:function(){e("Not Implemented")},q:function(){e("Not Implemented")},cg:function(a,b){return a==b},Uh:function(){var a=this.q(),
b=this.s(),c=this.cg(a,b);c||(this.Ke="Expected value: '"+b+"'. Current value'"+a+"'.");return c},og:function(a){this.Ke="";var b=this.Md();try{this.Uh(a)?cc.log(ca+" - "+this.K()+": Test '"+b+"':' OK"):cc.log(ca+" - "+this.K()+": Test '"+b+"': Error: "+this.Ke)}catch(c){cc.log(ca+" - "+this.K()+": Test '"+b+"':'"+c)}this.ic()},M:function(){e("Override me: numberOfPendingTests")},K:function(){e("Override me: getTestNumber")},ic:function(){if(0>=this.M()){var a=cc.Scene.create(),b=new da;a.addChild(b);
r.replaceScene(a)}else try{this.I(this)}catch(c){cc.log(ca+" - "+this.K()+": Test '"+this.Md()+"':'"+c),this.ic()}},readPixels:function(a,b,c,d){if("opengl"in sys.capabilities){var f=new Uint8Array(4*c*d);gl.readPixels(a,b,c,d,gl.RGBA,gl.UNSIGNED_BYTE,f);return f}e("readPixels Not implemented on canvas yet")},jf:function(a){var b={},c,d=[];for(c in a)a.hasOwnProperty(c)&&d.push(c);d.sort();for(c=0;c<d.length;c++)b[d[c]]=a[d[c]];return b}});var Ja=5560,z=-1,Na=y.extend({Tf:h,e:"",title:m("No title"),d:m(""),H:function(){var a=new ha;a.addChild(Ka());r.replaceScene(a)},J:function(){var a=new ha;a.addChild(new La[z]);r.replaceScene(a)},I:function(){var a=new ha;a.addChild(Ma());r.replaceScene(a)},M:function(){return La.length-1-z},K:function(){return z}}),Oa=Na.extend({title:m("Test 1. Should not crash"),onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(200,200);this.addChild(a,1);a.runAction(cc.RotateBy.create(1.5,
90));a.runAction(cc.Sequence.create(cc.DelayTime.create(1.4),cc.FadeOut.create(1.1)));this.runAction(cc.Sequence.create(cc.DelayTime.create(1.4),cc.CallFunc.create(this.$g,this)))},$g:function(){this.getParent().removeChild(this);this.I(this)},s:m("NOT_CRASHED"),q:m("NOT_CRASHED")}),Pa=Na.extend({title:m("Logic test"),onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,2);a.setPosition(200,200);a.runAction(cc.Sequence.create(cc.MoveBy.create(1,cc.p(150,
0)),cc.CallFunc.create(this.Bg,this)));w&&(this.f=a)},Bg:function(a){a.stopAllActions();a.runAction(cc.ScaleTo.create(2,2))},B:4,s:function(){return JSON.stringify([{scaleX:2,scaleY:2}])},q:function(){var a=this.f.getScaleX(),b=this.f.getScaleY();return JSON.stringify([{scaleX:a,scaleY:b}])}}),Qa=Na.extend({title:m("Pause Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("After 3 seconds grossini should move","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,
245);a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,5561);a.setPosition(200,200);b=cc.MoveBy.create(1,cc.p(150,0));r.getActionManager().addAction(b,a,g);this.schedule(this.Xe,3);w&&(this.scheduleOnce(this.na,2),this.scheduleOnce(this.Ga,4.5),this.f=a)},Xe:function(){this.unschedule(this.Xe);var a=this.getChildByTag(5561);r.getActionManager().resumeTarget(a)},B:5.5,na:function(){this.S=this.f.getPosition()},Ga:function(){this.fa=this.f.getPosition()},s:function(){return JSON.stringify([{x:200,
y:200},{x:350,y:200}])},q:function(){return JSON.stringify([{x:this.S.x,y:this.S.y},{x:this.fa.x,y:this.fa.y}])}}),Ra=Na.extend({title:m("Remove Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Should not crash","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);a=cc.MoveBy.create(2,cc.p(200,0));b=cc.CallFunc.create(this.stopAction,this);a=cc.Sequence.create(a,b);a.setTag(5562);b=cc.Sprite.create("res/Images/grossini.png");b.setPosition(200,200);this.addChild(b,
1,5561);b.runAction(a)},stopAction:function(){this.getChildByTag(5561).stopActionByTag(5562)},B:3.5,s:m("NOT_CRASHED"),q:m("NOT_CRASHED")}),Sa=Na.extend({title:m("Resume Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Grossini only rotate/scale in 3 seconds","Thonburi",16);this.addChild(b);b.setPosition(a.width/2,245);this.f=b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b,0,5561);b.setPosition(a.width/2,a.height/2);b.runAction(cc.ScaleBy.create(2,2));
r.getActionManager().pauseTarget(b);b.runAction(cc.RotateBy.create(2,360));this.schedule(this.ff,3)},ff:function(){this.unschedule(this.ff);var a=this.getChildByTag(5561);r.getActionManager().resumeTarget(a)},B:6,Ca:function(){this.scheduleOnce(this.na,1);this.scheduleOnce(this.Ga,5.5)},na:function(){this.eg=this.f.getScaleX();this.fg=this.f.getScaleY();this.dg=this.f.getRotation()},Ga:function(){this.hg=this.f.getScaleX();this.ig=this.f.getScaleY();this.gg=this.f.getRotation()},s:function(){return JSON.stringify([{Rot:0},
{sX:1,sY:1},{Rot:360},{sX:2,sY:2}])},q:function(){return JSON.stringify([{Rot:this.dg},{sX:this.eg,sY:this.fg},{Rot:this.gg},{sX:this.hg,sY:this.ig}])}}),ha=x.extend({G:function(){z=-1;this.addChild(Ma());r.replaceScene(this)}}),La=[Oa,Pa,Qa,Ra,Sa];function Ma(){z++;z%=La.length;return new La[z]}function Ka(){z--;0>z&&(z+=La.length);return new La[z]};var A=-1,ia=x.extend({G:function(){A=-1;this.addChild(Ta());r.replaceScene(this)}}),B=y.extend({f:h,j:h,m:h,U:h,ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255));this.f=cc.Sprite.create("res/Images/grossini.png");this.j=cc.Sprite.create("res/Images/grossinis_sister1.png");this.m=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(this.f,1);this.addChild(this.j,2);this.addChild(this.m,3);var a=r.getWinSize();this.f.setPosition(a.width/2,a.height/3);this.j.setPosition(a.width/
2,2*a.height/3);this.m.setPosition(a.width/2,a.height/2)},D:function(a){var b=r.getWinSize();0===a?(this.j.setVisible(j),this.m.setVisible(j),this.f.setVisible(j)):1==a?(this.j.setVisible(j),this.m.setVisible(j),this.f.setPosition(b.width/2,b.height/2)):2==a?(this.m.setPosition(b.width/3,b.height/2),this.j.setPosition(2*b.width/3,b.height/2),this.f.setVisible(j)):3==a&&(this.f.setPosition(b.width/2,b.height/2),this.j.setPosition(b.width/4,b.height/2),this.m.setPosition(3*b.width/4,b.height/2))},pb:function(a){var b=
r.getWinSize();1==a?(this.j.setVisible(j),this.m.setVisible(j),this.f.setPosition(60,b.height/2)):2==a?(this.m.setPosition(60,b.height/3),this.j.setPosition(60,2*b.height/3),this.f.setVisible(j)):3==a&&(this.f.setPosition(60,b.height/2),this.j.setPosition(60,2*b.height/3),this.m.setPosition(60,b.height/3))},title:m("ActionsTest"),d:m(""),H:function(){var a=new ia;a.addChild(Ua());r.replaceScene(a)},J:function(){var a=new ia;a.addChild(new Va[A]);r.replaceScene(a)},I:function(){var a=new ia;a.addChild(Ta());
r.replaceScene(a)},M:function(){return Va.length-1-A},K:function(){return A}}),Wa=B.extend({U:"sprite.setPosition( 10,20 );\nsprite.setRotation( 90 );\nsprite.setScale( 2 );",onEnter:function(){this._super();this.j.setScaleX(2.5);this.j.setScaleY(-1);this.j.setPosition(100,70);this.j.setOpacity(128);this.f.setRotation(120);this.f.setPosition(u.width/2,u.height/2);this.f.setColor(cc.o(255,0,0));this.m.setPosition(u.width-100,u.height/2);this.m.setColor(cc.o(0,0,255))},title:m("Sprite properties"),
d:m("Manual Transformation"),B:0.1,s:function(){return JSON.stringify([2.5,{x:100,y:70},128,120,{x:u.width/2,y:u.height/2},{r:255,g:0,b:0},{x:u.width-100,y:u.height/2},{r:0,g:0,b:255}])},q:function(){var a=[];a.push(this.j.getScaleX());a.push(this.j.getPosition());a.push(this.j.getOpacity());a.push(this.f.getRotation());a.push(this.f.getPosition());a.push(this.f.getColor());a.push(this.m.getPosition());a.push(this.m.getColor());return JSON.stringify(a)}}),Xa=B.extend({U:"a = cc.MoveBy.create( time, cc.p(x,y) );\na = cc.MoveTo.create( time, cc.p(x,y) );",
onEnter:function(){this._super();this.D(3);var a=r.getWinSize(),a=cc.MoveTo.create(2,cc.p(a.width-40,a.height-40)),b=cc.MoveBy.create(1,cc.p(80,80)),c=b.reverse();this.j.runAction(a);this.f.runAction(cc.Sequence.create(b,c));this.m.runAction(cc.MoveTo.create(1,cc.p(40,40)))},title:m("cc.MoveTo / cc.MoveBy"),B:2.1,s:function(){return JSON.stringify([{x:u.width-40,y:u.height-40},{x:u.width/2,y:u.height/2},{x:40,y:40}])},q:function(){var a=[];a.push(this.j.getPosition());a.push(this.f.getPosition());
a.push(this.m.getPosition());return JSON.stringify(a)}}),Ya=B.extend({U:"a = cc.ScaleBy.create( time, scale );\na = cc.ScaleTo.create( time, scaleX, scaleY );",onEnter:function(){this._super();this.D(3);var a=cc.ScaleTo.create(2,0.5),b=cc.ScaleBy.create(2,2),c=cc.ScaleBy.create(2,0.25,4.5);this.j.runAction(a);this.m.runAction(cc.Sequence.create(c,cc.DelayTime.create(0.25),c.reverse()));this.f.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),b.reverse()))},title:m("cc.ScaleTo / cc.ScaleBy"),
B:2.1,s:function(){return JSON.stringify([0.5,2,0.25,4.5])},q:function(){var a=[];a.push(this.j.getScale());a.push(this.f.getScale());a.push(this.m.getScaleX());a.push(this.m.getScaleY());return JSON.stringify(a)}}),Za=B.extend({U:"a = cc.RotateBy.create( time, degrees );\na = cc.RotateTo.create( time, degrees );",onEnter:function(){this._super();this.D(3);var a=cc.RotateTo.create(2,45),b=cc.RotateTo.create(2,-45),c=cc.RotateTo.create(2,0);this.j.runAction(cc.Sequence.create(a,cc.DelayTime.create(0.25),
c));var a=cc.RotateBy.create(2,360),d=a.reverse();this.f.runAction(cc.Sequence.create(a,cc.DelayTime.create(0.25),d));this.m.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),c.copy()))},title:m("cc.RotateTo / cc.RotateBy"),B:2.1,s:function(){return JSON.stringify([45,360,-45])},q:function(){var a=[];a.push(this.j.getRotation());a.push(this.f.getRotation());a.push(this.m.getRotation());return JSON.stringify(a)}}),$a=B.extend({onEnter:function(){this._super();this.D(3);var a=cc.RotateTo.create(2,
37.2,-37.2),b=cc.RotateTo.create(2,0,0),c=cc.RotateBy.create(2,0,-90),d=cc.RotateBy.create(2,45,45),f=cc.DelayTime.create(0.25);this.j.runAction(cc.Sequence.create(a,f,b));this.f.runAction(cc.Sequence.create(c,f.copy(),c.reverse()));this.m.runAction(cc.Sequence.create(d,f.copy(),d.reverse()))},title:m("cc.RotateBy(x,y) / cc.RotateTo(x,y)"),B:2.1,s:function(){return JSON.stringify(["37.20","-37.20",0,-90,45,45])},q:function(){var a=[];a.push(this.j.getRotationX().toFixed(2));a.push(this.j.getRotationY().toFixed(2));
a.push(this.f.getRotationX());a.push(this.f.getRotationY());a.push(this.m.getRotationX());a.push(this.m.getRotationY());return JSON.stringify(a)}}),ab=B.extend({U:"a = cc.SkewBy.create( time, skew );\na = cc.SkewTo.create( time, skewX, skewY );",onEnter:function(){this._super();this.D(3);var a=cc.SkewTo.create(2,37.2,-37.2),b=cc.SkewTo.create(2,0,0),c=cc.SkewBy.create(2,0,-90),d=cc.SkewBy.create(2,45,45),f=cc.DelayTime.create(0.25);this.j.runAction(cc.Sequence.create(a,f,b));this.f.runAction(cc.Sequence.create(c,
f.copy(),c.reverse()));this.m.runAction(cc.Sequence.create(d,f.copy(),d.reverse()))},title:m("cc.SkewTo / cc.SkewBy"),B:2.1,s:function(){return JSON.stringify(["37.20","-37.20",0,0,45,45])},q:function(){var a=[];a.push(this.j.getSkewX().toFixed(2));a.push(this.j.getSkewY().toFixed(2));a.push(this.f.getSkewX());a.push(this.f.getSkewX());a.push(this.m.getSkewX());a.push(this.m.getSkewY());return JSON.stringify(a)}}),bb=B.extend({onEnter:function(){this._super();this.D(0);var a=cc.size(100,100),b=cc.LayerColor.create(cc.k(255,
255,0,255));b.setAnchorPoint(cc.p(0,0));b.setPosition((u.width-a.width)/2,(u.height-a.height)/2);b.setContentSize(a);var c=cc.LayerColor.create(cc.k(255,0,0,255));b.addChild(c);c.setContentSize(cc.size(10,10));c.setPosition(0,a.height-10);c.setAnchorPoint(cc.p(0,0));c=cc.LayerColor.create(cc.k(0,0,255,255));b.addChild(c);c.setContentSize(cc.size(10,10));c.setPosition(a.width-10,a.height-10);c.setAnchorPoint(cc.p(0,0));this.addChild(b);var a=cc.SkewTo.create(2,0,2),c=cc.RotateTo.create(2,61),d=cc.ScaleTo.create(2,
-0.44,0.47),f=cc.ScaleTo.create(2,1,1),i=cc.RotateTo.create(2,0),k=cc.SkewTo.create(2,0,0),o=cc.DelayTime.create(0.25);b.runAction(cc.Sequence.create(a,o,k));b.runAction(cc.Sequence.create(c,o.copy(),i));b.runAction(cc.Sequence.create(d,o.copy(),f));this.Yb=b},title:m("Skew + Rotate + Scale"),B:2.1,s:function(){return JSON.stringify([0,2,61,"-0.44","0.47"])},q:function(){var a=[];a.push(this.Yb.getSkewX());a.push(this.Yb.getSkewY());a.push(this.Yb.getRotation());a.push(this.Yb.getScaleX().toFixed(2));
a.push(this.Yb.getScaleY().toFixed(2));return JSON.stringify(a)}}),cb=B.extend({U:"a = cc.JumpBy.create( time, point, height, #_of_jumps );\na = cc.JumpTo.create( time, point, height, #_of_jumps );",onEnter:function(){this._super();this.D(3);var a=cc.JumpTo.create(2,cc.p(300,300),50,4),b=cc.JumpBy.create(2,cc.p(300,0),50,4),c=cc.JumpBy.create(2,cc.p(0,0),80,4),d=b.reverse(),f=cc.DelayTime.create(0.25);this.j.runAction(a);this.f.runAction(cc.Sequence.create(b,f,d));this.m.runAction(cc.RepeatForever.create(cc.Sequence.create(c,
f.copy())))},title:m("cc.JumpTo / cc.JumpBy"),d:m("Actions will stop for 0.25s after 2 seconds"),B:2.1,s:function(){return JSON.stringify([{x:300,y:300},{x:u.width/2+300,y:u.height/2},{x:3*u.width/4,y:u.height/2}])},q:function(){var a=[];a.push(this.j.getPosition());a.push(this.f.getPosition());a.push(this.m.getPosition());return JSON.stringify(a)}}),db=B.extend({onEnter:function(){this._super();var a=r.getWinSize();this.D(3);var b=cc.DelayTime.create(0.25),c=[cc.p(0,374),cc.p(300,-374),cc.p(300,
100)],c=cc.BezierBy.create(2,c),b=cc.RepeatForever.create(cc.Sequence.create(c,b,c.reverse(),b.copy()));this.j.setPosition(80,160);c=[cc.p(100,a.height/2),cc.p(200,-a.height/2),cc.p(240,160)];a=cc.BezierTo.create(2,c);c=c.slice();this.m.setPosition(400,160);c=cc.BezierTo.create(2,c);this.f.runAction(b);this.j.runAction(a);this.m.runAction(c)},title:m("cc.BezierBy / cc.BezierTo"),B:2.1,Ca:function(){this.scheduleOnce(this.na,0.66667);this.scheduleOnce(this.Ga,1.33333)},na:function(){this.S=this.f.getPosition()},
pc:function(){var a=Math.abs(this.S.y-87-u.height/2);return 5>Math.abs(this.S.x-77-u.width/2)&&5>a},Ga:function(){this.fa=this.f.getPosition()},qc:function(){var a=Math.abs(this.fa.y+53-u.height/2);return 5>Math.abs(this.fa.x-222-u.width/2)&&5>a},s:function(){return JSON.stringify([g,g,{x:u.width/2+300,y:u.height/2+100}])},q:function(){var a=[];a.push(this.pc());a.push(this.qc());a.push(this.f.getPosition());return JSON.stringify(a)}}),eb=B.extend({onEnter:function(){this._super();this.D(2);this.j.setPosition(80,
160);var a=[cc.p(100,u.height/2),cc.p(200,-u.height/2),cc.p(240,160)],a=cc.BezierTo.create(2,a);this.m.setPosition(80,160);var b=a.copy();this.j.runAction(a);this.m.runAction(b)},title:m("cc.BezierTo copy test"),d:m("Both sprites should move across the same path")}),fb=B.extend({onEnter:function(){this._super();this.D(1);this.f.setPosition(428,279);var a=[cc.p(428,279),cc.p(100,100),cc.p(100,100)],b=[cc.p(100,100),cc.p(428,279),cc.p(428,279)],a=cc.BezierTo.create(1.5,a),b=cc.BezierTo.create(1.5,b),
c=cc.CallFunc.create(this.oh,this),d=cc.DelayTime.create(0.25);this.f.runAction(cc.RepeatForever.create(cc.Sequence.create(a,b,c,d)))},oh:function(a){a=a.getPosition();cc.log("Position x: "+a.x+" y:"+a.y);(428!=a.x||279!=a.y)&&this.log("Error: Issue 1008 is still open");this.ai=a},title:m("Issue 1008"),d:m("cc.BezierTo + Repeat. See console"),B:3.1,s:function(){return JSON.stringify({x:428,y:279})},q:function(){return JSON.stringify(this.ai)}}),gb=B.extend({U:"a = cc.Blink.create( time, #_of_blinks );",
onEnter:function(){this._super();this.D(2);var a=cc.Blink.create(2,10),b=cc.Blink.create(2,5);this.j.runAction(a);this.m.runAction(b)},title:m("cc.Blink"),B:2.1,Ca:function(){this.scheduleOnce(this.na,0.1)},na:function(){this.S=this.m.isVisible()},s:function(){return JSON.stringify([j,g,g])},q:function(){var a=[];a.push(this.S);a.push(this.j.isVisible());a.push(this.m.isVisible());return JSON.stringify(a)}}),hb=B.extend({U:"a = cc.FadeIn.create( time );\na = cc.FadeOut.create( time );",onEnter:function(){this._super();
this.D(2);var a=cc.DelayTime.create(0.25);this.j.setOpacity(0);var b=cc.FadeIn.create(1),c=b.reverse(),d=cc.FadeOut.create(1),f=d.reverse();this.j.runAction(cc.Sequence.create(b,a,c));this.m.runAction(cc.Sequence.create(d,a.copy(),f))},title:m("cc.FadeIn / cc.FadeOut"),B:1.1,s:function(){return JSON.stringify([255,0])},q:function(){var a=[];a.push(this.j.getOpacity());a.push(this.m.getOpacity());return JSON.stringify(a)}}),ib=B.extend({U:"a = cc.TintBy.create( time, red, green, blue );\na = cc.TintTo.create( time, red, green, blue );",
onEnter:function(){this._super();this.D(2);var a=cc.TintTo.create(2,255,0,255),b=cc.TintBy.create(2,-127,-255,-127),c=b.reverse();this.j.runAction(a);this.m.runAction(cc.Sequence.create(b,cc.DelayTime.create(0.25),c))},title:m("cc.TintTo / cc.TintBy"),B:2.1,s:function(){return JSON.stringify([{r:255,g:0,b:255},{r:128,g:0,b:128}])},q:function(){var a=[];a.push(this.j.getColor());a.push(this.m.getColor());return JSON.stringify(a)}}),jb=B.extend({onEnter:function(){this._super();this.D(3);for(var a=
cc.Animation.create(),b=1;15>b;b++)a.addSpriteFrameWithFile("res/Images/grossini_dance_"+(10>b?"0"+b:b)+".png");a.setDelayPerUnit(2.8/14);a.setRestoreOriginalFrame(g);a=cc.Animate.create(a);this.f.runAction(cc.Sequence.create(a,a.reverse()));a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");a=a.getAnimation("dance_1");b=cc.Animate.create(a);this.j.runAction(cc.Sequence.create(b,b.reverse()));a=a.copy();a.setLoops(4);this.m.runAction(cc.Animate.create(a))},title:m("Animation"),
d:m("Center: Manual animation. Border: using file format animation")}),kb=B.extend({U:"a = cc.Sequence.create( a1, a2, a3,..., aN);",onEnter:function(){this._super();this.pb(1);this.f.runAction(cc.Sequence.create(cc.MoveBy.create(1.5,cc.p(240,0)),cc.RotateBy.create(1.5,540)))},title:m("cc.Sequence: Move + Rotate"),B:3.1,s:function(){return JSON.stringify([{x:300,y:u.height/2},540])},q:function(){var a=[];a.push(this.f.getPosition());a.push(this.f.getRotation());return JSON.stringify(a)}}),lb=B.extend({onEnter:function(){this._super();
this.D(1);this.f.setVisible(j);this.f.runAction(cc.Sequence.create(cc.Place.create(cc.p(200,200)),cc.Show.create(),cc.MoveBy.create(1,cc.p(100,0)),cc.CallFunc.create(this.Vd,this),cc.CallFunc.create(this.Wd.bind(this)),cc.CallFunc.create(this.Xd,this)));this.Be=this.Ce=this.De=j},Vd:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 1 called","Marker Felt",16);b.setPosition(1*(a.width/4),a.height/2);this.addChild(b);this.Be=g},Wd:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 2 called",
"Marker Felt",16);b.setPosition(2*(a.width/4),a.height/2);this.addChild(b);this.Ce=g},Xd:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 3 called","Marker Felt",16);b.setPosition(3*(a.width/4),a.height/2);this.addChild(b);this.De=g},title:m("Sequence of InstantActions"),B:1.1,s:function(){return JSON.stringify([g,g,g,g,{x:300,y:200}])},q:function(){var a=[];a.push(this.Be);a.push(this.Ce);a.push(this.De);a.push(this.f.isVisible());a.push(this.f.getPosition());return JSON.stringify(a)}}),
mb=B.extend({U:"a = cc.CallFunc.create( this.callback );\na = cc.CallFunc.create( this.callback, this, optional_arg );",onEnter:function(){this._super();this.D(3);var a=cc.Sequence.create(cc.MoveBy.create(2,cc.p(200,0)),cc.CallFunc.create(this.Vd.bind(this))),b=cc.Sequence.create(cc.ScaleBy.create(2,2),cc.FadeOut.create(2),cc.CallFunc.create(this.Wd,this)),c=cc.Sequence.create(cc.RotateBy.create(3,360),cc.FadeOut.create(2),cc.CallFunc.create(this.Xd,this,"Hi!"));this.f.runAction(a);this.j.runAction(b);
this.m.runAction(c)},Vd:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 1 called","Marker Felt",16);b.setPosition(1*(a.width/4),a.height/2);this.addChild(b);this.S=g},Wd:function(){var a=r.getWinSize(),b=cc.LabelTTF.create("callback 2 called","Marker Felt",16);b.setPosition(2*(a.width/4),a.height/2);this.addChild(b);this.fa=g},Xd:function(a,b){var c=r.getWinSize(),d=cc.LabelTTF.create("callback 3 called:"+b,"Marker Felt",16);d.setPosition(3*(c.width/4),c.height/2);this.addChild(d);
this.Ua=g},title:m("Callbacks: CallFunc and friends"),B:5.05,Ca:function(){this.S=this.fa=this.Ua=j},s:function(){return JSON.stringify([g,g,g])},q:function(){var a=[];a.push(this.S);a.push(this.fa);a.push(this.Ua);return JSON.stringify(a)}}),nb=B.extend({onEnter:function(){this._super();this.D(1);this.f.runAction(cc.Sequence.create(cc.MoveBy.create(2,cc.p(200,0)),cc.CallFunc.create(this.removeFromParentAndCleanup,this.f,g)))},removeFromParentAndCleanup:function(a,b){a.removeFromParent(b)},title:m("cc.CallFunc + auto remove"),
d:m("cc.CallFunc + removeFromParentAndCleanup. Grossini dissapears in 2s"),B:2.1,Ca:l(),s:function(){return JSON.stringify([h])},q:function(){var a=[];a.push(this.getChildByTag(1));return JSON.stringify(a)}}),ob=B.extend({onEnter:function(){this._super();this.D(1);this.runAction(cc.CallFunc.create(function(a,b){this.S="Value is: "+b;this.log("Object:"+a+". "+this.S)},this,"Hello world"))},title:m("cc.CallFunc + parameters"),d:m("cc.CallFunc + parameters. Take a look at the console"),B:0.1,Ca:l(),
s:function(){return JSON.stringify(["Value is: Hello world"])},q:function(){var a=[];a.push(this.S);return JSON.stringify(a)}}),pb=B.extend({U:"a = cc.Spawn.create( a1, a2, ..., aN );",onEnter:function(){this._super();this.pb(1);this.f.runAction(cc.Spawn.create(cc.JumpBy.create(2,cc.p(300,0),50,4),cc.RotateBy.create(2,720)))},title:m("cc.Spawn: Jump + Rotate"),B:2.1,s:function(){return JSON.stringify([{x:360,y:u.height/2},720])},q:function(){var a=[];a.push(this.f.getPosition());a.push(this.f.getRotation());
return JSON.stringify(a)}}),qb=B.extend({U:"a = cc.RepeatForever.create( action_to_repeat );",onEnter:function(){this._super();this.D(1);this.f.runAction(cc.Sequence.create(cc.DelayTime.create(1),cc.CallFunc.create(this.Bh)))},Bh:function(a){var b=cc.RepeatForever.create(cc.RotateBy.create(1,360));a.runAction(b)},title:m("cc.CallFunc + cc.RepeatForever"),B:3.5,s:function(){return JSON.stringify([g])},q:function(){var a=[],b=this.f.getRotation();a.push(915>b&&885<b);return JSON.stringify(a)}}),rb=
B.extend({U:"a = cc.Repeat.create( action_to_repeat, #_of_times );",onEnter:function(){this._super();this.D(2);var a=cc.RotateTo.create(0.5,90),b=cc.RotateTo.create(0.5,0),b=cc.Sequence.create(a,b),a=cc.RepeatForever.create(b),b=cc.Repeat.create(b.copy(),4);this.j.runAction(a);this.m.runAction(b)},title:m("Repeat/RepeatForever + RotateTo"),B:4.5,s:function(){return JSON.stringify([0,g])},q:function(){var a=[];a.push(this.m.getRotation());var b=this.j.getRotation();a.push(105>b&&75<b);return JSON.stringify(a)}}),
sb=B.extend({onEnter:function(){this._super();this.D(2);var a=cc.Sequence.create(cc.RotateTo.create(0.5,-20),cc.RotateTo.create(0.5,20)),b=cc.Repeat.create(a,10),a=cc.RepeatForever.create(a.copy());this.j.runAction(b);this.m.runAction(a)},title:m("RepeatForever / Repeat + Rotate")}),tb=B.extend({U:"a = action.reverse();",onEnter:function(){this._super();this.pb(1);var a=cc.JumpBy.create(2,cc.p(300,0),50,4),b=cc.DelayTime.create(0.25);this.f.runAction(cc.Sequence.create(a,b,a.reverse()))},title:m("Reverse Jump action"),
B:4.4,Ca:function(){this.scheduleOnce(this.na,2.1)},na:function(){this.S=this.f.getPosition()},s:function(){return JSON.stringify([{x:360,y:u.height/2},{x:60,y:u.height/2}])},q:function(){var a=[];a.push(this.S);a.push(this.f.getPosition());return JSON.stringify(a)}}),ub=B.extend({U:"a = cc.DelayTime.create( time );",onEnter:function(){this._super();this.pb(1);var a=cc.MoveBy.create(1,cc.p(150,0));this.f.runAction(cc.Sequence.create(a,cc.DelayTime.create(2),a.copy()))},title:m("DelayTime: m + delay + m"),
B:2.9,s:function(){return JSON.stringify([{x:210,y:u.height/2}])},q:function(){var a=[];a.push(this.f.getPosition());return JSON.stringify(a)}}),vb=B.extend({onEnter:function(){this._super();this.pb(1);var a=cc.MoveBy.create(1,cc.p(250,0)),b=cc.MoveBy.create(1,cc.p(0,50)),a=cc.Sequence.create(a,b,a.reverse());this.f.runAction(cc.Sequence.create(a,a.reverse()))},d:m("Reverse a sequence")}),wb=B.extend({onEnter:function(){this._super();this.pb(2);var a=cc.MoveBy.create(3,cc.p(250,0)),b=cc.MoveBy.create(3,
cc.p(0,50)),c=cc.ToggleVisibility.create(),d=cc.ToggleVisibility.create(),a=cc.Sequence.create(a,c,b,d,a.reverse());this.m.runAction(cc.Repeat.create(cc.Sequence.create(a,a.reverse()),3));a=cc.MoveBy.create(1,cc.p(100,0));b=cc.MoveBy.create(1,cc.p(50,0));c=cc.Hide.create();a=cc.Sequence.create(a,c,b);b=a.reverse();this.j.runAction(cc.Sequence.create(a,b))},d:m("Reverse sequence 2")}),xb=B.extend({onEnter:function(){this._super();this.pb(2);var a=cc.MoveBy.create(1,cc.p(150,0)),b=cc.Repeat.create(cc.Sequence.create(cc.Place.create(cc.p(60,
60)),a),3),a=cc.RepeatForever.create(cc.Sequence.create(a.copy(),a.reverse(),cc.DelayTime.create(0.25)));this.m.runAction(b);this.j.runAction(a)},title:m("Repeat / RepeatForever actions"),B:4.3,s:function(){return JSON.stringify([{x:210,y:60},{x:60,y:2*u.height/3}])},q:function(){var a=[];a.push(this.m.getPosition());a.push(this.j.getPosition());return JSON.stringify(a)}}),yb=B.extend({onEnter:function(){this._super();this.D(3);var a=cc.OrbitCamera.create(2,1,0,0,180,0,0),a=cc.Sequence.create(a,a.reverse()),
b=cc.OrbitCamera.create(2,1,0,0,180,-45,0),b=cc.Sequence.create(b,b.reverse()),c=cc.OrbitCamera.create(2,1,0,0,180,90,0),c=cc.Sequence.create(c,c.reverse());this.m.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(b));this.f.runAction(cc.RepeatForever.create(c));a=cc.MoveBy.create(3,cc.p(100,-100));b=a.reverse();a=cc.Sequence.create(a,b);a=cc.RepeatForever.create(a);this.m.runAction(a);this.j.runAction(a.copy());this.f.runAction(a.copy())},d:m("OrbitCamera action")}),
zb=B.extend({onEnter:function(){this._super();this.D(1);var a=r.getWinSize();this.f.setPosition(-(a.width/2),a.height/2);var b=cc.MoveBy.create(2,cc.p(3*a.width,0)),c=b.reverse(),b=cc.Sequence.create(b,c);this.f.runAction(cc.RepeatForever.create(b));this.runAction(cc.Follow.create(this.f,cc.rect(0,0,2*a.width-100,a.height)))},d:m("Follow action")}),Ab=B.extend({xc:h,U:" a = cc.CadinalSplineBy.create( time, array_of_points, tension );\n a = cc.CadinalSplineTo.create( time, array_of_points, tension );",
ctor:function(){this._super();this.xc=[]},onEnter:function(){this._super();this.D(2);var a=cc.DelayTime.create(0.25),b=[cc.p(0,0),cc.p(u.width/2-30,0),cc.p(u.width/2-30,u.height-80),cc.p(0,u.height-80),cc.p(0,0)],c=cc.CardinalSplineBy.create(2,b,0),d=c.reverse(),c=cc.Sequence.create(c,a,d,a.copy());this.j.setPosition(50,50);this.j.runAction(c);c=cc.CardinalSplineBy.create(2,b,1);d=c.reverse();a=cc.Sequence.create(c,a.copy(),d,a.copy());this.m.setPosition(u.width/2,50);this.m.runAction(a);this.xc=
b},draw:function(a){this._super();var a=a||cc.renderContext,b=this.getAnchorPointInPoints();a.save();a.translate(50-b.x,b.y-50);cc.drawingUtil.drawCardinalSpline(this.xc,0,100);a.restore();var c=r.getWinSize();a.save();a.translate(c.width/2-b.x,b.y-50);cc.drawingUtil.drawCardinalSpline(this.xc,1,100);a.restore()},d:m("Cardinal Spline paths. Testing different tensions for one array"),title:m("CardinalSplineBy / CardinalSplineAt"),B:2.1,Ca:function(){this.scheduleOnce(this.na,0.5);this.scheduleOnce(this.Ga,
1);this.scheduleOnce(this.Jd,1.5)},na:function(){this.S=this.j.getPosition()},pc:function(){var a=Math.abs(50-this.S.y);return 5>Math.abs(50+u.width/2-30-this.S.x)&&5>a},Ga:function(){this.fa=this.j.getPosition()},qc:function(){var a=Math.abs(50+u.height-80-this.fa.y);return 5>Math.abs(50+u.width/2-30-this.fa.x)&&5>a},Jd:function(){this.Ua=this.j.getPosition()},he:function(){var a=Math.abs(50+u.height-80-this.Ua.y);return 5>Math.abs(50-this.Ua.x)&&5>a},s:function(){return JSON.stringify([g,g,g,{x:50,
y:50}])},q:function(){var a=[];a.push(this.pc());a.push(this.qc());a.push(this.he());a.push(this.j.getPosition());return JSON.stringify(a)}}),Bb=B.extend({Bd:h,Cd:h,U:"a = cc.CatmullRomBy.create( time, array_of_points );\n a = cc.CatmullRomTo.create( time, array_of_points );",ctor:function(){this._super();this.Bd=[];this.Cd=[]},onEnter:function(){this._super();this.D(2);var a=cc.DelayTime.create(0.25);this.j.setPosition(50,50);var b=[cc.p(0,0),cc.p(80,80),cc.p(u.width-80,80),cc.p(u.width-80,u.height-
80),cc.p(80,u.height-80),cc.p(80,80),cc.p(u.width/2,u.height/2)],c=cc.CatmullRomBy.create(3,b),d=c.reverse();this.j.runAction(cc.Sequence.create(c,a,d));var c=[cc.p(u.width/2,30),cc.p(u.width-80,30),cc.p(u.width-80,u.height-80),cc.p(u.width/2,u.height-80),cc.p(u.width/2,30)],d=cc.CatmullRomTo.create(3,c),f=d.reverse();this.m.runAction(cc.Sequence.create(d,a.copy(),f));this.Bd=b;this.Cd=c},draw:function(a){this._super();var a=a||cc.renderContext,b=this.getAnchorPointInPoints();a.save();a.translate(50-
b.x,b.y-50);cc.drawingUtil.drawCatmullRom(this.Bd,50);a.restore();a.save();a.translate(-b.x,b.y);cc.drawingUtil.drawCatmullRom(this.Cd,50);a.restore()},d:m("Catmull Rom spline paths. Testing reverse too"),title:m("CatmullRomBy / CatmullRomTo"),B:3.1,Ca:function(){this.scheduleOnce(this.na,0);this.scheduleOnce(this.Ga,0.75);this.scheduleOnce(this.Jd,1.5)},na:function(){this.S=this.m.getPosition()},pc:function(){var a=Math.abs(30-this.S.y);return 5>Math.abs(u.width/2-this.S.x)&&5>a},Ga:function(){this.fa=
this.m.getPosition()},qc:function(){var a=Math.abs(30-this.fa.y);return 5>Math.abs(u.width-80-this.fa.x)&&5>a},Jd:function(){this.Ua=this.m.getPosition()},he:function(){var a=Math.abs(u.height-80-this.Ua.y);return 5>Math.abs(u.width-80-this.Ua.x)&&5>a},s:function(){return JSON.stringify([g,g,g,{x:u.width/2,y:30}])},q:function(){var a=[];a.push(this.pc());a.push(this.qc());a.push(this.he());a.push(this.m.getPosition());return JSON.stringify(a)}}),Cb=B.extend({U:"a = cc.TargetedAction.create( target, action );",
onEnter:function(){this._super();this.D(2);var a=cc.JumpBy.create(2,cc.p(0,0),100,3),b=a.copy(),c=cc.RotateBy.create(1,360),d=c.copy(),b=cc.TargetedAction.create(this.m,b),d=cc.TargetedAction.create(this.m,d),a=cc.Sequence.create(a,b,c,d);this.j.runAction(cc.RepeatForever.create(a))},title:m("Action that runs on another target. Useful for sequences"),d:m("ActionTargeted")}),Db=B.extend({onEnter:function(){this._super();this.D(2);var a=cc.JumpBy.create(2,cc.p(0,0),100,3),b=a.copy(),b=cc.TargetedAction.create(this.m,
b).copy();this.j.runAction(cc.Sequence.create(a,b))},title:m("Action that runs on another target. Useful for sequences"),d:m("Testing copy on TargetedAction")}),Eb=B.extend({onEnter:function(){this._super();this.D(1);this.f.setPosition(40,u.height/2);var a=cc.MoveBy.create(0.2,cc._p(0,50)),b=a.reverse();cc.DelayTime.create(0.25);a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=cc.MoveBy.create(2,cc._p(u.width-80,0));b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},
title:m("Stackable actions: MoveBy + MoveBy"),d:m("Grossini shall move up and down while moving horizontally"),B:0.2,s:function(){return JSON.stringify([g,g])},q:function(){var a=[],b=this.f.getPosition(),c=40+0.2*(u.width-80)/2,d=u.height/2+50,d=b.y<d+10&&b.y>d-10;a.push(b.x<c+10&&b.x>c-10);a.push(d);return JSON.stringify(a)}}),Fb=B.extend({onEnter:function(){this._super();this.D(1);this.f.setPosition(40,u.height/2);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);
this.f.runAction(cc.RepeatForever.create(a));a=cc.JumpBy.create(2,cc._p(u.width-80,0),90,5);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + JumpBy"),d:m("Grossini shall shake while he is jumping")}),Gb=B.extend({onEnter:function(){this._super();this.D(1);this.f.setPosition(40,u.height/2);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,u.height/
2),cc.p(u.width-80,-u.height/2),cc.p(u.width-80,100)];a=cc.BezierBy.create(3,a);this.f.runAction(cc.RepeatForever.create(cc.Sequence.create(a,a.reverse())))},title:m("Stackable actions: MoveBy + BezierBy"),d:m("Grossini shall shake while he moves along a bezier path")}),Hb=B.extend({onEnter:function(){this._super();this.D(1);this.f.setPosition(40,40);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,0),cc.p(80,80),
cc.p(u.width-80,80),cc.p(u.width-80,u.height-80),cc.p(80,u.height-80),cc.p(80,80),cc.p(u.width/2,u.height/2)];a=cc.CatmullRomBy.create(6,a);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + CatmullRomBy"),d:m("Grossini shall shake while he moves along a CatmullRom path")}),Ib=B.extend({onEnter:function(){this._super();this.D(1);this.f.setPosition(40,40);var a=cc.MoveBy.create(0.05,cc._p(8,8)),b=a.reverse(),a=cc.Sequence.create(a,
b);this.f.runAction(cc.RepeatForever.create(a));a=[cc.p(0,0),cc.p(80,80),cc.p(u.width-80,80),cc.p(u.width-80,u.height-80),cc.p(80,u.height-80),cc.p(80,80),cc.p(u.width/2,u.height/2)];a=cc.CardinalSplineBy.create(6,a,0.9);b=a.reverse();a=cc.Sequence.create(a,b);this.f.runAction(cc.RepeatForever.create(a))},title:m("Stackable actions: MoveBy + CardinalSplineBy"),d:m("Grossini shall shake while he moves along a CardinalSpline path")}),Jb=B.extend({ve:[],onEnter:function(){this._super();this.D(2);this.j.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,
360)));this.f.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,-360)));this.m.runAction(cc.RepeatForever.create(cc.RotateBy.create(3,360)));this.schedule(this.pause,3,j,0);this.schedule(this.resume,5,j,0)},pause:function(){cc.log("Pausing");this.ve=r.getActionManager().pauseAllRunningActions()},resume:function(){cc.log("Resuming");r.getActionManager().resumeTargets(this.ve)},title:m("PauseResumeActions"),d:m("All actions pause at 3s and resume at 5s")}),Kb=B.extend({yv:h,onEnter:function(){this._super();
this.D(0);this.Fd=cc.Sprite.create("res/Images/grossini.png");this.Fd.runAction(cc.CallFunc.create(this.Jg,this));this.scheduleOnce(this.zg,2)},onExit:function(){this._super()},Jg:function(){cc.log("This message SHALL ONLY appear when the sprite is added to the scene, NOT BEFORE")},zg:function(){this.Fd.setPosition(250,250);this.addChild(this.Fd)},title:m("Issue 1305"),d:m("In two seconds you should see a message on the console. NOT BEFORE.")}),Lb=B.extend({onEnter:function(){this._super();this.D(0);
var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(200,200);this.addChild(a);var b=cc.MoveBy.create(2,cc.p(0,100)),c=cc.CallFunc.create(this.Kg),d=cc.MoveBy.create(2,cc.p(0,-100)),f=cc.CallFunc.create(this.Lg,this),i=cc.MoveBy.create(2,cc.p(100,-100)),k=cc.CallFunc.create(this.Mg.bind(this)),o=cc.MoveBy.create(2,cc.p(-100,0)),q=cc.CallFunc.create(this.Ng,this),b=cc.Sequence.create(b,c,d,f,i,k,o,q);r.getActionManager().addAction(b,a,j)},Kg:function(){cc.log("1st block")},Lg:function(){cc.log("2nd block")},
Mg:function(){cc.log("3rd block")},Ng:function(){cc.log("4th block")},title:m("Issue 1305 #2"),d:m("See console. You should only see one message for each block")}),Mb=B.extend({onEnter:function(){this._super();this.D(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,100);this.addChild(a);var b=cc.MoveBy.create(0.5,cc.p(100,0)),c=b.reverse(),b=cc.Sequence.create(b,c),b=cc.Repeat.create(b,2);a.runAction(b)},title:m("Issue 1288"),d:m("Sprite should end at the position where it started.")}),
Nb=B.extend({onEnter:function(){this._super();this.D(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,100);this.addChild(a);var b=cc.MoveBy.create(0.5,cc.p(100,0));a.runAction(cc.Repeat.create(b,1))},title:m("Issue 1288 #2"),d:m("Sprite should move 100 pixels, and stay there")}),Ob=B.extend({onEnter:function(){this._super();this.D(0);var a=cc.Sprite.create("res/Images/grossini.png");a.setPosition(100,100);this.addChild(a);var b=cc.CallFunc.create(this.ec),c=cc.RotateBy.create(0.25,
45),d=cc.CallFunc.create(this.ec,this),f=cc.RotateBy.create(0.25,45),i=cc.CallFunc.create(this.ec.bind(this)),k=cc.RotateBy.create(0.25,45),o=cc.CallFunc.create(this.ec),q=cc.RotateBy.create(0.25,45),v=cc.CallFunc.create(this.ec),b=cc.Sequence.create(b,c,d,f,i,k,o,q,v);a.runAction(b)},ec:function(a){cc.log(a.getRotation())},title:m("Issue 1327"),d:m("See console: You should see: 0, 45, 90, 135, 180")}),Pb=B.extend({onEnter:function(){this._super();this.D(2);for(var a=cc.Animation.create(),b=0;4>b;b++)for(var c=
1;15>c;c++)a.addSpriteFrameWithFile("res/Images/grossini_dance_"+(10>c?"0"+c:c)+".png");a.setDelayPerUnit(1/60);a.setRestoreOriginalFrame(g);this.m.runAction(cc.Animate.create(a));a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");a=a.getAnimation("dance_1");a.setDelayPerUnit(1/60);a=cc.Animate.create(a);this.j.runAction(cc.Sequence.create(a,a.reverse()))},title:m("Animation"),d:m("Issue 1438. Set FPS to 30 to test this bug.")}),Qb=B.extend({title:m("Sequence + Speed in 'reverse mode'"),
d:m("Issue #1446. 'Hello World' should be visible for only 0.1 seconds"),onEnter:function(){this._super();this.D(0);var a=this.label=cc.LabelTTF.create("Hello World","Marker Felt",64);a.setPosition(u.width/2,u.height/2);a.setOpacity(0);this.addChild(a);this.Id=cc.Speed.create(cc.Sequence.create(cc.DelayTime.create(2),cc.FadeTo.create(1,255),cc.DelayTime.create(2)),1);a.runAction(this.Id);this.scheduleOnce(this.Th,0.1)},Th:function(){this.Id.getInnerAction().step(2.5);this.Id.setSpeed(-10)}}),Va=[Wa,
Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,Ab,Bb,gb,hb,ib,kb,lb,pb,tb,ub,xb,qb,rb,sb,mb,nb,ob,vb,wb,yb,zb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,jb,Pb,Qb];function Ta(){A++;A%=Va.length;return new Va[A]}function Ua(){A--;0>A&&(A+=Va.length);return new Va[A]};var C=-1;function D(){y.call(this,cc.k(0,0,0,255),cc.k(49,49.5,58.5,255));this.e="No title";this.h="No Subtitle";var a=cc.MenuItemFont.create("Physics On/Off",this.kh,this);a.setFontSize(24);a=cc.Menu.create(a);this.addChild(a);a.setPosition(cc._p(u.width-100,u.height-90));this.z=new cp.Space;this.hb=cc.PhysicsDebugNode.create(this.z);this.hb.setVisible(j);this.addChild(this.hb)}cc.inherits(D,y);n=D.prototype;n.kh=function(){this.hb.setVisible(!this.hb.isVisible())};
n.onEnter=function(){y.prototype.onEnter.call(this);sys.dumpRoot();sys.garbageCollect()};n.J=function(){this.unscheduleUpdate();var a=new ja;a.addChild(new Rb[C]);r.replaceScene(a)};n.I=function(){this.unscheduleUpdate();var a=new ja;a.addChild(Sb());r.replaceScene(a)};n.H=function(){this.unscheduleUpdate();var a=new ja;a.addChild(Tb());r.replaceScene(a)};n.M=function(){return Rb.length-1-C};n.K=function(){return C};
function Ub(){D.call(this);this.Ta=function(a){this.addChild(this.createPhysicsSprite(a))};this.e="Chipmunk Sprite Test";this.h="Chipmunk + cocos2d sprites tests. Tap screen.";this.qb()}cc.inherits(Ub,D);n=Ub.prototype;
n.qb=function(){for(var a=this.z,b=a.staticBody,b=[new cp.SegmentShape(b,cp.v(0,0),cp.v(u.width,0),0),new cp.SegmentShape(b,cp.v(0,u.height),cp.v(u.width,u.height),0),new cp.SegmentShape(b,cp.v(0,0),cp.v(0,u.height),0),new cp.SegmentShape(b,cp.v(u.width,0),cp.v(u.width,u.height),0)],c=0;c<b.length;c++){var d=b[c];d.setElasticity(1);d.setFriction(1);a.addStaticShape(d)}a.gravity=cp.v(0,-100)};
n.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.z.addBody(b);a=new cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.z.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b);return a};n.onEnter=function(){D.prototype.onEnter.call(this);this.scheduleUpdate();for(var a=0;10>a;a++)this.Ta(cp.v(u.width/2,u.height/2));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)};
n.update=function(a){this.z.step(a)};n.onMouseDown=function(a){this.Ta(a.getLocation())};n.onTouchesEnded=function(a){for(var b=a.length,c=0;c<b;c++)this.Ta(a[c].getLocation())};function Vb(){Ub.call(this);this.Xb=cc.SpriteBatchNode.create("res/Images/grossini.png",50);this.addChild(this.Xb);this.Ta=function(a){this.Xb.addChild(this.createPhysicsSprite(a))};this.e="Chipmunk SpriteBatch Test";this.h="Chipmunk + cocos2d sprite batch tests. Tap screen."}cc.inherits(Vb,Ub);
function Wb(){D.call(this);this.e="Chipmunk Collision test";this.h="Using Object Oriented API. ** Use this API **";this.qb=function(){for(var a=this.z.staticBody,a=[new cp.SegmentShape(a,cp.v(0,0),cp.v(u.width,0),0),new cp.SegmentShape(a,cp.v(0,u.height),cp.v(u.width,u.height),0),new cp.SegmentShape(a,cp.v(0,0),cp.v(0,u.height),0),new cp.SegmentShape(a,cp.v(u.width,0),cp.v(u.width,u.height),0)],b=0;b<a.length;b++){var c=a[b];c.setElasticity(1);c.setFriction(1);this.z.addStaticShape(c)}this.z.gravity=
cp.v(0,-100);this.z.iterations=15};this.createPhysicsSprite=function(a,b,c){var d=new cp.Body(1,cp.momentForBox(1,48,108));d.setPos(a);this.z.addBody(d);a=new cp.BoxShape(d,48,108);a.setElasticity(0.5);a.setFriction(0.5);a.setCollisionType(c);this.z.addShape(a);b=cc.PhysicsSprite.create(b);b.setBody(d);return b};this.onEnter=function(){D.prototype.onEnter.call(this);this.qb();this.scheduleUpdate();var a=this.createPhysicsSprite(cc.p(u.width/2,u.height-20),"res/Images/grossini.png",1),b=this.createPhysicsSprite(cc.p(u.width/
2,50),"res/Images/grossinis_sister1.png",2);this.addChild(a);this.addChild(b);this.z.addCollisionHandler(1,2,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};this.onExit=function(){this.z.removeCollisionHandler(1,2)};this.update=function(a){this.z.step(a)};this.collisionBegin=function(a){if(!this.Sc){var b=cc.LabelBMFont.create("Collision Detected","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(u.width/2,
u.height/2);this.Sc=g}cc.log("collision begin");a=a.getShapes();b=a[1].collision_type;cc.log("Collision Type A:"+a[0].collision_type);cc.log("Collision Type B:"+b);return g};this.collisionPre=function(){cc.log("collision pre");return g};this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")}}cc.inherits(Wb,D);
function Xb(){D.call(this);this.Sc=j;this.e="Chipmunk Collision Test";this.h='using "C"-like API. ** DO NOT USE THIS API **';this.qb=function(){this.z=cp.spaceNew();this.hb.setSpace(this.z);for(var a=cp.spaceGetStaticBody(this.z),a=[cp.segmentShapeNew(a,cp.v(0,0),cp.v(u.width,0),0),cp.segmentShapeNew(a,cp.v(0,u.height),cp.v(u.width,u.height),0),cp.segmentShapeNew(a,cp.v(0,0),cp.v(0,u.height),0),cp.segmentShapeNew(a,cp.v(u.width,0),cp.v(u.width,u.height),0)],b=0;b<a.length;b++){var c=a[b];cp.shapeSetElasticity(c,
1);cp.shapeSetFriction(c,1);cp.spaceAddStaticShape(this.z,c)}cp.spaceSetGravity(this.z,cp.v(0,-30))};this.createPhysicsSprite=function(a,b,c){var d=cp.bodyNew(1,cp.momentForBox(1,48,108));cp.bodySetPos(d,a);cp.spaceAddBody(this.z,d);a=cp.boxShapeNew(d,48,108);cp.shapeSetElasticity(a,0.5);cp.shapeSetFriction(a,0.5);cp.shapeSetCollisionType(a,c);cp.spaceAddShape(this.z,a);b=cc.PhysicsSprite.create(b);b.setBody(d);return b};this.onEnter=function(){D.prototype.onEnter.call(this);this.qb();this.scheduleUpdate();
var a=this.createPhysicsSprite(cc.p(u.width/2,u.height-20),"res/Images/grossini.png",1),b=this.createPhysicsSprite(cc.p(u.width/2,50),"res/Images/grossinis_sister1.png",2);this.addChild(a);this.addChild(b);cp.spaceAddCollisionHandler(this.z,1,2,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};this.onExit=function(){cp.spaceRemoveCollisionHandler(this.z,1,2);cp.spaceFree(this.z)};this.update=function(a){cp.spaceStep(this.z,
a)};this.collisionBegin=function(a){if(!this.Sc){var b=cc.LabelBMFont.create("Collision Detected","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(u.width/2,u.height/2);this.Sc=g}cc.log("collision begin");cp.arbiterGetBodies(a);b=cp.arbiterGetShapes(a);a=cp.shapeGetCollisionType(b[0]);b=cp.shapeGetCollisionType(b[1]);cc.log("Collision Type A:"+a);cc.log("Collision Type B:"+b);return g};this.collisionPre=function(){cc.log("collision pre");return g};this.collisionPost=function(){cc.log("collision post")};
this.collisionSeparate=function(){cc.log("collision separate")}}cc.inherits(Xb,D);
function Yb(){D.call(this);this.e="Chipmunk Memory Leak Test";this.h="Testing possible memory leak on the collision handler. No visual feedback";this.collisionBegin=m(g);this.collisionPre=m(g);this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")};this.onEnter=function(){D.prototype.onEnter.call(this);for(var a=1;100>a;a++)this.z.addCollisionHandler(a,a+1,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),
this.collisionSeparate.bind(this))};this.onExit=function(){D.prototype.onExit.call(this);for(var a=1;100>a;a++)this.z.removeCollisionHandler(a,a+1)}}cc.inherits(Yb,D);
function Zb(){D.call(this);this.e="AnchorPoint in PhysicsSprite";this.h="Tests AnchorPoint in PhysicsSprite. See animated sprites";this.onEnter=function(){D.prototype.onEnter.call(this);this.hb.setVisible(g);this.z.gravity=E(0,0);var a=this.createPhysicsSprite(cp.v(1*(u.width/4),u.height/2)),b=this.createPhysicsSprite(cp.v(2*(u.width/4),u.height/2)),c=this.createPhysicsSprite(cp.v(3*(u.width/4),u.height/2));a.setAnchorPoint(cc.p(0,0));b.setAnchorPoint(cc.p(0.5,0.5));c.setAnchorPoint(cc.p(1,1));var d=
cc.ScaleBy.create(0.5,0.5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);a.runAction(d);b.runAction(d.copy());c.runAction(d.copy());this.addChild(a);this.addChild(b);this.addChild(c);this.scheduleUpdate()}}cc.inherits(Zb,D);
Zb.prototype.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.z.addBody(b);a=new cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.z.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b);return a};Zb.prototype.update=function(a){for(var a=a/1,b=0;1>b;b++)this.z.step(a)};
function $b(){D.call(this);this.e="Chipmunk Release Test";this.h="Space finalizer should be called";this.collisionBegin=m(g);this.collisionPre=m(g);this.collisionPost=function(){cc.log("collision post")};this.collisionSeparate=function(){cc.log("collision separate")};this.onEnter=function(){D.prototype.onEnter.call(this);cc.log("OnEnter");sys.dumpRoot();sys.garbageCollect();this.z.addCollisionHandler(10,11,this.collisionBegin.bind(this),this.collisionPre.bind(this),this.collisionPost.bind(this),this.collisionSeparate.bind(this))};
this.onExit=function(){cc.log("OnExit");this.z=h;sys.dumpRoot();sys.garbageCollect();D.prototype.onExit.call(this)}}cc.inherits($b,D);var E=cp.v;function ac(){D.call(this);this.hb.setVisible(g);this.scheduleUpdate()}cc.inherits(ac,D);ac.prototype.update=function(a){this.z.step(a)};function bc(a){a=a.z;a=a.addShape(new cp.SegmentShape(a.staticBody,E(0,0),E(640,0),0));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}
function dc(a){var a=a.z,b=a.addShape(new cp.SegmentShape(a.staticBody,E(0,0),E(0,480),0));b.setElasticity(1);b.setFriction(1);b.setLayers(2147483647);a=a.addShape(new cp.SegmentShape(a.staticBody,E(640,0),E(640,480),0));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}
function ec(){ac.call(this);this.h="Chipmunk Demo";this.e="Pyramid Stack";var a=this.z;a.gravity=E(0,-100);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;var b;bc(this);dc(this);for(var c=0;14>c;c++)for(var d=0;d<=c;d++)b=a.addBody(new cp.Body(1,cp.momentForBox(1,30,30))),b.setPos(E(32*d-16*c+320,540-32*c)),b=a.addShape(new cp.BoxShape(b,30,30)),b.setElasticity(0),b.setFriction(0.8);b=a.addBody(new cp.Body(10,cp.momentForCircle(10,0,15,E(0,0))));b.setPos(E(320,20));b=a.addShape(new cp.CircleShape(b,
15,E(0,0)));b.setElasticity(0);b.setFriction(0.9)}cc.inherits(ec,ac);
function fc(){function a(a,c){var d=cp.momentForBox(1,4,30),d=b.addBody(new cp.Body(1,d));d.setPos(a);d=c?new cp.BoxShape(d,30,4):new cp.BoxShape(d,4,30);b.addShape(d);d.setElasticity(0);d.setFriction(0.6)}ac.call(this);this.h="Chipmunk Demo";this.e="Pyramid Topple";var b=this.z;b.iterations=30;b.gravity=E(0,-300);b.sleepTimeThreshold=0.5;b.collisionSlop=0.5;bc(this);for(var c=0;12>c;c++)for(var d=0;d<12-c;d++){var f=E(320+45*(d-0.5*(11-c)),38*(c+0.5)-4);a(f,j);a(cp.v.add(f,E(0,17)),g);0===d&&a(cp.v.add(f,
E(-13,34)),j);d!=12-c-1?a(cp.v.add(f,E(22.5,21)),g):a(cp.v.add(f,E(13,34)),j)}}cc.inherits(fc,ac);fc.prototype.update=function(a){for(var a=a/3,b=0;3>b;b++)this.z.step(a)};
function gc(){function a(a){labels.push({text:a,Wv:q})}function b(){return cp.v.add(q,N)}function c(){return cp.v.add(q,J)}function d(a){var b=o.addBody(new cp.Body(1,cp.momentForCircle(1,0,15,E(0,0))));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.CircleShape(b,15,E(0,0)));a.setElasticity(0);a.setFriction(0.7);a.group=1;return b}function f(a){var b=E(0,30),c=E(0,-30),d=o.addBody(new cp.Body(2,cp.momentForSegment(2,b,c)));d.setPos(cp.v.add(a,q));a=o.addShape(new cp.SegmentShape(d,b,c,5));a.setElasticity(0);
a.setFriction(0.7);return d}function i(a){var b=E(0,15),c=E(0,-15),d=o.addBody(new cp.Body(1,cp.momentForSegment(1,b,c)));d.setPos(cp.v.add(a,cp.v.add(q,cp.v(0,-15))));a=o.addShape(new cp.SegmentShape(d,b,c,5));a.setElasticity(0);a.setFriction(0.7);return d}function k(a){var b=o.addBody(new cp.Body(1,cp.momentForCircle(1,0,15,E(0,0))));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.CircleShape(b,15,E(0,0)));a.setElasticity(0);a.setFriction(0.7);return b}ac.call(this);this.h="Chipmunk Demo";this.e="Joints";
var o=this.z,q;o.iterations=10;o.gravity=E(0,-100);o.sleepTimeThreshold=0.5;for(var v=o.staticBody,p,t=480;0<=t;t-=120)p=o.addShape(new cp.SegmentShape(v,E(0,t),E(640,t),0)),p.setElasticity(1),p.setFriction(1),p.xg=2147483647;for(t=0;640>=t;t+=160)p=o.addShape(new cp.SegmentShape(v,E(t,0),E(t,480),0)),p.setElasticity(1),p.setFriction(1),p.xg=2147483647;var J=E(50,60),N=E(110,60);labels=[];q=E(0,0);a("Pin Joint");p=k(J);t=k(N);t.setAngle(Math.PI);o.addConstraint(new cp.PinJoint(p,t,E(15,0),E(15,0)));
q=E(160,0);a("Slide Joint");p=k(J);t=k(N);t.setAngle(Math.PI);o.addConstraint(new cp.SlideJoint(p,t,E(15,0),E(15,0),20,40));q=E(320,0);a("Pivot Joint");p=k(J);t=k(N);t.setAngle(Math.PI);o.addConstraint(new cp.PivotJoint(p,t,cp.v.add(q,E(80,60))));q=E(480,0);a("Groove Joint");p=k(J);t=k(N);o.addConstraint(new cp.GrooveJoint(p,t,E(30,30),E(30,-30),E(-30,0)));q=E(0,120);a("Damped Spring");p=k(J);t=k(N);t.setAngle(Math.PI);o.addConstraint(new cp.DampedSpring(p,t,E(15,0),E(15,0),20,5,0.3));q=E(160,120);
a("Damped Rotary Spring");p=f(J);t=f(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,v,b()));o.addConstraint(new cp.DampedRotarySpring(p,t,0,3E3,60));q=E(320,120);a("Rotary Limit Joint");p=i(J);t=i(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,v,b()));o.addConstraint(new cp.RotaryLimitJoint(p,t,-Math.PI/2,Math.PI/2));q=E(480,120);a("Ratchet Joint");p=i(J);t=i(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,
v,b()));o.addConstraint(new cp.RatchetJoint(p,t,0,Math.PI/2));q=E(0,240);a("Gear Joint");p=f(J);t=f(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,v,b()));o.addConstraint(new cp.GearJoint(p,t,0,2));q=E(160,240);a("Simple Motor");p=f(J);t=f(N);o.addConstraint(new cp.PivotJoint(p,v,c()));o.addConstraint(new cp.PivotJoint(t,v,b()));o.addConstraint(new cp.SimpleMotor(p,t,Math.PI));q=E(320,240);v=d(J);p=d(N);t=function(a){var b=o.addBody(new cp.Body(5,cp.momentForBox(5,
80,30)));b.setPos(cp.v.add(a,q));a=o.addShape(new cp.BoxShape(b,80,30));a.setElasticity(0);a.setFriction(0.7);a.group=1;return b}(E(80,100));o.addConstraint(new cp.GrooveJoint(t,v,E(-30,-10),E(-30,-40),E(0,0)));o.addConstraint(new cp.GrooveJoint(t,p,E(30,-10),E(30,-40),E(0,0)));o.addConstraint(new cp.DampedSpring(t,v,E(-30,0),E(0,0),50,20,10));o.addConstraint(new cp.DampedSpring(t,p,E(30,0),E(0,0),50,20,10))}cc.inherits(gc,ac);
function hc(){ac.call(this);this.h="Chipmunk Demo";this.e="Balls";var a=this.z;a.iterations=60;a.gravity=E(0,-500);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;a.sleepTimeThreshold=0.5;bc(this);dc(this);var b=3,c=a.addBody(new cp.Body(b,cp.momentForBox(b,50,60)));c.setPos(E(500,100));c.setAngle(1);shape=a.addShape(new cp.BoxShape(c,50,60));shape.setFriction(0.3);shape.setElasticity(0.3);for(c=1;10>=c;c++)b=3,b=a.addBody(new cp.Body(b,cp.momentForCircle(b,0,20,E(0,0)))),b.setPos(E(200+c,45*c)),b=a.addShape(new cp.CircleShape(b,
20,E(0,0))),b.setElasticity(0.8),b.setFriction(1);a=a.addShape(new cp.SegmentShape(a.staticBody,E(100,100),E(300,200),10));a.setElasticity(1);a.setFriction(1);a.setLayers(2147483647)}cc.inherits(hc,ac);
function ic(){ac.call(this);this.h="Chipmunk Demo";this.e="Buoyancy";var a=this.z;a.iterations=30;a.gravity=cp.v(0,-500);a.sleepTimeThreshold=0.5;a.collisionSlop=0.5;var b=a.staticBody,c=a.addShape(new cp.SegmentShape(b,cp.v(0,0),cp.v(0,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(640,0),cp.v(640,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(0,0),cp.v(640,0),0));c.setElasticity(1);
c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(0,480),cp.v(640,480),0));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);var d=new cp.BB(20,40,420,240),c=a.addShape(new cp.SegmentShape(b,cp.v(d.l,d.b),cp.v(d.l,d.t),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(d.r,d.b),cp.v(d.r,d.t),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.SegmentShape(b,cp.v(d.l,d.b),cp.v(d.r,
d.b),5));c.setElasticity(1);c.setFriction(1);c.setLayers(2147483647);c=a.addShape(new cp.BoxShape2(b,d));c.setSensor(g);c.setCollisionType(1);var b=200,c=50,d=4.2E-5*b*c,f=cp.momentForBox(d,b,c);body=a.addBody(new cp.Body(d,f));body.setPos(cp.v(270,140));body.setVel(cp.v(0,-100));body.setAngVel(1);c=a.addShape(new cp.BoxShape(body,b,c));c.setFriction(0.8);b=40;c=2*b;d=4.2E-5*b*c;f=cp.momentForBox(d,b,c);body=a.addBody(new cp.Body(d,f));body.setPos(cp.v(120,190));body.setVel(cp.v(0,-100));body.setAngVel(1);
c=a.addShape(new cp.BoxShape(body,b,c));c.setFriction(0.8);a.addCollisionHandler(1,0,h,this.gi,h,h)}cc.inherits(ic,ac);ic.prototype.update=function(a){for(var a=a/3,b=0;3>b;b++)this.z.step(a)};
ic.prototype.gi=function(a,b){for(var c=a.getShapes(),d=c[0],f=c[1],c=f.getBody(),i=d.getBB().t,k=f.getNumVerts(),d=[],o=k-1,q=0;q<k;q++){var o=c.local2World(f.getVert(o)),v=c.local2World(f.getVert(q));o.y<i&&(d.push(o.x),d.push(o.y));var p=o.y-i,t=v.y-i;0>p*t&&(o=cp.v.lerp(o,v,Math.abs(p)/(Math.abs(p)+Math.abs(t))),d.push(o.x),d.push(o.y));o=q}f=cp.areaForPoly(d);k=1.4E-4*f;i=cp.centroidForPoly(d);q=cp.v.sub(i,c.getPos());i=b.getCurrentTimeStep();c.applyImpulse(cp.v.mult(b.gravity,-k*i),q);k=cp.v.add(c.getVel(),
cp.v.mult(cp.v.perp(q),c.w));c.applyImpulse(cp.v.mult(cp.v.sub(cp.v.mult(k,Math.exp(1*-(2.8E-4*f)*i)),k),1),q);d=cp.momentForPoly(2.8E-4*f,d,cp.v.neg(c.p));c.w*=Math.exp(-d*i*(1/c.i));return g};function ja(){x.call(this)}cc.inherits(ja,x);ja.prototype.G=function(){C=-1;this.addChild(Sb());r.replaceScene(this)};var Rb=[ic,ec,fc,gc,hc,Ub,Vb,Wb,Yb,Zb];"browser"!==sys.platform&&(Rb.push(Xb),Rb.push($b));function Sb(){C++;C=C%Rb.length;return new Rb[C]}
function Tb(){C--;C<0&&(C=C+Rb.length);return new Rb[C]};var ka=x.extend({G:function(){this.addChild(new jc);r.replaceScene(this)}}),jc=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/grossini.png"),b=cc.LayerColor.create(cc.k(255,255,0,100));this.addChild(b,-1);this.addChild(a,0,1);a.setPosition(20,150);a.runAction(cc.JumpTo.create(4,cc.p(300,48),100,4));var a=cc.FadeIn.create(1),
c=cc.FadeOut.create(1),a=cc.RepeatForever.create(cc.Sequence.create(a,c));b.runAction(a)},Oe:function(a){var b=this.getChildByTag(1);b.stopAllActions();b.runAction(cc.MoveTo.create(1,a));var c=b.getPosition(),d=a.x-c.x,a=a.y-c.y,c=Math.atan(d/a)*(180/Math.PI);0>a&&(c=0>d?180+Math.abs(c):180-Math.abs(c));b.runAction(cc.RotateTo.create(1,c%360))},onMouseUp:function(a){this.Oe(a.getLocation())},onTouchesEnded:function(a){0>=a.length||this.Oe(a[0].getLocation())}});var F=cc.AudioEngine.getInstance(),Dc=[{title:"Play Music",W:function(){return new kc}},{title:"Stop Music",W:function(){return new lc}},{title:"Pause Music",W:function(){return new mc}},{title:"Resume Music",W:function(){return new nc}},{title:"Rewind Music",W:function(){return new oc}},{title:"is Music Playing",W:function(){return new pc}},{title:"Increase Music Volume",W:function(){return new qc}},{title:"Decrease Music Volume",W:function(){return new rc}},{title:"Play Sound Effect",W:function(){return new sc}},
{title:"Repeat Sound Effect",W:function(){return new tc}},{title:"Stop Sound Effect",W:function(){return new uc}},{title:"Unload Sound Effect",W:function(){return new vc}},{title:"Increase Sound Effect Volume",W:function(){return new wc}},{title:"Decrease Sound Effect Volume",W:function(){return new xc}},{title:"Pause Sound Effect",W:function(){return new yc}},{title:"Resume Sound Effect",W:function(){return new zc}},{title:"Pause All Sound Effects",W:function(){return new Ac}},{title:"Resume All Sound Effects",
W:function(){return new Bc}},{title:"Stop All Sound Effects",W:function(){return new Cc}}];
CocosDenshionTest=cc.LayerGradient.extend({X:h,Uf:cc.p(0,0),ze:0,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.k(0,0,0,255),cc.k(148,80,120,255));this.X=cc.Menu.create();for(var a=r.getWinSize(),b=0;b<Dc.length;b++){var c=cc.LabelTTF.create(Dc[b].title,"Arial",24),c=cc.MenuItemLabel.create(c,this.aa,this);this.X.addChild(c,b+1E4);c.setPosition(a.width/2,a.height-(b+1)*ea)}this.ze=b;this.X.setContentSize(cc.size(a.width,(this.ze+1)*ea));this.X.setPosition(0,
0);this.addChild(this.X);"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);F.setEffectsVolume(0.5);F.setMusicVolume(0.5)},onExit:function(){this._super();cc.AudioEngine.end()},aa:function(a){a=a.getZOrder()-1E4;Dc[a].W()},onTouchesMoved:function(a){this.Nb(a[0].getDelta());return g},onMouseDragged:function(a){this.Nb(a.getDelta());return g},Nb:function(a){var b=this.X.getPosition(),a=b.y+a.y;0>a&&(a=0);a>(Dc.length+1)*ea-u.height&&(a=(Dc.length+
1)*ea-u.height);this.X.setPosition(b.x,a)}});CocosDenshionTestScene=x.extend({G:function(){F=cc.AudioEngine.getInstance();this.addChild(new CocosDenshionTest);r.replaceScene(this)}});var Ec=h;function kc(){cc.log("play background music");F.playMusic("res/Sound/background.mp3",j)}function lc(){cc.log("stop background music");F.stopMusic()}function mc(){cc.log("pause background music");F.pauseMusic()}function nc(){cc.log("resume background music");F.resumeMusic()}
function oc(){cc.log("rewind background music");F.rewindMusic()}function pc(){F.isMusicPlaying()?cc.log("background music is playing"):cc.log("background music is not playing")}function sc(){cc.log("play effect");Ec=F.playEffect("res/Sound/effect2.mp3")}function tc(){cc.log("play effect repeatly");Ec=F.playEffect("res/Sound/effect2.mp3",g)}function uc(){cc.log("stop effect");F.stopEffect(Ec)}function vc(){cc.log("unload effect");F.unloadEffect("res/Sound/effect2.mp3")}
function qc(){cc.log("add bakcground music volume");F.setMusicVolume(F.getMusicVolume()+0.1)}function rc(){cc.log("sub backgroud music volume");F.setMusicVolume(F.getMusicVolume()-0.1)}function wc(){cc.log("add effects volume");F.setEffectsVolume(F.getEffectsVolume()+0.1)}function xc(){cc.log("sub effects volume");F.setEffectsVolume(F.getEffectsVolume()-0.1)}function yc(){cc.log("pause effect");F.pauseEffect(Ec)}function zc(){cc.log("resume effect");F.resumeEffect(Ec)}
function Ac(){cc.log("pause all effects");F.pauseAllEffects()}function Bc(){cc.log("resume all effects");F.resumeAllEffects()}function Cc(){cc.log("stop all effects");F.stopAllEffects()};var G=1,H=2,Fc=3,I=-1,Jc=y.extend({ctor:function(){this._super()},title:m("No title"),d:m(""),J:function(){var a=new ua;a.addChild(new Gc[I]);r.replaceScene(a)},I:function(){var a=new ua;a.addChild(Hc());r.replaceScene(a)},H:function(){var a=new ua;a.addChild(Ic());r.replaceScene(a)},M:function(){return Gc.length-1-I},K:function(){return I}}),Kc=Jc.extend({onEnter:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png"),
c=cc.Sprite.create("res/Images/grossinis_sister1.png"),d=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,u.height/2));b.setPosition(cc.p(u.width-150,u.height/2));this.addChild(a);this.addChild(b);c.setScale(0.25);d.setScale(0.25);a.addChild(c);b.addChild(d);var d=cc.RotateBy.create(2,360),f=cc.ScaleBy.create(2,2),c=cc.RepeatForever.create(cc.Sequence.create(d,f,f.reverse())),d=cc.RepeatForever.create(cc.Sequence.create(d.copy(),f.copy(),f.reverse()));b.setAnchorPoint(cc.p(0,
0));a.runAction(c);b.runAction(d)},title:m("anchorPoint and children")}),Lc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,u.height/2));b.setPosition(cc.p(u.width-150,u.height/2));this.addChild(a,0,2);this.addChild(b,0,3);this.schedule(this.kg,2);this.schedule(this.He,4)},kg:function(){var a=this.getChildByTag(2),b=cc.RotateBy.create(1,360);a.runAction(b)},He:function(){this.unschedule(this.He);
this.removeChildByTag(3,j)},title:m("tags")}),Mc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister2.png");a.setPosition(cc.p(150,u.height/2));b.setPosition(cc.p(u.width-150,u.height/2));var c=cc.RotateBy.create(2,360),d=c.reverse(),c=cc.RepeatForever.create(cc.Sequence.create(c,d)),d=c.copy();c.setTag(101);d.setTag(102);this.addChild(a,0,G);this.addChild(b,0,H);a.runAction(c);b.runAction(d);this.schedule(this.Td,
2)},Td:function(){var a=this.getChildByTag(G),b=this.getChildByTag(H);a.retain();b.retain();this.removeChild(a,j);this.removeChild(b,g);this.addChild(a,0,G);this.addChild(b,0,H);a.release();b.release()},title:m("remove and cleanup")}),Nc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png"),b=cc.Sprite.create("res/Images/grossinis_sister1.png"),c=cc.Sprite.create("res/Images/grossinis_sister2.png"),d=cc.Sprite.create("res/Images/grossinis_sister2.png");
a.setPosition(cc.p(150,u.height/2));c.setPosition(cc.p(u.width-150,u.height/2));var f=cc.RotateBy.create(2,360),i=f.reverse(),f=cc.RepeatForever.create(cc.Sequence.create(f,i)),i=f.copy(),k=f.copy(),o=f.copy();this.addChild(a,0,G);a.addChild(b);this.addChild(c,0,H);c.addChild(d);a.runAction(f);b.runAction(i);c.runAction(k);d.runAction(o);this.schedule(this.Td,2)},Td:function(){var a=this.getChildByTag(G),b=this.getChildByTag(H);a.retain();b.retain();this.removeChild(a,j);this.removeChild(b,g);this.addChild(a,
0,G);this.addChild(b,0,H);a.release();b.release()},title:m("remove/cleanup with children")}),Oc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossinis_sister1.png");this.addChild(a,0,G);this.setContentSize(cc.size(0,0));a.setPosition(cc.p(u.width/2,u.height/2));this.schedule(this.Ue,1)},Ue:function(){this.unschedule(this.Ue);var a=cc.ParticleSun.create();a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));a.setPosition(cc.p(u.width/2,u.height/
2));this.runAction(cc.Sequence.create(cc.RotateBy.create(2,360),cc.CallFunc.create(this.Zg,this)));this.addChild(a)},Zg:function(a){this.getParent().removeChild(a,g);this.Uc(this)},title:m("stress test #1: no crashes")}),Pc=Jc.extend({ctor:function(){this._super();var a=cc.Layer.create(),b=cc.Sprite.create("res/Images/grossinis_sister1.png");b.setPosition(cc.p(80,u.height/2));var c=cc.MoveBy.create(3,cc.p(350,0)),c=cc.EaseInOut.create(c.copy(),2),d=c.reverse(),c=cc.Sequence.create(c,d);b.runAction(cc.RepeatForever.create(c));
a.addChild(b,1);b=cc.ParticleFire.create();b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.setPosition(cc.p(80,u.height/2-50));c=c.copy();b.runAction(cc.RepeatForever.create(c));a.addChild(b,2);this.schedule(this.gf,6);this.addChild(a,0,G)},gf:function(){this.unschedule(this.gf);this.getChildByTag(G).removeAllChildren()},title:m("stress test #2: no leaks")}),Qc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/background3.png");this.addChild(a,
-10);a.setAnchorPoint(cc.p(0,0));var b=a.getContentSize(),c=cc.MenuItemImage.create("res/Images/btn-play-normal.png","res/Images/btn-play-selected.png",this.Cg),d=cc.Menu.create(c);d.alignItemsVertically();d.setPosition(cc.p(b.width/2,b.height/2));a.addChild(d);b=cc.RotateBy.create(5,360);b=cc.RepeatForever.create(b);c.runAction(b);c=cc.MoveBy.create(3,cc.p(200,0));b=c.reverse();c=cc.Sequence.create(c,b);c=cc.RepeatForever.create(c);a.runAction(c)},Cg:function(){cc.log("On clicked")},title:m("nodeToParent transform")}),
Rc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/background3.png");this.addChild(a,0);a.setPosition(cc.p(u.width/2,u.height/2));a.setOpacity(128);s=a.getContentSize();var b=cc.Sprite.create("res/Images/grossini.png");b.setScale(0.5);a.addChild(b,0);b.setPosition(cc.p(1*(u.width/4),u.height/2));b.getCamera();var c=cc.OrbitCamera.create(2,1,0,0,360,0,0);b.runAction(cc.RepeatForever.create(c));b=cc.Sprite.create("res/Images/grossini.png");b.setScale(1);a.addChild(b,0);b.setPosition(cc.p(2*
(u.width/4),u.height/2));c=cc.OrbitCamera.create(2,1,0,0,360,45,0);b.runAction(cc.RepeatForever.create(c));b=cc.Sprite.create("res/Images/grossini.png");b.setScale(2);a.addChild(b,0);b.setPosition(cc.p(3*(u.width/4),u.height/2));b.getContentSize();c=cc.OrbitCamera.create(2,1,0,0,360,90,-45);b.runAction(cc.RepeatForever.create(c));c=cc.OrbitCamera.create(10,1,0,0,360,0,90);a.runAction(cc.RepeatForever.create(c));this.setScale(1)},onEnter:function(){this._super();r.setProjection(cc.Qb)},onExit:function(){r.setProjection(cc.$a);
this._super()},title:m("Camera Orbit test")}),Sc=Jc.extend({Wb:0,ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0);a.setPosition(cc.p(1*(u.width/4),u.height/2));a=a.getCamera();a.kc&&a.kc(0,0,415);a.Kh&&a.Kh(0,0,0);a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,40);a.setPosition(cc.p(2*(u.width/4),u.height/2));a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a,0,20);a.setPosition(cc.p(3*(u.width/4),u.height/2));this.Wb=0;
this.scheduleUpdate()},update:function(a){this.Wb+=100*a;a=this.getChildByTag(20);a=a.getCamera();a.kc&&a.kc(0,0,this.Wb);a=this.getChildByTag(40);a=a.getCamera();a.kc&&a.kc(0,0,this.Wb)},onEnter:function(){this._super();r.setProjection(cc.Qb)},onExit:function(){r.setProjection(cc.$a);this._super()},title:m("Camera Zoom test")}),Tc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create();this.addChild(a,0);a.setPosition(cc.p(1*(u.width/5),1*(u.height/5)));a.setColor(cc.o(255,0,0));a.setTextureRect(cc.rect(0,
0,120,50));var b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(1*(u.width/5),4*(u.height/5)));a.setColor(cc.o(0,0,255));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0);a.setPosition(cc.p(4*(u.width/5),1*(u.height/5)));a.setColor(cc.o(255,255,0));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,
1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(4*(u.width/5),4*(u.height/5)));a.setColor(cc.o(255,255,0));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b));a=cc.Sprite.create();this.addChild(a,0,40);a.setPosition(cc.p(u.width/2,u.height/2));a.setColor(cc.o(255,255,255));a.setTextureRect(cc.rect(0,0,120,50));b=cc.OrbitCamera.create(10,1,0,0,360,0,0);a.runAction(cc.RepeatForever.create(b))},
title:m("Camera Center test"),d:m("Sprites should rotate at the same speed")}),Uc=Jc.extend({ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);for(var a=cc.RotateBy.create(10,360),a=cc.RepeatForever.create(a),b=0;3>b;b++){var c=cc.Sprite.create("res/Images/grossini.png");c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,
10,100+b);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());d=a.copy();c.runAction(d);this.addChild(c,b)}},bf:function(a){for(var b=0;3>b;b++){var c=this.getChildByTag(100+b),d=c.convertToNodeSpaceAR(a),c=c.convertToNodeSpace(a);cc.log("AR: x="+d.x.toFixed(2)+", y="+d.y.toFixed(2)+" -- Not AR: x="+c.x.toFixed(2)+", y="+c.y.toFixed(2))}},onTouchesEnded:function(a){for(var b=0;b<a.length;b++)this.bf(a[b].getLocation())},
onMouseUp:function(a){this.bf(a.getLocation())},title:m("Convert To Node Space"),d:m("testing convertToNodeSpace / AR. Touch and see console")}),Vc=Jc.extend({ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a);a.setPosition(u.width/2,u.height/2);a=a.getBoundingBox();this.log("BoundingBox:");this.log("origin = [ "+a.x+","+a.y+"]");this.log("size = [ "+a.width+","+a.height+"]")},title:m("Bounding Box Test"),d:m("Testing getBoundingBox(). See console")}),
ua=x.extend({G:function(){I=-1;this.addChild(Hc());r.replaceScene(this)}}),Gc=[Kc,Lc,Mc,Nc,Oc,Pc,Qc,Uc,Rc,Sc,Tc,Vc];function Hc(){I++;I%=Gc.length;return new Gc[I]}function Ic(){I--;0>I&&(I+=Gc.length);return new Gc[I]};var K=-1,Zc=y.extend({e:"",h:"",ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255))},J:function(){var a=new la;a.addChild(new Wc[K]);r.replaceScene(a)},I:function(){var a=new la;a.addChild(Xc());r.replaceScene(a)},H:function(){var a=new la;a.addChild(Yc());r.replaceScene(a)},M:function(){return Wc.length-1-K},K:function(){return K}}),$c=Zc.extend({ctor:function(){this._super();this.setAnchorPoint(cc.p(0,0))},draw:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.renderContext.fillStyle=
"rgba(255,255,255,1)";cc.renderContext.strokeStyle="rgba(255,255,255,1)";cc.drawingUtil.drawLine(cc.p(0,0),cc.p(a.width,a.height));cc.renderContext.strokeStyle="rgba(255,0,0,1)";cc.renderContext.lineWidth="5";cc.drawingUtil.drawLine(cc.p(0,a.height),cc.p(a.width,0));cc.renderContext.fillStyle="rgba(0,0,255,0.5)";cc.drawingUtil.drawPoint(cc.p(a.width/2,a.height/2),40);var b=[cc.p(60,60),cc.p(70,70),cc.p(60,70),cc.p(70,60)];cc.renderContext.fillStyle="rgba(0,255,255,1)";cc.drawingUtil.drawPoints(b,
4,4);cc.renderContext.lineWidth="16";cc.renderContext.strokeStyle="rgba(0,255,0,1)";cc.drawingUtil.drawCircle(cc.p(a.width/2,a.height/2),100,0,10,j);cc.renderContext.lineWidth="2";cc.renderContext.strokeStyle="rgba(0,255,255,1)";cc.drawingUtil.drawCircle(cc.p(a.width/2,a.height/2),50,cc.DEGREES_TO_RADIANS(90),50,g);cc.renderContext.strokeStyle="rgba(255,255,0,1)";cc.renderContext.lineWidth="10";b=[cc.p(0,0),cc.p(50,50),cc.p(100,50),cc.p(100,100),cc.p(50,100)];cc.drawingUtil.drawPoly(b,5,j);cc.renderContext.strokeStyle=
"rgba(255,0,255,1)";cc.renderContext.lineWidth="2";b=[cc.p(30,130),cc.p(30,230),cc.p(50,200)];cc.drawingUtil.drawPoly(b,3,g);cc.drawingUtil.drawQuadBezier(cc.p(0,a.height),cc.p(a.width/2,a.height/2),cc.p(a.width,a.height),50);cc.drawingUtil.drawCubicBezier(cc.p(a.width/2,a.height/2),cc.p(a.width/2+30,a.height/2+50),cc.p(a.width/2+60,a.height/2-50),cc.p(a.width,a.height/2),100);cc.renderContext.lineWidth="1";cc.renderContext.fillStyle="rgba(255,255,255,1)";cc.renderContext.strokeStyle="rgba(255,255,255,1)"}}),
ad=Zc.extend({e:"cc.DrawNode",h:"Testing cc.DrawNode API",ctor:function(){this._super();var a=cc.DrawNode.create();this.addChild(a,10);for(var b=0;10>b;b++)a.drawDot(cc.p(u.width/2,u.height/2),10*(10-b),cc.u(Math.random(),Math.random(),Math.random(),1));b=[cc.p(u.height/4,0),cc.p(u.width,u.height/5),cc.p(2*(u.width/3),u.height)];a.drawPoly(b,cc.u(1,0,0,0.5),4,cc.u(0,0,1,1));var b=80,c=20,d=50,b=[cc.p(b+c,b-d),cc.p(b+2*c,b),cc.p(b+2*c+d,b+c),cc.p(b+2*c,b+2*c),cc.p(b+c,b+2*c+d),cc.p(b,b+2*c),cc.p(b-
d,b+c),cc.p(b,b)];a.drawPoly(b,cc.u(1,0,0,0.5),1,cc.u(0,0,1,1));b=180;c=20;d=50;b=[cc.p(b,b),cc.p(b+c,b-d),cc.p(b+2*c,b),cc.p(b+2*c+d,b+c),cc.p(b+2*c,b+2*c),cc.p(b+c,b+2*c+d),cc.p(b,b+2*c),cc.p(b-d,b+c)];a.drawPoly(b,cc.u(1,0,0,0.5),1,cc.u(0,0,1,1));a.drawSegment(cc.p(20,u.height),cc.p(20,u.height/2),10,cc.u(0,1,0,1));a.drawSegment(cc.p(10,u.height/2),cc.p(u.width/2,u.height/2),40,cc.u(1,0,1,0.5))}}),la=x.extend({G:function(){K=-1;this.addChild(Xc());r.replaceScene(this)}}),Wc=[ad];
"browser"===sys.platform&&Wc.push($c);function Xc(){K++;K%=Wc.length;return new Wc[K]}function Yc(){K--;0>K&&(K+=Wc.length);return new Wc[K]};TAG_ACTION1_EASE_ACTIONS=1;TAG_ACTION2_EASE_ACTIONS=2;TAG_SLIDER_EASE_ACTIONS=1;
var L=-1,ma=x.extend({G:function(){L=-1;this.addChild(bd());r.replaceScene(this)}}),M=y.extend({f:h,j:h,m:h,e:h,ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255))},title:m("No title"),onEnter:function(){this._super();this.f=cc.Sprite.create("res/Images/grossini.png");this.j=cc.Sprite.create("res/Images/grossinis_sister1.png");this.m=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(this.f,3);this.addChild(this.m,2);this.addChild(this.j,1);this.f.setPosition(cc.p(60,
u.height/5));this.m.setPosition(cc.p(60,u.height/2));this.j.setPosition(cc.p(60,4*u.height/5));this.fe=j},J:function(){var a=new ma;a.addChild(new cd[L]);r.replaceScene(a)},I:function(){var a=new ma;a.addChild(bd());r.replaceScene(a)},H:function(){var a=new ma;a.addChild(dd());r.replaceScene(a)},Zc:function(){this.fe=g;this.f.setPosition(cc.p(60,u.height/5));this.j.setPosition(cc.p(60,4*u.height/5));this.m.setVisible(j)},M:function(){return cd.length-1-L},K:function(){return L},B:2.05,s:function(){var a=
60+u.width-80;return JSON.stringify(this.fe?[a,a]:[a,a,a])},q:function(){var a;a=this.fe?[this.f.getPosition().x,this.j.getPosition().x]:[this.f.getPosition().x,this.j.getPosition().x,this.m.getPosition().x];return JSON.stringify(a)}}),ed=M.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseIn.create(a.copy(),2),d=c.reverse(),f=cc.EaseOut.create(a.copy(),2),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,
k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a)).setTag(1);this.j.runAction(cc.RepeatForever.create(c)).setTag(1);this.m.runAction(cc.RepeatForever.create(f)).setTag(1);this.scheduleOnce(this.Xh,4.1)},title:m("EaseIn - EaseOut - Stop"),Xh:function(){this.j.stopActionByTag(1);this.m.stopActionByTag(1);this.f.stopActionByTag(1)},B:4.2,s:function(){return JSON.stringify([60,60,60])},q:function(){var a=[this.f.getPosition().x,this.j.getPosition().x,
this.m.getPosition().x];return JSON.stringify(a)}}),fd=M.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=cc.EaseInOut.create(a.copy(),2),c=b.reverse(),d=cc.EaseInOut.create(a.copy(),3),f=d.reverse(),a=cc.EaseInOut.create(a.copy(),4),i=a.reverse(),k=cc.DelayTime.create(0.1),b=cc.Sequence.create(b,k,c,k.copy()),d=cc.Sequence.create(d,k.copy(),f,k.copy()),f=cc.Sequence.create(a,k.copy(),i,k.copy());this.j.runAction(cc.RepeatForever.create(b));this.m.runAction(cc.RepeatForever.create(d));
this.f.runAction(cc.RepeatForever.create(f))},title:m("EaseInOut and rates")}),gd=M.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseExponentialIn.create(a.copy()),d=c.reverse(),f=cc.EaseExponentialOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));
this.m.runAction(cc.RepeatForever.create(f))},title:m("ExpIn - ExpOut actions")}),hd=M.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseExponentialInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Zc();this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c))},title:m("EaseExponentialInOut action")}),id=M.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseSineIn.create(a.copy()),d=c.reverse(),f=cc.EaseSineOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k,d,k.copy()),f=cc.Sequence.create(f,k,i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));this.m.runAction(cc.RepeatForever.create(f))},title:m("EaseSineIn - EaseSineOut")}),jd=M.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseSineInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Zc();this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c))},title:m("EaseSineInOut action")}),kd=M.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseElasticIn.create(a.copy()),d=c.reverse(),
f=cc.EaseElasticOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));this.m.runAction(cc.RepeatForever.create(f))},title:m("Elastic In - Out actions")}),ld=M.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=cc.EaseElasticInOut.create(a.copy(),
0.3),c=b.reverse(),d=cc.EaseElasticInOut.create(a.copy(),0.45),f=d.reverse(),a=cc.EaseElasticInOut.create(a.copy(),0.6),i=a.reverse(),k=cc.DelayTime.create(0.1),b=cc.Sequence.create(b,k,c,k.copy()),d=cc.Sequence.create(d,k.copy(),f,k.copy()),f=cc.Sequence.create(a,k.copy(),i,k.copy());this.j.runAction(cc.RepeatForever.create(b));this.m.runAction(cc.RepeatForever.create(d));this.f.runAction(cc.RepeatForever.create(f))},title:m("EaseElasticInOut action")}),md=M.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseBounceIn.create(a.copy()),d=c.reverse(),f=cc.EaseBounceOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));this.m.runAction(cc.RepeatForever.create(f))},title:m("Bounce In - Out actions")}),nd=M.extend({onEnter:function(){this._super();
var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseBounceInOut.create(a.copy()),d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Zc();this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c))},title:m("EaseBounceInOut action")}),od=M.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseBackIn.create(a.copy()),d=c.reverse(),
f=cc.EaseBackOut.create(a.copy()),i=f.reverse(),k=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,k,b,k.copy()),c=cc.Sequence.create(c,k.copy(),d,k.copy()),f=cc.Sequence.create(f,k.copy(),i,k.copy());this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c));this.m.runAction(cc.RepeatForever.create(f))},title:m("Back In - Out actions")}),pd=M.extend({onEnter:function(){this._super();var a=cc.MoveBy.create(2,cc.p(u.width-80,0)),b=a.reverse(),c=cc.EaseBackInOut.create(a.copy()),
d=c.reverse(),f=cc.DelayTime.create(0.1),a=cc.Sequence.create(a,f,b,f.copy()),c=cc.Sequence.create(c,f.copy(),d,f.copy());this.Zc();this.f.runAction(cc.RepeatForever.create(a));this.j.runAction(cc.RepeatForever.create(c))},title:m("EaseBackInOut action")}),qd=M.extend({onEnter:function(){this._super();var a=cc.JumpBy.create(4,cc.p(-u.width+80,0),100,4),b=a.reverse(),c=cc.RotateBy.create(4,720),d=c.reverse(),a=cc.Sequence.create(b,a),c=cc.Sequence.create(c,d),c=cc.Spawn.create(a,c),c=cc.Speed.create(cc.RepeatForever.create(c),
1);c.setTag(TAG_ACTION1_EASE_ACTIONS);d=c.copy();a=c.copy();d.setTag(TAG_ACTION1_EASE_ACTIONS);a.setTag(TAG_ACTION1_EASE_ACTIONS);this.f.runAction(d);this.j.runAction(a);this.m.runAction(c);this.schedule(this.$f,1)},title:m("Speed action"),$f:function(){var a=this.f.getActionByTag(TAG_ACTION1_EASE_ACTIONS),b=this.j.getActionByTag(TAG_ACTION1_EASE_ACTIONS),c=this.m.getActionByTag(TAG_ACTION1_EASE_ACTIONS);a.setSpeed(2*Math.random());b.setSpeed(2*Math.random());c.setSpeed(2*Math.random())},B:0.1,s:function(){e("Not Implemented")},
q:function(){e("Not Implemented")}}),rd=M.extend({onEnter:function(){this._super();var a=cc.JumpBy.create(4,cc.p(-u.width+80,0),100,4),b=a.reverse(),c=cc.RotateBy.create(4,720),d=c.reverse(),a=cc.Sequence.create(b,a),c=cc.Sequence.create(c,d),c=cc.Spawn.create(a,c),c=cc.RepeatForever.create(c),d=c.copy(),a=c.copy();this.f.runAction(cc.Speed.create(c,0.5));this.j.runAction(cc.Speed.create(d,1.5));this.m.runAction(cc.Speed.create(a,1));c=new cc.ParticleFireworks;c.initWithTotalParticles(250);c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.addChild(c)},title:m("Scheduler scaleTime Test"),B:0.1,s:function(){e("Not Implemented")},q:function(){e("Not Implemented")}}),cd=[ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd];function bd(){L++;L%=cd.length;return new cd[L]}function dd(){L--;0>L&&(L+=cd.length);return new cd[L]};var O=-1,P=y.extend({code:m(""),J:function(){var a=new pa;a.addChild(new sd[O]);r.replaceScene(a)},I:function(){var a=new pa;a.addChild(td());r.replaceScene(a)},H:function(){var a=new pa;a.addChild(ud());r.replaceScene(a)},onEnter:function(){this._super();var a=cc.Node.create();a.runAction(this.Q(3));this.addChild(a);var b=cc.LayerGradient.create(cc.k(0,0,0,255),cc.k(98,99,117,255));a.addChild(b);b=cc.Sprite.create("res/Images/background3.png");b.setPosition(cc._p(u.width/2,u.height/2));a.addChild(b);
b=cc.Sprite.create("res/Images/grossinis_sister1.png");b.setPosition(cc._p(u.width/3,u.height/2));a.addChild(b,1);var c=cc.Sprite.create("res/Images/grossinis_sister2.png");c.setPosition(cc._p(2*u.width/3,u.height/2));a.addChild(c,1);var a=cc.ScaleBy.create(2,5),d=a.reverse(),a=cc.Sequence.create(a,d),a=cc.RepeatForever.create(a);b.runAction(a);c.runAction(a.copy())},Q:function(){return cc.MoveBy.create(2,cc._p(10,10))},M:function(){return sd.length-1-O},K:function(){return O}}),vd=P.extend({title:m("Shaky 3D"),
code:m("a = cc.Shaky3D.create(duration, gridSize, range, shakeZ)"),Q:function(a){return cc.Shaky3D.create(a,cc.size(15,10),5,j)}}),wd=P.extend({title:m("Waves 3D"),code:m("a = cc.Waves3D.create(duration, gridSize, range, shakeZ)"),Q:function(a){return cc.Waves3D.create(a,cc.size(15,10),5,40)}}),xd=P.extend({title:m("FlipX3D"),code:m("a = cc.FlipX3D.create(duration )"),Q:function(a){var a=cc.FlipX3D.create(a),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),yd=P.extend({title:m("FlipY3D"),
code:m("a = cc.FlipY3D.create(duration )"),Q:function(a){var a=cc.FlipY3D.create(a),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),zd=P.extend({title:m("Lens3D"),code:m("a = cc.Lens3D.create(duration, gridSize, position, radius)"),Q:function(a){return cc.Lens3D.create(a,cc.size(15,10),cc._p(u.width/2,u.height/2),240)}}),Ad=P.extend({title:m("Ripple3D"),code:m("a = cc.Ripple3D.create(duration, gridSize, position, radius, waves, amplitude)"),Q:function(a){return cc.Ripple3D.create(a,
cc.size(32,24),cc._p(u.width/2,u.height/2),240,4,160)}}),Bd=P.extend({title:m("Liquid"),code:m("a = cc.Liquid.create(duration, gridSize, waves, amplitude)"),Q:function(a){return cc.Liquid.create(a,cc.size(16,12),4,20)}}),Cd=P.extend({title:m("Waves"),code:m("a = cc.Waves.create(duration, gridSize, waves, amplitude, horizontal, vertical)"),Q:function(a){return cc.Waves.create(a,cc.size(16,12),4,20,g,g)}}),Dd=P.extend({title:m("Twirl"),code:m("a = cc.Twirl.create(duration, gridSize, position, twirls, amplitude)"),
Q:function(a){return cc.Twirl.create(a,cc.size(12,8),cc.p(u.width/2,u.height/2),1,2.5)}}),Ed=P.extend({title:m("ShakyTiles3D"),code:m("a = cc.ShakyTiles3D.create(duration, gridSize, range, shakeZ)"),Q:function(a){return cc.ShakyTiles3D.create(a,cc.size(16,12),5,j)}}),Fd=P.extend({title:m("ShatteredTiles3D"),code:m("a = cc.ShatteredTiles3D.create(duration, gridSize, range, shatterZ)"),Q:function(a){return cc.ShatteredTiles3D.create(a,cc.size(16,12),5,j)}}),Gd=P.extend({title:m("ShuffleTiles"),code:m("a = cc.ShuffleTiles.create(duration, gridSize, seed)"),
Q:function(a){var a=cc.ShuffleTiles.create(a,cc.size(16,12),25),b=cc.DelayTime.create(2),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Hd=P.extend({title:m("FadeOutTRTilesTest"),code:m("a = cc.FadeOutTRTiles.create(duration, gridSize)"),Q:function(a){var a=cc.FadeOutTRTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Id=P.extend({title:m("FadeOutBLTilesTest"),code:m("a = cc.FadeOutBLTiles.create(duration, gridSize)"),Q:function(a){var a=
cc.FadeOutBLTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Jd=P.extend({title:m("FadeOutUpTilesTest"),code:m("a = cc.FadeOutUpTiles.create(duration, gridSize)"),Q:function(a){var a=cc.FadeOutUpTiles.create(a,cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Kd=P.extend({title:m("FadeOutDownTilesTest"),code:m("a = cc.FadeOutDownTiles.create(duration, gridSize)"),Q:function(a){var a=cc.FadeOutDownTiles.create(a,
cc.size(16,12)),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Ld=P.extend({title:m("TurnOffTiles"),code:m("a = cc.TurnOffTiles.create(duration, gridSize, seed)"),Q:function(a){var a=cc.TurnOffTiles.create(a,cc.size(16,12),20),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Md=P.extend({title:m("WavesTiles3D"),code:m("a = cc.WavesTiles3D.create(duration, gridSize, waves, amplitude)"),Q:function(a){return cc.WavesTiles3D.create(a,cc.size(16,
12),4,120)}}),Nd=P.extend({title:m("JumpTiles3D"),code:m("a = cc.JumpTiles3D.create(duration, gridSize, jumps, amplitude)"),Q:function(a){return cc.JumpTiles3D.create(a,cc.size(16,12),2,30)}}),Od=P.extend({title:m("SplitRows"),code:m("a = cc.SplitRows.create(duration, rows)"),Q:function(a){var a=cc.SplitRows.create(a,9),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Pd=P.extend({title:m("SplitCols"),code:m("a = cc.SplitCols.create(duration, cols)"),Q:function(a){var a=
cc.SplitCols.create(a,9),b=cc.DelayTime.create(0.5),c=a.reverse();return cc.Sequence.create(a,b,c)}}),Qd=P.extend({title:m("PageTurn3D"),code:m("a = cc.PageTurn3D.create(duration, gridSize)"),Q:function(a){return cc.PageTurn3D.create(a,cc.size(15,10))}}),pa=x.extend({G:function(){O=-1;this.addChild(td());r.replaceScene(this)}}),sd=[vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd];function td(){O++;O%=sd.length;return new sd[O]}
function ud(){O--;0>O&&(O+=sd.length);return new sd[O]};var Q=-1,Ud=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},hc:function(){var a=new na;a.addChild(new Rd[Q]);r.replaceScene(a)},Uc:function(){var a=new na;a.addChild(Sd());r.replaceScene(a)},Hd:function(){var a=new na;a.addChild(Td());r.replaceScene(a)},title:m("Event Test"),onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",24);this.addChild(b);b.setPosition(cc.p(a.width/2,a.height-50));if((b=this.d())&&
""!==b)b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80));var b=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.Hd,this),c=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.hc,this),d=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.Uc,this),f=cc.Menu.create(b,c,d);f.setPosition(cc.p(0,0));b.setPosition(cc.p(a.width/2-100,30));c.setPosition(cc.p(a.width/2,30));d.setPosition(cc.p(a.width/2+
100,30));this.addChild(f,1)}}),Vd=Ud.extend({init:function(){this._super();this.Ha={};this.vb=[];"touches"in sys.capabilities?(this.setTouchMode(cc.Kf),this.setTouchEnabled(g)):cc.log("TOUCH-ONE-BY-ONE test is not supported on desktop");for(var a=0;5>a;a++){var b=this.Ja=cc.Sprite.create("res/Images/r2.png");this.addChild(b,a+10);b.setPosition(0,0);b.setScale(1);b.setColor(cc.o(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));this.vb.push(b)}},d:m("Touches One by One. Touch the left / right and see console"),
Sd:function(a,b){var c=this.vb.pop();this.Ha[a]=c;c.setPosition(b)},pd:function(a,b){this.Ha[a].setPosition(b)},ad:function(a){var b=this.Ha[a];this.Ha[a]=h;this.vb.push(b);b.setPosition(0,0)},onTouchBegan:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchBegan at: "+b.x+" "+b.y+" Id:"+a);return b.x<u.width/2?(this.Sd(a,b),g):j},onTouchMoved:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchMoved at: "+b.x+" "+b.y+" Id:"+a);this.pd(a,b)},onTouchEnded:function(a){var b=a.getLocation(),
a=a.getId();cc.log("onTouchEnded at: "+b.x+" "+b.y+" Id:"+a);this.ad(a,b)},onTouchCancelled:function(a){var b=a.getLocation(),a=a.getId();cc.log("onTouchCancelled at: "+b.x+" "+b.y+" Id:"+a);this.pd(a,b)}}),Wd=Ud.extend({init:function(){this._super();this.Ha={};this.vb=[];"touches"in sys.capabilities?(this.setTouchMode(cc.Jf),this.setTouchEnabled(g)):cc.log("TOUCHES not supported");for(var a=0;5>a;a++){var b=this.Ja=cc.Sprite.create("res/Images/r2.png");this.addChild(b,a+10);b.setPosition(0,0);b.setScale(1);
b.setColor(cc.o(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));this.vb.push(b)}},d:m("Touches All At Once. Touch and see console"),Sd:function(a,b){var c=this.vb.pop();this.Ha[a]=c;c.setPosition(b)},pd:function(a,b){this.Ha[a].setPosition(b)},ad:function(a){var b=this.Ha[a];this.Ha[a]=h;this.vb.push(b);b.setPosition(0,0)},onTouchesBegan:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesBegan at: "+d.x+" "+d.y+" Id:"+c);
this.Sd(c,d)}},onTouchesMoved:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesMoved at: "+d.x+" "+d.y+" Id:"+c);this.pd(c,d)}},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesEnded at: "+d.x+" "+d.y+" Id:"+c);this.ad(c)}},onTouchesCancelled:function(a){for(var b=0;b<a.length;b++){var c=a[b],d=c.getLocation(),c=c.getId();cc.log("Touch #"+b+". onTouchesCancelled at: "+
d.x+" "+d.y+" Id:"+c);this.ad(c)}}}),Xd=Ud.extend({init:function(){this._super();if("accelerometer"in sys.capabilities){this.setAccelerometerInterval(1/30);this.setAccelerometerEnabled(g);var a=this.Ja=cc.Sprite.create("res/Images/r2.png");this.addChild(a);a.setPosition(u.width/2,u.height/2);this.af=this.$e=0}else cc.log("ACCELEROMETER not supported")},d:m("Accelerometer test. Move device and see console"),onAccelerometer:function(a){cc.log("Accel x: "+a.x+" y:"+a.y+" z:"+a.ow+" time:"+a.timestamp);
var b=u.width,c=u.height,b=b*a.x+b/2,a=c*a.y+c/2,b=0.2*b+0.8*this.$e,a=0.2*a+0.8*this.af;this.$e=b;this.af=a;this.Ja.setPosition(b,a)}}),Yd=Ud.extend({init:function(){this._super();var a=this.Ja=cc.Sprite.create("res/Images/r2.png");this.addChild(a);a.setPosition(0,0);a.setScale(1);a.setColor(cc.o(200*Math.random()+55,200*Math.random()+55,200*Math.random()+55));"mouse"in sys.capabilities?this.setMouseEnabled(g):cc.log("MOUSE Not supported")},d:m("Mouse test. Move mouse and see console"),onMouseDown:function(a){a=
a.getLocation();cc.log("onMouseDown at: "+a.x+" "+a.y);this.Ja.setPosition(a)},onMouseDragged:function(a){a=a.getLocation();cc.log("onMouseDragged at: "+a.x+" "+a.y);this.Ja.setPosition(a)},onMouseUp:function(a){a=a.getLocation();this.Ja.setPosition(a);cc.log("onMouseUp at: "+a.x+" "+a.y)}}),Zd=Ud.extend({init:function(){this._super();"keyboard"in sys.capabilities?this.setKeyboardEnabled(g):cc.log("KEYBOARD Not supported")},d:m("Keyboard test. Press keyboard and see console"),onKeyUp:function(a){cc.log("Key up:"+
a)},onKeyDown:function(a){cc.log("Key down:"+a)},Uv:function(a){cc.log("Key flags changed:"+a)}}),na=x.extend({G:function(){Q=-1;this.addChild(Sd());r.replaceScene(this)}}),Rd=[Vd,Wd,Xd,Yd,Zd];function Sd(){Q++;Q%=Rd.length;return new Rd[Q]}function Td(){Q--;0>Q&&(Q+=Rd.length);return new Rd[Q]};var R=-1,ce=y.extend({e:"",h:"",ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255))},J:function(){var a=new qa;a.addChild(new $d[R]);r.replaceScene(a)},I:function(){var a=new qa;a.addChild(ae());r.replaceScene(a)},H:function(){var a=new qa;a.addChild(be());r.replaceScene(a)},M:function(){return $d.length-1-R},K:function(){return R}}).extend({e:"Testing FilenameLookup ",h:"You should see a grossini on the screen",ctor:function(){this._super();var a=sys.platform;"mobile"==a?cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-mobile.plist"):
"desktop"==a?cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-desktop.plist"):cc.FileUtils.getInstance().loadFilenameLookup("FileUtils/lookup-html5.plist");var b=cc.Sprite.create("grossini.bmp");this.addChild(b);b.setPosition(u.width/2,u.height/2);w&&(this.pg="mobile"==a?"grossini_pvr_rgba4444.pvr":"desktop"==a?"grossini_pvr_rgba8888.pvr":"grossini.png")},s:aa("pg"),q:function(){return cc.FileUtils.getInstance().fullPathForFilename("grossini.bmp").replace(/^.*(\\|\/|\:)/,"")}}),qa=
x.extend({G:function(){R=-1;this.addChild(ae());r.replaceScene(this)}}),$d=[ce];function ae(){R++;R%=$d.length;return new $d[R]}function be(){R--;0>R&&(R+=$d.length);return new $d[R]};var S=0,de="Verdana;Lucida Sans Unicode;Bookman Old Style;Symbol;Georgia;Trebuchet MS;Comic Sans MS;Arial Black;Tahoma;Impact;American Typewriter;Marker Felt;A Damn Mess;Abberancy;Abduction;Paint Boy;Schwarzwald;Scissor Cuts".split(";");function ee(){S++;S%=de.length;return de[S]}function fe(){S--;0>S&&(S+=de.length);return de[S]}FontTestScene=x.extend({G:function(){this.addChild(FontTest.create());r.replaceScene(this)}});
FontTest=y.extend({ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255));this.dd(de[S])},dd:function(a){this.removeChildByTag(550,g);this.removeChildByTag(551,g);this.removeChildByTag(552,g);this.removeChildByTag(553,g);var b=r.getWinSize(),c=cc.LabelTTF.create(a,a,24),d=cc.LabelTTF.create("alignment left",a,32,cc.size(b.width,50),cc.sa),f=cc.LabelTTF.create("alignment center",a,32,cc.size(b.width,50),cc.Da),a=cc.LabelTTF.create("alignment right",a,32,cc.size(b.width,50),cc.fb);c.setPosition(b.width/
2,3*b.height/4);d.setPosition(b.width/2,b.height/2);f.setPosition(b.width/2,3*b.height/8);a.setPosition(b.width/2,b.height/4);this.addChild(d,0,550);this.addChild(a,0,551);this.addChild(f,0,552);this.addChild(c,0,553)},H:function(){this.dd(fe())},J:function(){this.dd(de[S])},I:function(){this.dd(ee())},d:m("Font test"),title:function(){return""+de[S]},M:function(){return de.length-1-S},K:function(){return S}});FontTest.create=function(){return new FontTest};IntervalLayer=cc.LayerGradient.extend({Mc:h,Nc:h,Oc:h,Pc:h,Qc:h,jd:h,kd:h,ld:h,md:h,nd:h,ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.k(0,0,0,255),cc.k(98,99,117,255));this.jd=this.kd=this.ld=this.md=this.nd=0;var a=r.getWinSize(),b=cc.ParticleSun.create();b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.setPosition(a.width-32,a.height-32);b.setTotalParticles(130);b.setLife(0.6);this.addChild(b);this.Mc=cc.LabelTTF.create("0",
"Arial",24);this.Nc=cc.LabelTTF.create("0","Arial",24);this.Oc=cc.LabelTTF.create("0","Arial",24);this.Pc=cc.LabelTTF.create("0","Arial",24);this.Qc=cc.LabelTTF.create("0","Arial",24);this.scheduleUpdate();this.schedule(this.Ph);this.schedule(this.Qh,0);this.schedule(this.Rh,1);this.schedule(this.Sh,2);this.Mc.setPosition(1*a.width/6,a.height/2);this.Nc.setPosition(2*a.width/6,a.height/2);this.Oc.setPosition(3*a.width/6,a.height/2);this.Pc.setPosition(4*a.width/6,a.height/2);this.Qc.setPosition(5*
a.width/6,a.height/2);this.addChild(this.Mc);this.addChild(this.Nc);this.addChild(this.Oc);this.addChild(this.Pc);this.addChild(this.Qc);b=cc.Sprite.create("res/Images/grossini.png");b.setPosition(40,50);var c=cc.JumpBy.create(3,cc.p(a.width-80,0),50,4);this.addChild(b);b.runAction(cc.RepeatForever.create(cc.Sequence.create(c,c.reverse())));b=cc.MenuItemFont.create("Pause",this.Zd,this);b=cc.Menu.create(b);b.setPosition(a.width/2,a.height-50);this.addChild(b)},Zd:function(){r.isPaused()?r.resume():
r.pause()},onExit:function(){r.isPaused()&&r.resume();this._super()},Ph:function(a){this.kd+=a;this.Nc.setString(this.kd.toFixed(1))},Qh:function(a){this.ld+=a;this.Oc.setString(this.ld.toFixed(1))},Rh:function(a){this.md+=a;this.Pc.setString(this.md.toFixed(1))},Sh:function(a){this.nd+=a;this.Qc.setString(this.nd.toFixed(1))},update:function(a){this.jd+=a;this.Mc.setString(this.jd.toFixed(1))}});IntervalTestScene=x.extend({G:function(){this.addChild(new IntervalLayer);r.replaceScene(this)}});var ge=-1,ra=x.extend({G:function(){ge=-1;this.addChild(he());r.replaceScene(this)}}),T=y.extend({title:m("No title"),d:m(""),J:function(){var a=new ra;a.addChild(new ie[ge]);r.replaceScene(a)},I:function(){var a=new ra;a.addChild(he());r.replaceScene(a)},H:function(){var a=new ra;a.addChild(je());r.replaceScene(a)},M:function(){return ie.length-1-ge},K:function(){return ge}}),ke=T.extend({time:h,ctor:function(){this._super();this.time=0;var a=cc.LabelAtlas.create("123 Test","res/fonts/tuffy_bold_italic-charmap.plist");
this.addChild(a,0,660);a.setPosition(cc.p(10,100));a.setOpacity(200);a=cc.LabelAtlas.create("0123456789","res/fonts/tuffy_bold_italic-charmap.plist");this.addChild(a,0,661);a.setPosition(cc.p(10,200));a.setOpacity(32);this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+" Test";this.getChildByTag(660).setString(a);this.getChildByTag(661).setString(parseInt(this.time,10).toString())},title:m("LabelAtlas Opacity"),d:m("Updating label should be fast"),s:function(){return JSON.stringify([200,
32])},q:function(){var a=[],b=[660,661],c;for(c in b)a.push(this.getChildByTag(b[c]).getOpacity());return JSON.stringify(a)}}),le=T.extend({time:h,ctor:function(){this._super();var a=cc.LabelAtlas.create("123 Test","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,660);a.setPosition(cc.p(10,100));a.setOpacity(200);a=cc.LabelAtlas.create("0123456789","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,661);a.setPosition(cc.p(10,200));a.setColor(cc.o(255,0,0));
var b=cc.FadeOut.create(1),c=b.reverse(),d=cc.DelayTime.create(0.25),b=cc.Sequence.create(b,d,c,d.copy()),b=cc.RepeatForever.create(b);a.runAction(b);this.time=0;this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+" Test";this.getChildByTag(660).setString(a);this.getChildByTag(661).setString(parseInt(this.time,10).toString())},title:m("LabelAtlas Opacity Color"),d:m("Opacity + Color should work at the same time"),B:1,s:function(){return JSON.stringify([200,{r:255,g:255,
b:255},0,{r:255,g:0,b:0}])},q:function(){var a=[],b=[660,661],c;for(c in b){var d=b[c];a.push(this.getChildByTag(d).getOpacity());a.push(this.getChildByTag(d).getColor())}return JSON.stringify(a)}}),me=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelAtlas.create("TESTING RETINA DISPLAY","res/fonts/larabie-16.plist");b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("LabelAtlas with Retina Display"),d:m("loading larabie-16 / larabie-16-hd")}),
ne=T.extend({time:0,ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.k(128,128,128,255)),-10);var a=cc.LabelBMFont.create("Test","res/fonts/bitmapFontTest2.fnt");a.setAnchorPoint(cc.p(0,0));this.addChild(a,0,1);var b=cc.FadeOut.create(1),c=b.reverse(),b=cc.Sequence.create(b,c),c=cc.RepeatForever.create(b);a.runAction(c);b=cc.LabelBMFont.create("Test","res/fonts/bitmapFontTest2.fnt");b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.xd);this.addChild(b,0,2);b.runAction(c.copy());c=cc.LabelBMFont.create("Test",
"res/fonts/bitmapFontTest.fnt");c.setAnchorPoint(cc.p(1,1));this.addChild(c,0,3);var d=r.getWinSize();a.setPosition(cc.p(0,0));b.setPosition(cc.p(d.width/2,d.height/2));c.setPosition(cc.p(d.width,d.height));this.schedule(this.step)},step:function(a){this.time+=a;a=this.time.toFixed(2)+"Test j";this.getChildByTag(1).setString(a);this.getChildByTag(2).setString(a);this.getChildByTag(3).setString(a)},title:m("cc.LabelBMFont"),d:m("Testing alignment. Testing opacity + tint")}),oe=T.extend({time:h,ctor:function(){this._super();
this.time=0;var a=cc.LabelBMFont.create("Bitmap Font Atlas","res/fonts/bitmapFontTest.fnt");this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a.setAnchorPoint(cc.p(0.5,0.5));var c=a.getChildByTag(0),d=a.getChildByTag(7),a=a.getChildByTag(12),f=cc.RotateBy.create(2,360),f=cc.RepeatForever.create(f),i=cc.ScaleBy.create(2,1.5),k=i.reverse(),i=cc.Sequence.create(i,k),i=cc.RepeatForever.create(i),k=cc.JumpBy.create(0.5,cc.p(0,0),60,1),k=cc.RepeatForever.create(k),o=cc.FadeOut.create(1),
q=cc.FadeIn.create(1),o=cc.Sequence.create(o,q),o=cc.RepeatForever.create(o);c.runAction(f);c.runAction(i);d.runAction(k);a.runAction(o);c=cc.LabelBMFont.create("00.0","res/fonts/bitmapFontTest.fnt");this.addChild(c,0,2);c.setPosition(cc.p(b.width/2,80));c.getChildByTag(3).runAction(f.copy());this.schedule(this.step,0.1)},step:function(a){this.time+=a;a=this.time.toFixed(1);this.getChildByTag(2).setString(10>a?"0"+a:a)},draw:function(){var a=r.getWinSize(),b=cc.o(255,0,0);cc.renderContext.strokeStyle=
"rgba("+b.r+","+b.g+","+b.b+",1)";cc.drawingUtil.drawLine(cc.p(0,a.height/2),cc.p(a.width,a.height/2));cc.drawingUtil.drawLine(cc.p(a.width/2,0),cc.p(a.width/2,a.height))},title:m("cc.LabelBMFont"),d:m("Using fonts as cc.Sprite objects. Some characters should rotate.")}),pe=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create("abcdefg","res/fonts/bitmapFontTest4.fnt");this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a.setAnchorPoint(cc.p(0.5,0.5))},title:m("cc.LabelBMFont"),
d:m("Testing padding")}),qe=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=h,b=cc.LabelBMFont.create("FaFeFiFoFu","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2+50));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("fafefifofu","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("aeiou","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/
2,a.height/2-50));b.setAnchorPoint(cc.p(0.5,0.5))},title:m("cc.LabelBMFont"),d:m("Rendering should be OK. Testing offset")}),re=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=h,b=cc.LabelBMFont.create("Blue","res/fonts/bitmapFontTest5.fnt");b.setColor(cc.o(0,0,255));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b=cc.LabelBMFont.create("Red","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,2*a.height/4));b.setAnchorPoint(cc.p(0.5,
0.5));b.setColor(cc.o(255,0,0));b=cc.LabelBMFont.create("G","res/fonts/bitmapFontTest5.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,3*a.height/4));b.setAnchorPoint(cc.p(0.5,0.5));b.setColor(cc.o(0,255,0));b.setString("Green")},title:m("cc.LabelBMFont"),d:m("Testing color")}),se=T.extend({ctor:function(){this._super();for(var a=0;100>a;a++){var b=cc.LabelBMFont.create("-"+a+"-","res/fonts/bitmapFontTest.fnt");this.addChild(b);var c=r.getWinSize(),c=cc.p(Math.random()*c.width,Math.random()*c.height);
b.setPosition(c);b.setAnchorPoint(cc.p(0.5,0.5))}},title:m("cc.LabelBMFont"),d:m("Creating several cc.LabelBMFont with the same .fnt file should be fast")}),te=T.extend({ctor:function(){this._super();var a,b=cc.LabelBMFont.create("Multi line\nLeft","res/fonts/bitmapFontTest3.fnt");b.setAnchorPoint(cc.p(0,0));this.addChild(b,0,1);a=b.getContentSize();cc.log("content size:"+a.width+","+a.height);var c=cc.LabelBMFont.create("Multi line\nCenter","res/fonts/bitmapFontTest3.fnt");c.setAnchorPoint(cc.p(0.5,
0.5));this.addChild(c,0,2);a=c.getContentSize();cc.log("content size:"+a.width+","+a.height);var d=cc.LabelBMFont.create("Multi line\nRight\nThree lines Three","res/fonts/bitmapFontTest3.fnt");d.setAnchorPoint(cc.p(1,1));this.addChild(d,0,3);a=d.getContentSize();cc.log("content size:"+a.width+","+a.height);a=r.getWinSize();b.setPosition(cc.p(0,0));c.setPosition(cc.p(a.width/2,a.height/2));d.setPosition(cc.p(a.width,a.height))},title:m("cc.LabelBMFont"),d:m("Multiline + anchor point")}),ue=T.extend({ctor:function(){this._super();
var a,b=cc.LabelBMFont.create("Multi line\n\nAligned to the left","res/fonts/bitmapFontTest3.fnt");b.setAnchorPoint(cc.p(0,0));b.setAlignment(cc.sa);b.setWidth(400);this.addChild(b,0,1);a=b.getContentSize();cc.log("content size:"+a.width+","+a.height);var c=cc.LabelBMFont.create("Error\n\nSome error message","res/fonts/bitmapFontTest3.fnt");c.setAnchorPoint(cc.p(0.5,0.5));c.setAlignment(cc.Da);c.setWidth(290);this.addChild(c,0,2);a=c.getContentSize();cc.log("content size:"+a.width+","+a.height);var d=
cc.LabelBMFont.create("Multi line\n\nAligned to the right","res/fonts/bitmapFontTest3.fnt");d.setAnchorPoint(cc.p(1,1));d.setAlignment(cc.fb);d.setWidth(400);this.addChild(d,0,3);a=d.getContentSize();cc.log("content size:"+a.width+","+a.height);a=r.getWinSize();b.setPosition(cc.p(0,0));c.setPosition(cc.p(a.width/2,a.height/2));d.setPosition(cc.p(a.width,a.height))},title:m("cc.LabelBMFont"),d:m("Multiline with 2 new lines. All characters should appear")}),ve=T.extend({cd:h,ctor:function(){this._super();
var a=cc.LabelBMFont.create("","res/fonts/bitmapFontTest3.fnt");this.addChild(a,0,1);a.setPosition(u.width/2,u.height-100);a=cc.LabelTTF.create("","Arial",24);this.addChild(a,0,2);a.setPosition(u.width/2,u.height/2);a=cc.LabelAtlas.create("","res/fonts/tuffy_bold_italic-charmap.png",48,64," ");this.addChild(a,0,3);a.setPosition(u.width/2,100);this.schedule(this.ph,1);this.cd=j},ph:function(){var a=this.getChildByTag(1),b=this.getChildByTag(2),c=this.getChildByTag(3);this.cd?(a.setString(""),b.setString(""),
c.setString(""),this.cd=j):(a.setString("not empty"),b.setString("not empty"),c.setString("hi"),this.cd=g)},title:m("Testing empty labels"),d:m("3 empty labels: LabelAtlas, LabelTTF and LabelBMFont")}),we=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("TESTING RETINA DISPLAY","res/fonts/konqa32.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("Testing Retina Display BMFont"),d:m("loading arista16 or arista16-hd")}),xe=T.extend({ctor:function(){this._super();
var a=r.getWinSize();this.addChild(cc.LayerColor.create(cc.k(128,128,128,255)),-10);var b=cc.LabelBMFont.create("Testing Glyph Designer","res/fonts/futura-48.fnt");this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/2))},title:m("Testing Glyph Designer"),d:m("You should see a font with shawdows and outline")}),ye=T.extend({jb:h,Db:h,Lb:h,ctor:function(){this._super();var a=cc.size(200,160),b=r.getWinSize(),c=cc.LayerColor.create(cc.k(100,100,100,255),a.width,a.height);c.setAnchorPoint(cc.p(0,0));
c.setPosition(cc.p((b.width-a.width)/2,(b.height-a.height)/2));this.addChild(c);cc.MenuItemFont.setFontSize(30);a=cc.Menu.create(cc.MenuItemFont.create("Left",this.Fh,this),cc.MenuItemFont.create("Center",this.Eh,this),cc.MenuItemFont.create("Right",this.Hh,this));a.alignItemsVerticallyWithPadding(4);a.setPosition(cc.p(50,b.height/2-20));this.addChild(a);a=cc.Menu.create(cc.MenuItemFont.create("Top",this.Ih,this),cc.MenuItemFont.create("Middle",this.Gh,this),cc.MenuItemFont.create("Bottom",this.Dh,
this));a.alignItemsVerticallyWithPadding(4);a.setPosition(cc.p(b.width-50,b.height/2-20));this.addChild(a);this.jb=h;this.Db=cc.sa;this.Lb=cc.Sb;this.wb()},wb:function(){var a=cc.size(200,160),b=r.getWinSize();this.jb&&this.jb.removeFromParent();this.jb=cc.LabelTTF.create(this.rg(),"Arial",32,a,this.Db,this.Lb);this.jb.setAnchorPoint(cc.p(0,0));this.jb.setPosition(cc.p((b.width-a.width)/2,(b.height-a.height)/2));this.addChild(this.jb)},Fh:function(){this.Db=cc.sa;this.wb()},Eh:function(){this.Db=
cc.Da;this.wb()},Hh:function(){this.Db=cc.fb;this.wb()},Ih:function(){this.Lb=cc.Sb;this.wb()},Gh:function(){this.Lb=cc.Ad;this.wb()},Dh:function(){this.Lb=cc.zd;this.wb()},rg:function(){var a=h,b=h;switch(this.Lb){case cc.Sb:a="Top";break;case cc.Ad:a="Middle";break;case cc.zd:a="Bottom"}switch(this.Db){case cc.sa:b="Left";break;case cc.Da:b="Center";break;case cc.fb:b="Right"}return"Alignment "+a+" "+b},title:m("Testing cc.LabelTTF"),d:m("Select the buttons on the sides to change alignment")}),
ze=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("word wrap \"testing\" (bla0) bla1 'bla2' [bla3] (bla4) {bla5} {bla6} [bla7] (bla8) [bla9] 'bla0' \"bla1\"","Arial",32,cc.size(a.width/2,200),cc.Da,cc.Sb);b.setPosition(cc.p(a.width/2,150));this.addChild(b)},title:m("Testing cc.LabelTTF Word Wrap"),d:m("Word wrap using cc.LabelTTF")}),Ae=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("\u4e2d\u56fd","Microsoft Yahei",30);b.setPosition(cc.p(a.width/
2,a.height/2));this.addChild(b)},title:m("Testing cc.LabelTTF with Chinese character")}),Be=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("\u4e2d\u56fd","res/fonts/bitmapFontChinese.fnt");b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b)},title:m("Testing cc.LabelBMFont with Chinese character")}),Ce=T.extend({ia:h,ma:h,ra:h,Pd:h,Od:h,ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
var a=r.getWinSize();this.ia=cc.LabelBMFont.create("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.","res/fonts/markerFelt.fnt",a.width/2,cc.Da,cc.p(0,0));this.ma=cc.Sprite.create("res/Images/arrowsBar.png");this.ra=cc.Sprite.create("res/Images/arrows.png");cc.MenuItemFont.setFontSize(20);var b=cc.MenuItemFont.create("Long Flowing Sentences",this.$d,this),c=cc.MenuItemFont.create("Short Sentences With Intentional Line Breaks",
this.$d,this),d=cc.MenuItemFont.create("Long Sentences Mixed With Intentional Line Breaks",this.$d.bind(this)),f=cc.Menu.create(b,c,d);f.alignItemsVertically();b.setColor(cc.o(255,0,0));this.Pd=b;b.setTag(0);c.setTag(1);d.setTag(2);cc.MenuItemFont.setFontSize(30);var b=cc.MenuItemFont.create("Left",this.Ud,this),c=cc.MenuItemFont.create("Center",this.Ud,this),d=cc.MenuItemFont.create("Right",this.Ud.bind(this)),i=cc.Menu.create(b,c,d);i.alignItemsHorizontallyWithPadding(50);c.setColor(cc.o(255,0,
0));this.Od=c;b.setTag(0);c.setTag(1);d.setTag(2);this.ia.setPosition(cc.p(a.width/2,a.height/2));this.ma.setVisible(j);this.ma.setScaleX(0.25*a.width/this.ma.getContentSize().width);this.ma.setAnchorPoint(cc.p(0,0.5));this.ma.setPosition(cc.p(0.7*a.width,this.ia.getPosition().y));this.ra.setPosition(this.ma.getPosition());f.setPosition(cc.p(a.width/2,a.height-50));i.setPosition(cc.p(a.width/2,65));this.addChild(this.ia);this.addChild(this.ma);this.addChild(this.ra);this.addChild(f);this.addChild(i)},
title:m(""),d:m(""),$d:function(a){a.setColor(cc.o(255,0,0));this.Pd.setColor(cc.o(255,255,255));this.Pd=a;switch(a.getTag()){case 0:this.ia.setString("Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.");break;case 1:this.ia.setString("Lorem ipsum dolor\nsit amet\nconsectetur adipisicing elit\nblah\nblah");break;case 2:this.ia.setString("ABC\nLorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt\nDEF")}this.hf()},
Ud:function(a){a.setColor(cc.o(255,0,0));this.Od.setColor(cc.o(255,255,255));this.Od=a;switch(a.getTag()){case 0:this.ia.setAlignment(cc.sa);break;case 1:this.ia.setAlignment(cc.Da);break;case 2:this.ia.setAlignment(cc.fb)}this.hf()},onTouchesBegan:function(a){a=a[0].getLocation();cc.$c(this.ra.getBoundingBox(),a)&&this.ma.setVisible(g)},onTouchesEnded:function(){this.ma.setVisible(j)},onTouchesMoved:function(a){var a=a[0].getLocation(),b=r.getWinSize();this.ra.setPosition(cc.p(Math.max(Math.min(a.x,
0.95*b.width),0.7*b.width),this.ra.getPosition().y));this.ia.setWidth(2*Math.abs(this.ra.getPosition().x-this.ia.getPosition().x))},onMouseDown:function(a){a=a.getLocation();cc.$c(this.ra.getBoundingBox(),a)&&this.ma.setVisible(g)},onMouseDragged:function(a){var a=a.getLocation(),b=r.getWinSize();this.ra.setPosition(cc.p(Math.max(Math.min(a.x,0.95*b.width),0.7*b.width),this.ra.getPosition().y));this.ia.setWidth(2*Math.abs(this.ra.getPosition().x-this.ia.getPosition().x))},onMouseUp:function(){this.ma.setVisible(j)},
hf:function(){var a=r.getWinSize();this.ra.setPosition(cc.p(0.7*a.width,this.ma.getPosition().y))}}),De=T.extend({ctor:function(){this._super();var a=r.getWinSize();this.addChild(cc.LayerColor.create(cc.k(128,128,128,255)),-10);var b=cc.LabelTTF.create("Testing A8 Format","Arial",48);this.addChild(b);b.setColor(cc.o(255,0,0));b.setPosition(cc.p(a.width/2,a.height/2));var a=cc.FadeOut.create(2),c=cc.FadeIn.create(2),a=cc.Sequence.create(a,c),a=cc.RepeatForever.create(a);b.runAction(a)},title:m("Testing A8 Format"),
d:m("RED label, fading In and Out in the center of the screen")}),Ee=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelBMFont.create("This is Helvetica","res/fonts/helvetica-32.fnt",cc.uf,cc.sa,cc.p(0,0));this.addChild(b);b.setPosition(cc.p(a.width/2,2*a.height/3));b=cc.LabelBMFont.create("And this is Geneva","res/fonts/geneva-32.fnt",cc.uf,cc.sa,cc.p(0,128));this.addChild(b);b.setPosition(cc.p(a.width/2,a.height/3))},title:m("cc.LabelBMFont with one texture"),d:m("Using 2 .fnt definitions that share the same texture atlas.")}),
Fe=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create("Buen d\u00eda","res/fonts/arial-unicode-26.fnt",200,cc.sa);this.addChild(a);a.setPosition(u.width/2,u.height/4);a=cc.LabelBMFont.create("\u7f8e\u597d\u7684\u4e00\u5929","res/fonts/arial-unicode-26.fnt");this.addChild(a);a.setPosition(u.width/2,u.height/2.2);a=cc.LabelBMFont.create("\u826f\u3044\u4e00\u65e5\u3092","res/fonts/arial-unicode-26.fnt");this.addChild(a);a.setPosition(u.width/2,u.height/1.5)},title:m("cc.LabelBMFont with Unicode support"),
d:m("You should see 3 different labels: In Spanish, Chinese and Korean")}),Ge=T.extend({ctor:function(){this._super();var a=cc.LabelBMFont.create();a.setFntFile("res/fonts/helvetica-32.fnt");a.setString("It is working!");this.addChild(a);a.setPosition(u.width/2,u.height/2)},title:m("cc.LabelBMFont init"),d:m("Test for support of init method without parameters.")}),He=T.extend({ctor:function(){this._super();var a=cc.LabelTTF.create();a.setFontName("Courier New");a.setFontSize(48);a.setString("It is working!");
this.addChild(a);a.setPosition(u.width/2,u.height/2)},title:m("cc.LabelTTF init"),d:m("Test for support of init method without parameters.")}),Ie=T.extend({ctor:function(){this._super();var a=r.getWinSize(),b=cc.LabelTTF.create("Alignment 0\nnew line","Arial",12,cc.size(256,32),cc.sa);b.setPosition(cc.p(a.width/2,2*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b=cc.LabelTTF.create("Alignment 1\nnew line","Arial",12,cc.size(256,32),cc.Da);b.setPosition(cc.p(a.width/2,3*(a.height/
6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b);b=cc.LabelTTF.create("Alignment 2\nnew line","Arial",12,cc.size(256,32),cc.fb);b.setPosition(cc.p(a.width/2,4*(a.height/6)));b.setAnchorPoint(cc.p(0.5,0.5));this.addChild(b)},title:m("cc.LabelTTF alignment"),d:m("Tests alignment values"),s:function(){return JSON.stringify([{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:255,b:0},{r:0,g:0,b:255},{r:255,g:255,b:0}])},q:function(){for(var a=[],b=0;5>b;b++){var c=this.label.getChildByTag(b).sg();a.push(c)}return JSON.stringify(a)}}),
Je=T.extend({ctor:function(){this._super();this.label=cc.LabelBMFont.create("YRGB","res/fonts/konqa32.fnt");this.addChild(this.label);this.label.setPosition(u.width/2,u.height/2);this.label.setColor(cc.Sf);var a=this.label.getChildByTag(1);a.setColor(cc.xd);a=this.label.getChildByTag(2);a.setColor(cc.tf);a=this.label.getChildByTag(3);a.setColor(cc.sf);this.scheduleUpdate();this.Sa=0},update:function(a){this.Sa+=a;this.label.setString("YRGB "+parseInt(this.Sa,10).toString())},title:m("cc.LabelBMFont color parent / child"),
d:m("Yellow Red Green Blue and numbers in Yellow"),s:function(){return JSON.stringify([{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:255,b:0},{r:0,g:0,b:255},{r:255,g:255,b:0}])},q:function(){for(var a=[],b=0;5>b;b++){var c=this.label.getChildByTag(b).sg();a.push(c)}return JSON.stringify(a)}}),ie=[ke,le,me,ne,oe,pe,qe,re,se,te,ue,Ce,Ee,Fe,Ge,Je,we,xe,Be,ye,ze,Ae,De,He,Ie,ve];function he(){ge++;ge%=ie.length;return new ie[ge]}function je(){ge--;0>ge&&(ge+=ie.length);return new ie[ge]};cc.TAG_LAYER=1;
var Ke=-1,sa=x.extend({G:function(){Ke=-1;this.addChild(Le());r.replaceScene(this)}}),Oe=y.extend({e:h,title:m("No title"),d:m(""),J:function(){var a=new sa;a.addChild(new Me[Ke]);r.replaceScene(a)},I:function(){var a=new sa;a.addChild(Le());r.replaceScene(a)},H:function(){var a=new sa;a.addChild(Ne());r.replaceScene(a)},M:function(){return Me.length-1-Ke},K:function(){return Ke}}),Pe=Oe.extend({onEnter:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&
this.setMouseEnabled(g);var a=r.getWinSize(),b=cc.LayerColor.create(cc.k(255,0,0,128),200,200);b.ignoreAnchorPointForPosition(j);b.setPosition(cc.p(a.width/2,a.height/2));this.addChild(b,1,cc.TAG_LAYER)},title:m("ColorLayer resize (tap & move)"),of:function(a){a=cc.size(2*Math.abs(a.x-u.width/2),2*Math.abs(a.y-u.height/2));this.getChildByTag(cc.TAG_LAYER).setContentSize(a)},onMouseDragged:function(a){this.of(a.getLocation());return g},onTouchesMoved:function(a){this.of(a[0].getLocation())}}),Qe=Oe.extend({onEnter:function(){this._super();
var a=r.getWinSize(),b=cc.LayerColor.create(cc.k(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(g);var c=cc.LayerColor.create(cc.k(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(g);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #1"),d:m("red:true  green:true")}),Re=Oe.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.k(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(g);
var c=cc.LayerColor.create(cc.k(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(j);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #2"),d:m("red:true  green:false")}),Se=Oe.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.k(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(j);var c=cc.LayerColor.create(cc.k(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(j);
b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #3"),d:m("red:false  green:false")}),Te=Oe.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.k(255,100,100,128),a.width/2,a.height/2);b.ignoreAnchorPointForPosition(j);var c=cc.LayerColor.create(cc.k(100,255,100,128),a.width/4,a.height/4);c.ignoreAnchorPointForPosition(g);b.addChild(c);b.setPosition(a.width/2,a.height/2);this.addChild(b)},title:m("ignore Anchorpoint Test #4"),
d:m("red:false  green:true")}),Ue=Oe.extend({onEnter:function(){this._super();var a=r.getWinSize(),b=cc.LayerColor.create(cc.k(255,255,0,80),100,300);b.setPosition(cc.p(a.width/3,a.height/2));b.ignoreAnchorPointForPosition(j);this.addChild(b,1);var c=cc.LayerColor.create(cc.k(0,0,255,255),100,300);c.setPosition(cc.p(2*(a.width/3),a.height/2));c.ignoreAnchorPointForPosition(j);this.addChild(c,1);var a=cc.TintBy.create(2,-255,-127,0),d=a.reverse(),a=cc.Sequence.create(a,d);b.runAction(a);b=cc.FadeOut.create(2);
a=b.reverse();b=cc.Sequence.create(b,a);c.runAction(b)},title:m("ColorLayer: fade and tint")}),Ve=Oe.extend({yc:g,ctor:function(){this._super();var a=cc.LayerColor.create(cc.k(255,255,255,80)),b=cc.Sprite.create("res/Images/grossinis_sister1.png"),c=cc.Sprite.create("res/Images/grossinis_sister2.png");this.addChild(b);this.addChild(c);this.addChild(a,100,cc.TAG_LAYER);b.setPosition(cc.p(160,u.height/2));c.setPosition(cc.p(320,u.height/2));this.schedule(this.Wg,1);this.yc=g},Wg:function(){var a=this.getChildByTag(cc.TAG_LAYER),
b,c;this.yc?(b=gl.SRC_ALPHA,c=gl.ONE_MINUS_SRC_ALPHA):(b=gl.ONE_MINUS_DST_COLOR,c=gl.ZERO);a.setBlendFunc(b,c);this.yc=!this.yc},title:m("ColorLayer: blend")}),We=Oe.extend({Na:j,ctor:function(){this._super();this.addChild(cc.LayerGradient.create(cc.k(255,0,0,255),cc.k(0,255,0,255),cc.p(0.9,0.9)),0,cc.TAG_LAYER);"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.LabelTTF.create("Compressed Interpolation: Enabled","Marker Felt",26),b=cc.LabelTTF.create("Compressed Interpolation: Disabled",
"Marker Felt",26),a=cc.MenuItemLabel.create(a),b=cc.MenuItemLabel.create(b),b=cc.MenuItemToggle.create(a,b,this.lh,this),b=cc.Menu.create(b);this.addChild(b);b.setPosition(cc.p(u.width/2,100))},ge:function(a){a=cc.pSub(cc.p(u.width/2,u.height/2),a);a=cc.pNormalize(a);this.getChildByTag(1).setVector(a)},onTouchesBegan:function(a){this.Na=g;this.ge(a[0].getLocation())},onTouchesMoved:function(a){this.Na&&this.ge(a[0].getLocation())},onTouchesEnded:function(){this.Na=j},onMouseDragged:function(a){this.ge(a.getLocation());
return g},lh:function(){var a=this.getChildByTag(cc.TAG_LAYER);a.setCompressedInterpolation(!a.isCompressedInterpolation())},title:m("LayerGradient"),d:m("Touch the screen and move your finger")}),Me=[Pe,Ue,Ve,We,Qe,Re,Se,Te];function Le(){Ke++;Ke%=Me.length;return new Me[Ke]}function Ne(){Ke--;0>Ke&&(Ke+=Me.length);return new Me[Ke]};var Xe=cc.Layer.extend({ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontSize(30);cc.MenuItemFont.setFontName("Courier New");"touches"in sys.capabilities||"browser"==sys.platform?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,46,115,23)),b=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,23,115,23)),c=cc.Sprite.create("res/Images/menuitemsprite.png",
cc.rect(0,0,115,23)),b=cc.MenuItemSprite.create(a,b,c,this.aa,this),c=cc.MenuItemImage.create("res/Images/SendScoreButton.png","res/Images/SendScoreButtonPressed.png",this.Yd,this),a=cc.LabelAtlas.create("0123456789","res/fonts/fps_images.png",16,24,"."),a=cc.MenuItemLabel.create(a,this.Sg,this);a.setDisabledColor(cc.o(32,32,64));a.setColor(cc.o(200,200,255));var d=cc.MenuItemFont.create("I toggle enable items",this.Tg,this);d.setFontSize(20);cc.MenuItemFont.setFontName("Marker Felt");var f=cc.LabelBMFont.create("configuration",
"res/fonts/bitmapFontTest3.fnt"),f=cc.MenuItemLabel.create(f,this.Rg,this);f.setScale(0.8);var i=cc.MenuItemFont.create("Priority Test",this.Vg,this),k=cc.MenuItemFont.create("Quit",this.Se,this);k.setColor(cc.o(255,255,255));var o=cc.TintBy.create(0.5,0,-255,-255),q=o.reverse(),o=cc.Sequence.create(o,q);k.runAction(cc.RepeatForever.create(o));b=cc.Menu.create(b,c,a,d,f,i,k);b.alignItemsVertically();c=r.getWinSize();f=b.getChildren();for(i=0;i<f.length&&f[i]!==h;i++)d=f[i],k=d.getPosition(),o=c.width/
2+50,0===i%2&&(o=-o),d.setPosition(cc.p(k.x+o,k.y)),d.runAction(cc.EaseElasticOut.create(cc.MoveBy.create(2,cc.p(k.x-o,0)),0.35));this.Ea=a;this.Ea.setEnabled(j);this.addChild(b)},registerWithTouchDispatcher:function(){r.getTouchDispatcher().addTargetedDelegate(this,cc.yb+1,g)},onTouchBegan:m(g),aa:function(){this.getParent().switchTo(1)},Rg:function(){this.getParent().switchTo(3)},Ag:function(){r.getTouchDispatcher().setPriority(cc.yb+1,this);this.unscheduleAllCallbacks();cc.log("TOUCHES ALLOWED AGAIN")},
Sg:function(){r.getTouchDispatcher().setPriority(cc.yb-1,this);this.schedule(this.Ag,5);cc.log("TOUCHES DISABLED FOR 5 SECONDS")},Tg:function(){this.Ea.setEnabled(!this.Ea.isEnabled())},Yd:function(){this.getParent().switchTo(2)},Vg:function(){this.getParent().switchTo(4)},Se:function(){cc.log("Quit called")}}),Ye=cc.Layer.extend({Dd:h,wc:j,ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();for(var a=0;2>a;a++){var b=cc.MenuItemImage.create("res/Images/btn-play-normal.png",
"res/Images/btn-play-selected.png",this.aa,this),c=cc.MenuItemImage.create("res/Images/btn-highscores-normal.png","res/Images/btn-highscores-selected.png",this.Ug,this),d=cc.MenuItemImage.create("res/Images/btn-about-normal.png","res/Images/btn-about-selected.png",this.Qg,this);b.setScaleX(1.5);c.setScaleX(0.5);d.setScaleX(0.5);b=cc.Menu.create(b,c,d);b.setTag(77771);b.setPosition(cc.p(r.getWinSize().width/2,r.getWinSize().height/2));this.addChild(b,0,100+a);this.Dd=b.getPosition()}this.wc=g;this.Ae()},
Ae:function(){for(var a,b=0;2>b;b++){var c=this.getChildByTag(100+b);c.setPosition(this.Dd);0===b?(c.alignItemsHorizontally(),a=c.getPosition(),c.setPosition(cc.pAdd(a,cc.p(0,30)))):(c.alignItemsHorizontallyWithPadding(40),a=c.getPosition(),c.setPosition(cc.pSub(a,cc.p(0,30))))}},Zf:function(){for(var a,b=0;2>b;b++){var c=this.getChildByTag(100+b);c.setPosition(this.Dd);0===b?(c.alignItemsVertically(),a=c.getPosition(),c.setPosition(cc.pAdd(a,cc.p(100,0)))):(c.alignItemsVerticallyWithPadding(40),
a=c.getPosition(),c.setPosition(cc.pSub(a,cc.p(100,0))))}},aa:function(){this.getParent().switchTo(0)},Ug:function(a){a=a.getParent();128==a.getOpacity()?a.setOpacity(255):a.setOpacity(128)},Qg:function(){(this.wc=!this.wc)?this.Ae():this.Zf()}}),Ze=cc.Layer.extend({Ea:h,ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(28);var a=cc.LabelBMFont.create("Enable AtlasItem","res/fonts/bitmapFontTest3.fnt"),
a=cc.MenuItemLabel.create(a,this.Yd,this),b=cc.MenuItemFont.create("--- Go Back ---",this.aa,this),c=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,46,115,23)),d=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,23,115,23)),f=cc.Sprite.create("res/Images/menuitemsprite.png",cc.rect(0,0,115,23));this.Ea=c=cc.MenuItemSprite.create(c,d,f,this.Pg,this);this.Ea.setEnabled(j);d=cc.Menu.create(a,b,c);d.setPosition(cc.p(0,0));f=r.getWinSize();a.setPosition(cc.p(f.width/2-150,f.height/
2));b.setPosition(cc.p(f.width/2-200,f.height/2));c.setPosition(cc.p(f.width/2,f.height/2-100));f=cc.JumpBy.create(3,cc.p(400,0),50,4);b.runAction(cc.RepeatForever.create(cc.Sequence.create(f,f.reverse())));var f=cc.RotateBy.create(3,360),i=f.copy(),k=f.copy();a.runAction(cc.RepeatForever.create(f));b.runAction(cc.RepeatForever.create(i));c.runAction(cc.RepeatForever.create(k));this.addChild(d);d.setPosition(cc.p(0,0))},aa:function(){this.getParent().switchTo(0)},Yd:function(){this.Ea.setEnabled(!this.Ea.isEnabled());
this.Ea.stopAllActions()},Pg:l()}),$e=cc.Layer.extend({ctor:function(){cc.associateWithNative(this,cc.Layer);this.init()},init:function(){this._super();cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var a=cc.MenuItemFont.create("Sound");a.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var b=cc.MenuItemToggle.create(cc.MenuItemFont.create("On"),cc.MenuItemFont.create("Off"));b.setCallback(this.aa,this);cc.MenuItemFont.setFontName("American Typewriter");
cc.MenuItemFont.setFontSize(18);var c=cc.MenuItemFont.create("Music");c.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var d=cc.MenuItemToggle.create(cc.MenuItemFont.create("Off"),cc.MenuItemFont.create("On"),this.aa.bind(this));cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var f=cc.MenuItemFont.create("Quality");f.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var i=cc.MenuItemToggle.create(cc.MenuItemFont.create("High"),
cc.MenuItemFont.create("Low"),this.aa,this);cc.MenuItemFont.setFontName("American Typewriter");cc.MenuItemFont.setFontSize(18);var k=cc.MenuItemFont.create("Orientation");k.setEnabled(j);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);var o=cc.MenuItemToggle.create(cc.MenuItemFont.create("Off"),cc.MenuItemFont.create("33%"),cc.MenuItemFont.create("66%"),cc.MenuItemFont.create("100%"),this.aa,this);o.setSelectedIndex(2);cc.MenuItemFont.setFontName("Marker Felt");cc.MenuItemFont.setFontSize(34);
var q=cc.LabelBMFont.create("go back","res/fonts/bitmapFontTest3.fnt"),q=cc.MenuItemLabel.create(q,this.H,this),a=cc.Menu.create(a,c,b,d,f,k,i,o,q);a.alignItemsInColumns(2,2,2,2,1);this.addChild(a);b=r.getWinSize();a.setPosition(b.width/2,b.height/2)},aa:function(){cc.log("Callback called")},H:function(){this.getParent().switchTo(0)}}),af=cc.Layer.extend({Pa:h,Ub:h,Ac:j,ctor:function(){cc.associateWithNative(this,cc.Layer);this.init();this.Pa=cc.Menu.create();this.Ub=cc.Menu.create();cc.MenuItemFont.setFontName("Marker Felt");
cc.MenuItemFont.setFontSize(18);var a=cc.MenuItemFont.create("Return to Main Menu",this.aa,this),b=cc.MenuItemFont.create("Disable menu for 5 seconds",this.Fg,this);this.Pa.addChild(a);this.Pa.addChild(b);this.Pa.alignItemsVerticallyWithPadding(2);this.addChild(this.Pa);this.Ac=g;cc.MenuItemFont.setFontSize(48);a=cc.MenuItemFont.create("Toggle priority",this.nh,this);a.setColor(cc.o(0,0,255));this.Ub.addChild(a);this.addChild(this.Ub)},aa:function(){this.getParent().switchTo(0)},Fg:function(){this.Pa.setEnabled(j);
var a=cc.DelayTime.create(5),b=cc.CallFunc.create(this.Gg,this);this.Pa.runAction(cc.Sequence.create(a,b))},Gg:function(){this.Pa.setEnabled(g)},nh:function(){this.Ac?(this.Ub.setHandlerPriority(cc.yb+20),this.Ac=j):(this.Ub.setHandlerPriority(cc.yb-20),this.Ac=g)}}),ta=x.extend({G:function(){var a=new Xe,b=new Ye,c=new Ze,d=new $e,f=new af;this.addChild(cc.LayerMultiplex.create(a,b,c,d,f),0);r.replaceScene(this)}});var bf=-1,va=x.extend({G:function(){bf=-1;this.addChild(cf());r.replaceScene(this)}}),U=y.extend({f:h,j:h,m:h,U:h,ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255))},title:m("OpenGLTest"),d:m(""),H:function(){var a=new va;a.addChild(df());r.replaceScene(a)},J:function(){var a=new va;a.addChild(new ef[bf]);r.replaceScene(a)},I:function(){var a=new va;a.addChild(cf());r.replaceScene(a)},M:function(){return ef.length-1-bf},K:function(){return bf}}),ff=U.extend({ctor:function(){this._super();
if("opengl"in sys.capabilities){var a=u.width,b=u.height,c=cc.LayerColor.create(cc.k(0,0,255,255)),d=cc.LayerColor.create(cc.k(255,0,0,255)),f=cc.LayerColor.create(cc.k(0,255,0,255)),i=cc.LayerColor.create(cc.k(255,255,255,255));c.setScale(0.5);c.setPosition(-a/4,-b/4);d.setScale(0.5);d.setPosition(a/4,-b/4);f.setScale(0.5);f.setPosition(-a/4,b/4);i.setScale(0.5);i.setPosition(a/4,b/4);this.addChild(c,10);this.addChild(i,11);this.addChild(f,12);this.addChild(d,13)}},title:m("gl.ReadPixels()"),d:m("Tests ReadPixels. See console"),
s:function(){return JSON.stringify([{"0":255,1:0,2:0,3:255},{"0":0,1:255,2:0,3:255},{"0":0,1:0,2:255,3:255},{"0":255,1:255,2:255,3:255}])},q:function(){var a=u.width,b=u.height,c=new Uint8Array(4),d=new Uint8Array(4),f=new Uint8Array(4),i=new Uint8Array(4);gl.readPixels(0,0,1,1,gl.RGBA,gl.UNSIGNED_BYTE,f);gl.readPixels(a-1,0,1,1,gl.RGBA,gl.UNSIGNED_BYTE,c);gl.readPixels(0,b-1,1,1,gl.RGBA,gl.UNSIGNED_BYTE,d);gl.readPixels(a-1,b-1,1,1,gl.RGBA,gl.UNSIGNED_BYTE,i);return JSON.stringify([c,d,f,i])}}),
gf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){this.addChild(cc.LayerColor.create(cc.k(0,0,255,255)),1);var a=new cc.GLNode;a.init();a.draw=function(){gl.clear(gl.COLOR_BUFFER_BIT)};this.addChild(a,10);a.setPosition(u.width/2,u.height/2)}},title:m("gl.clear(gl.COLOR_BUFFER_BIT)"),d:m("Testing gl.clear() with cc.GLNode"),s:function(){return JSON.stringify({"0":0,1:0,2:0,3:255})},q:function(){var a=this.readPixels(u.width/2,u.height/2,1,1);return JSON.stringify(a)}}),hf=
U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=this.compileShader("\n#ifdef GL_ES\nprecision mediump float;\n#endif\nvarying vec4 vColor;\nvoid main(void) {\n gl_FragColor = vColor;\n}\n","fragment"),b=this.compileShader("\nattribute vec3 aVertexPosition;\nattribute vec4 aVertexColor;\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nvarying vec4 vColor;\nvoid main(void) {\n gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n vColor = aVertexColor;\n}\n",
"vertex"),c=this.za=gl.createProgram();gl.attachShader(c,b);gl.attachShader(c,a);gl.linkProgram(c);gl.getProgramParameter(c,gl.LINK_STATUS)||e("Could not initialise shaders");gl.useProgram(c);c.rd=gl.getAttribLocation(c,"aVertexPosition");gl.enableVertexAttribArray(c.rd);c.qd=gl.getAttribLocation(c,"aVertexColor");gl.enableVertexAttribArray(c.qd);c.Ye=gl.getUniformLocation(c,"uPMatrix");c.Qe=gl.getUniformLocation(c,"uMVMatrix");this.Zb();a=cc.GLNode.create();this.addChild(a,10);a.draw=function(){this.Wc=
new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.Pe=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);gl.useProgram(this.za);gl.uniformMatrix4fv(this.za.Ye,j,this.Wc);gl.uniformMatrix4fv(this.za.Qe,j,this.Pe);gl.enableVertexAttribArray(this.za.rd);gl.enableVertexAttribArray(this.za.qd);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ka);gl.vertexAttribPointer(this.za.rd,this.Ka.sb,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.ed);gl.vertexAttribPointer(this.za.qd,this.ed.sb,gl.FLOAT,j,0,0);this.Lh();
gl.drawArrays(gl.TRIANGLE_STRIP,0,this.Ka.ac);gl.bindBuffer(gl.ARRAY_BUFFER,this.mc);gl.vertexAttribPointer(this.za.rd,this.mc.sb,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.od);gl.vertexAttribPointer(this.za.qd,this.od.sb,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLES,0,this.mc.ac);gl.bindBuffer(gl.ARRAY_BUFFER,h)}.bind(this)}},Lh:function(){gl.uniformMatrix4fv(this.za.Ye,j,this.Wc);gl.uniformMatrix4fv(this.za.Qe,j,this.Pe)},Zb:function(){var a=this.mc=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,
a);var b=[0,1,0,-1,-1,0,1,-1,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW);a.sb=3;a.ac=3;a=this.od=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);b=[1,0,0,1,1,0,0,1,1,0,0,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW);a.sb=4;a.ac=3;a=this.Ka=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);b=[1,1,0,-1,1,0,1,-1,0,-1,-1,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW);a.sb=3;a.ac=4;a=this.ed=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,
a);b=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(b),gl.STATIC_DRAW);a.sb=4;a.ac=4;gl.bindBuffer(gl.ARRAY_BUFFER,h)},compileShader:function(a,b){var c;c="fragment"==b?gl.createShader(gl.FRAGMENT_SHADER):gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(c,a);gl.compileShader(c);gl.getShaderParameter(c,gl.COMPILE_STATUS)||(cc.log(gl.getShaderInfoLog(c)),e("Could not compile "+b+" shader"));return c},title:m("GLNode + WebGL API"),d:m("blue background with a red triangle in the middle"),
s:function(){return JSON.stringify([{"0":0,1:0,2:255,3:255},{"0":0,1:0,2:255,3:255},{"0":255,1:0,2:0,3:255}])},q:function(){var a=this.readPixels(10,u.height-1,1,1),b=this.readPixels(u.width-10,u.height-1,1,1),c=this.readPixels(u.width/2,u.height/2,1,1);return JSON.stringify([a,b,c])}}),jf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=cc.GLNode.create();this.addChild(a,10);this.ca=cc.ShaderCache.getInstance().getProgram("ShaderPositionColor");this.Zb();a.draw=function(){this.ca.use();
this.ca.setUniformsForBuiltins();cc.glEnableVertexAttribs(cc.Qf|cc.yd);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ka);gl.vertexAttribPointer(cc.Bb,2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.ed);gl.vertexAttribPointer(cc.pe,4,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindBuffer(gl.ARRAY_BUFFER,this.mc);gl.vertexAttribPointer(cc.Bb,2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.od);gl.vertexAttribPointer(cc.pe,4,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,3);gl.bindBuffer(gl.ARRAY_BUFFER,
h)}.bind(this)}},Zb:function(){var a=this.mc=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[u.width/2,u.height,0,0,u.width,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=this.od=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[1,0,0,1,1,0,0,1,1,0,0,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);a=this.Ka=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[u.width,u.height,0,u.height,u.width,0,0,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),
gl.STATIC_DRAW);a=this.ed=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);a=[0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(a),gl.STATIC_DRAW);gl.bindBuffer(gl.ARRAY_BUFFER,h)},title:m("GLNode + cocos2d API"),d:m("blue background with a red triangle in the middle"),s:function(){return JSON.stringify([{"0":0,1:0,2:255,3:255},{"0":0,1:0,2:255,3:255},{"0":255,1:0,2:0,3:255}])},q:function(){var a=this.readPixels(10,u.height-1,1,1),b=this.readPixels(u.width-10,u.height-
1,1,1),c=this.readPixels(u.width/2,u.height/2,1,1);return JSON.stringify([a,b,c])}}),kf=cc.GLNode.extend({ctor:function(a,b){this._super();cc.associateWithNative(this,cc.GLNode);this.init();if("opengl"in sys.capabilities){this.setContentSize(cc.size(256,256));this.setAnchorPoint(cc.p(0.5,0.5));this.ca=cc.GLProgram.create(a,b);this.ca.retain();this.ca.addAttribute("aVertex",cc.Bb);this.ca.link();this.ca.updateUniforms();var c=this.ca.getProgram();cc.log("ShaderNode 01");this.bi=gl.getUniformLocation(c,
"center");cc.log("ShaderNode 02");this.ci=gl.getUniformLocation(c,"resolution");cc.log("ShaderNode 03");this.Zb();cc.log("ShaderNode 04");this.scheduleUpdate()}},draw:function(){this.ca.use();this.ca.setUniformsForBuiltins();this.ca.setUniformLocationF32(this.bi,u.width/2,u.height/2);this.ca.setUniformLocationF32(this.ci,256,256);cc.glEnableVertexAttribs(cc.yd);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ka);gl.vertexAttribPointer(cc.Bb,2,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindBuffer(gl.ARRAY_BUFFER,
h)},update:l(),Zb:function(){var a=this.Ka=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);vertices=[256,256,0,256,256,0,0,0];gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(vertices),gl.STATIC_DRAW);gl.bindBuffer(gl.ARRAY_BUFFER,h)}}),lf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new kf("res/Shaders/example_Heart.vsh","res/Shaders/example_Heart.fsh");this.addChild(a,10);a.setPosition(u.width/2,u.height/2)}},title:m("Shader Heart Test"),d:m("You should see a heart in the center"),
s:function(){return JSON.stringify({"0":255,1:0,2:0,3:255})},q:function(){var a=this.readPixels(u.width/2,u.height/2,1,1);a[0]=240<a[0]?255:0;a[3]=240<a[3]?255:0;return JSON.stringify(a)}}),mf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new kf("res/Shaders/example_Plasma.vsh","res/Shaders/example_Plasma.fsh");this.addChild(a,10);a.setPosition(u.width/2,u.height/2)}},title:m("Shader Plasma Test"),d:m("You should see a plasma in the center"),s:function(){return JSON.stringify(g)},
q:function(){var a=this.readPixels(u.width/2,u.height/2,1,1);return JSON.stringify(300<a[0]+a[1]+a[2])}}),nf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new kf("res/Shaders/example_Flower.vsh","res/Shaders/example_Flower.fsh");this.addChild(a,10);a.setPosition(u.width/2,u.height/2)}},title:m("Shader Flower Test"),d:m("You should see a moving Flower in the center"),s:function(){return JSON.stringify(g)},q:function(){var a=this.readPixels(u.width/2,u.height/2,1,1);
return JSON.stringify(30>a[0]+a[1]+a[2])}}),of=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=new kf("res/Shaders/example_Julia.vsh","res/Shaders/example_Julia.fsh");this.addChild(a,10);a.setPosition(u.width/2,u.height/2)}},title:m("Shader Julia Test"),d:m("You should see Julia effect"),s:function(){return JSON.stringify(g)},q:function(){var a=this.readPixels(u.width/2,u.height/2,1,1);return JSON.stringify(300<a[0]+a[1]+a[2])}}),pf=U.extend({ctor:function(){this._super();
if("opengl"in sys.capabilities){var a=cc.GLProgram.create("res/Shaders/example_ColorBars.vsh","res/Shaders/example_ColorBars.fsh");a.addAttribute(cc.pf,cc.Bb);a.addAttribute(cc.qf,cc.qe);a.link();a.updateUniforms();var b=cc.LabelBMFont.create("RETRO EFFECT","res/fonts/west_england-64.fnt");b.setShaderProgram(a);b.setPosition(u.width/2,u.height/2);this.addChild(b);this.scheduleUpdate();this.label=b;this.Sa=0}},update:function(a){this.Sa+=a;var a=this.label.getChildren(),b;for(b in a){var c=a[b],d=
c.getPosition();c.setPosition(d.x,20*Math.sin(2*this.Sa+b/2));c.setScaleY(Math.sin(2*this.Sa+b/2+0.707))}},title:m("Shader Retro Effect"),d:m("Should see moving colors, and a sin effect on the letters")}),qf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=this.Ja=cc.Sprite.create("res/Images/grossini.png");a.setPosition(u.width/2,u.height/2);this.addChild(a);this.scheduleOnce(this.ih,0.5)}},ih:function(){cc.log(this.q())},title:m("gl.getActive***"),d:m("Tests gl.getActiveUniform / getActiveAttrib. See console"),
s:function(){return JSON.stringify([{size:1,type:35666,name:"a_position"},{size:1,type:35678,name:"CC_Texture"},[2,3]])},q:function(){var a=[],b=this.Ja.getShaderProgram().getProgram();a.push(gl.getActiveAttrib(b,0));a.push(gl.getActiveUniform(b,0));a.push(gl.getAttachedShaders(b));return JSON.stringify(a)}}),rf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities){var a=cc.GLNode.create();this.addChild(a,10);a.setPosition(u.width/2,u.height/2);a.setContentSize(cc.size(128,128));
a.setAnchorPoint(cc.p(0.5,0.5));this.ca=cc.ShaderCache.getInstance().getProgram("ShaderPositionTexture");this.vg();a.draw=function(){this.ca.use();this.ca.setUniformsForBuiltins();gl.bindTexture(gl.TEXTURE_2D,this.yg);cc.glEnableVertexAttribs(cc.Rf|cc.yd);gl.bindBuffer(gl.ARRAY_BUFFER,this.Ka);gl.vertexAttribPointer(cc.Bb,2,gl.FLOAT,j,0,0);gl.bindBuffer(gl.ARRAY_BUFFER,this.Oh);gl.vertexAttribPointer(cc.qe,2,gl.FLOAT,j,0,0);gl.drawArrays(gl.TRIANGLE_STRIP,0,4);gl.bindTexture(gl.TEXTURE_2D,h);gl.bindBuffer(gl.ARRAY_BUFFER,
h)}.bind(this)}},vg:function(){var a=this.yg=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,a);for(var a=new Uint8Array(4096),b=0;b<a.length;)a[b++]=b/4,a[b++]=b/16,a[b++]=b/8,a[b++]=255;gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,32,32,0,gl.RGBA,gl.UNSIGNED_BYTE,a);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.bindTexture(gl.TEXTURE_2D,h);a=this.Ka=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,
new Float32Array([128,128,0,128,128,0,0,0]),gl.STATIC_DRAW);a=this.Oh=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,a);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),gl.STATIC_DRAW);gl.bindBuffer(gl.ARRAY_BUFFER,h)},title:m("TexImage2DTest"),d:m("Testing Texture creation"),s:function(){return JSON.stringify({"0":239,1:123,2:247,3:255,4:239,5:123,6:247,7:255,8:240,9:124,10:248,11:255,12:240,13:124,14:248,15:255,16:239,17:123,18:247,19:255,20:239,21:123,22:247,23:255,24:240,25:124,
26:248,27:255,28:240,29:124,30:248,31:255,32:15,33:131,34:7,35:255,36:15,37:131,38:7,39:255,40:16,41:132,42:8,43:255,44:16,45:132,46:8,47:255,48:15,49:131,50:7,51:255,52:15,53:131,54:7,55:255,56:16,57:132,58:8,59:255,60:16,61:132,62:8,63:255})},q:function(){var a=this.readPixels(u.width/2-2,u.height/2-2,4,4);return JSON.stringify(a)}}),sf=U.extend({ctor:function(){this._super();if("opengl"in sys.capabilities&&!w){var a=gl.getSupportedExtensions();cc.log(JSON.stringify(a));0<a.length&&cc.log(gl.getExtension(a[0]))}},
title:m("GetSupportedExtensionsTest"),d:m("See console for the supported GL extensions"),s:function(){return JSON.stringify(["[object Array]",h])},q:function(){var a=gl.getSupportedExtensions(),a=Object.prototype.toString.call(a),b=gl.getExtension("do_no_exist");return JSON.stringify([a,b])}}),tf=U.extend({ctor:function(){this._super();"opengl"in sys.capabilities&&(w||cc.log(this.Le()))},title:m("GLTexParamterTest"),d:m("tests texParameter()"),Le:function(){gl.bindTexture(gl.TEXTURE_2D,h);gl.texParameteri(gl.TEXTURE_2D,
gl.TEXTURE_MAG_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);var a=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER),b=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER),c=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S),d=gl.getTexParameter(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S);return[a,b,c,d]},s:function(){return JSON.stringify([9728,
9728,33071,33071])},q:function(){var a=this.Le();return JSON.stringify(a)}}),uf=U.extend({ctor:function(){this._super();"opengl"in sys.capabilities&&(w||cc.log(JSON.stringify(this.Za())))},title:m("GLGetUniformTest"),d:m("tests texParameter()"),Za:function(){var a=cc.ShaderCache.getInstance().getProgram("ShaderPositionTextureColor"),b=a.getProgram();a.use();a=gl.getUniformLocation(b,"CC_MVPMatrix");this.Wc=new Float32Array([1,2,3,4,4,3,2,1,1,2,4,8,1.1,1.2,1.3,1.4]);gl.uniformMatrix4fv(a,j,this.Wc);
return gl.getUniform(b,a)},s:function(){return JSON.stringify({"0":1,1:2,2:3,3:4,4:4,5:3,6:2,7:1,8:1,9:2,10:4,11:8,12:1.100000023841858,13:1.2000000476837158,14:1.2999999523162842,15:1.399999976158142})},q:function(){var a=this.Za();return JSON.stringify(a)}}),ef=[lf,mf,nf,of,pf,qf,rf,sf,ff,gf,hf,jf,tf,uf];function cf(){bf++;bf%=ef.length;return new ef[bf]}function df(){bf--;0>bf&&(bf+=ef.length);return new ef[bf]};var Ja=9960,vf=-1;ParallaxDemo=y.extend({Tf:h,ctor:function(){this._super(cc.k(0,0,0,255),cc.k(160,32,32,255))},title:m("No title"),H:function(){var a=new ParallaxTestScene;a.addChild(wf());r.replaceScene(a)},J:function(){var a=new ParallaxTestScene;a.addChild(new xf[vf]);r.replaceScene(a)},I:function(){var a=new ParallaxTestScene;a.addChild(yf());r.replaceScene(a)},M:function(){return xf.length-1-vf},K:function(){return vf}});
Parallax1=ParallaxDemo.extend({Kb:h,C:h,Av:h,vv:h,ctor:function(){this._super();_cocosimage=cc.Sprite.create("res/Images/powered.png");_cocosimage.setScale(1.5);_cocosimage.setAnchorPoint(cc.p(0,0));_tilemap=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");_tilemap.setAnchorPoint(cc.p(0,0));_background=cc.Sprite.create("res/Images/background.png");_background.setAnchorPoint(cc.p(0,0));_parent=cc.ParallaxNode.create();_parent.addChild(_background,-1,cc.p(0.4,0.5),cc.p(0,0));_parent.addChild(_tilemap,
1,cc.p(2.2,1),cc.p(0,0));_parent.addChild(_cocosimage,2,cc.p(3,2.5),cc.p(0,0));var a=cc.MoveBy.create(2,cc.p(0,100)),b=cc.MoveBy.create(2,cc.p(200,0)),c=cc.DelayTime.create(2),d=a.reverse(),f=b.reverse(),a=cc.Sequence.create(a,b,c,d,f);_parent.runAction(cc.RepeatForever.create(a));this.addChild(_parent)},title:m("Parallax: parent and 3 children"),B:5,s:function(){var a={};a.th=cc.p(200,100);a.qh=cc.p(-120,-50);a.rh=cc.p(240,0);a.sh=cc.p(400,150);return JSON.stringify(a)},q:function(){var a={};a.th=
cc.p(Math.round(_parent.getPosition().x),Math.round(_parent.getPosition().y));a.qh=cc.p(Math.round(_background.getPosition().x),Math.round(_background.getPosition().y));a.rh=cc.p(Math.round(_tilemap.getPosition().x),Math.round(_tilemap.getPosition().y));a.sh=cc.p(Math.round(_cocosimage.getPosition().x),Math.round(_cocosimage.getPosition().y));return JSON.stringify(a)}});
Parallax2=ParallaxDemo.extend({xv:h,Ba:h,zv:h,ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.Sprite.create("res/Images/powered.png");a.setScale(1.5);a.setAnchorPoint(cc.p(0,0));var b=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.create("res/Images/background.png");c.setAnchorPoint(cc.p(0,0));var d=cc.ParallaxNode.create();d.addChild(c,-1,cc.p(0.4,
0.5),cc.p(0,0));d.addChild(b,1,cc.p(1,1),cc.p(0,0));d.addChild(a,2,cc.p(3,2.5),cc.p(0,0));this.addChild(d,0,Ja)},onTouchesMoved:function(a){var a=a[0],b=this.getChildByTag(Ja),c=b.getPosition();b.setPosition(cc.pAdd(c,a.getDelta()))},onMouseDragged:function(a){var b=this.getChildByTag(Ja),c=b.getPosition();b.setPosition(cc.pAdd(c,a.getDelta()))},title:m("Parallax: drag screen")});ParallaxTestScene=x.extend({G:function(){vf=-1;this.addChild(yf());r.replaceScene(this)}});var xf=[Parallax1,Parallax2];
function yf(){vf++;vf%=xf.length;return new xf[vf]}function wf(){vf--;0>vf&&(vf+=xf.length);return new xf[vf]};var zf=1,Af=-1,wa=x.extend({G:function(){Af=-1;this.addChild(Bf());r.replaceScene(this)}}),Yf=[function(){return new Cf},function(){return new Df},function(){return new Ef},function(){return new Ff},function(){return new Gf},function(){return new Hf},function(){return new If},function(){return new Jf},function(){return new Kf},function(){return new Lf},function(){return new Mf},function(){return new Nf},function(){return new Of},function(){return new Pf},function(){return new Qf},function(){return new Rf("BoilingFoam")},
function(){return new Rf("BurstPipe")},function(){return new Rf("Comet")},function(){return new Rf("debian")},function(){return new Rf("ExplodingRing")},function(){return new Rf("LavaFlow")},function(){return new Rf("SpookyPeas")},function(){return new Rf("Upsidedown")},function(){return new Rf("Flower")},function(){return new Rf("Spiral")},function(){return new Rf("Galaxy")},function(){return new Sf},function(){return new Tf},function(){return new Uf},function(){return new Vf},function(){return new Rf("Phoenix")},
function(){return new Wf},function(){return new Xf}];function Bf(){Af++;Af%=Yf.length;return Yf[Af]()}function Zf(){Af--;0>Af&&(Af+=Yf.length);return Yf[Af]()}
var V=y.extend({c:h,C:h,lb:h,nb:h,Na:j,setColor:l(),ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255));this.Na=j;this.c=h;"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=r.getWinSize(),b=cc.Sprite.create("res/Images/movement.png",cc.rect(0,46,123,23)),c=cc.Sprite.create("res/Images/movement.png",cc.rect(0,23,123,23)),d=cc.Sprite.create("res/Images/movement.png",cc.rect(0,0,123,23)),f=cc.Sprite.create("res/Images/movement.png",
cc.rect(123,46,138,23)),i=cc.Sprite.create("res/Images/movement.png",cc.rect(123,23,138,23)),k=cc.Sprite.create("res/Images/movement.png",cc.rect(123,0,138,23)),o=cc.Sprite.create("res/Images/movement.png",cc.rect(261,46,136,23)),q=cc.Sprite.create("res/Images/movement.png",cc.rect(261,23,136,23)),v=cc.Sprite.create("res/Images/movement.png",cc.rect(261,0,136,23)),p=this;this.Cb=cc.MenuItemSprite.create(b,c,d,function(){p.c.setPositionType(cc.wd);p.kb.setVisible(g);p.Cb.setVisible(j);p.ib.setVisible(j)});
this.Cb.setPosition(10,150);this.Cb.setAnchorPoint(cc.p(0,0));this.kb=cc.MenuItemSprite.create(f,i,k,function(){p.c.setPositionType(cc.vd);p.kb.setVisible(j);p.Cb.setVisible(j);p.ib.setVisible(g)});this.kb.setVisible(j);this.kb.setPosition(10,150);this.kb.setAnchorPoint(cc.p(0,0));this.ib=cc.MenuItemSprite.create(o,q,v,function(){p.c.setPositionType(cc.ud);p.kb.setVisible(j);p.Cb.setVisible(g);p.ib.setVisible(j)});this.ib.setVisible(j);this.ib.setPosition(10,150);this.ib.setAnchorPoint(cc.p(0,0));
b=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,46,115,23));c=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,23,115,23));d=cc.Sprite.create("res/Images/shapemode.png",cc.rect(0,0,115,23));this.lb=cc.MenuItemSprite.create(b,c,d,function(){p.c.setDrawMode&&p.c.setDrawMode(cc.yf);p.nb.setVisible(g);p.lb.setVisible(j)});this.lb.setPosition(10,100);this.lb.setAnchorPoint(cc.p(0,0));"browser"!=sys.platform&&this.lb.setEnabled(j);b=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,46,
115,23));c=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,23,115,23));d=cc.Sprite.create("res/Images/texturemode.png",cc.rect(0,0,115,23));this.nb=cc.MenuItemSprite.create(b,c,d,function(){p.c.setDrawMode&&p.c.setDrawMode(cc.Wq);p.nb.setVisible(j);p.lb.setVisible(g)});this.nb.setVisible(j);this.nb.setPosition(10,100);this.nb.setAnchorPoint(cc.p(0,0));b=cc.Menu.create(this.lb,this.nb,this.Cb,this.kb,this.ib);b.setPosition(0,0);this.addChild(b,100);b=cc.LabelAtlas.create("0123456789","res/fonts/fps_images.png",
16,24,".");this.addChild(b,100,zf);b.setPosition(a.width-66,50);this.C=cc.Sprite.create("res/Images/background3.png");this.addChild(this.C,5);this.C.setPosition(a.width/2,a.height-180);a=cc.MoveBy.create(4,cc.p(300,0));b=a.reverse();a=cc.Sequence.create(a,b);this.C.runAction(cc.RepeatForever.create(a));this.scheduleUpdate()},onEnter:function(){this._super();this.getChildByTag(11).setString(this.title())},title:m("No title"),d:m("(Tap the Screen)"),J:function(){this.c.resetSystem()},I:function(){var a=
new wa;a.addChild(Bf());r.replaceScene(a)},H:function(){var a=new wa;a.addChild(Zf());r.replaceScene(a)},nw:function(){this.c.getPositionType()==cc.vd?this.c.setPositionType(cc.ud):this.c.getPositionType()==cc.ud?this.c.setPositionType(cc.wd):this.c.getPositionType()==cc.wd&&this.c.setPositionType(cc.vd)},onTouchesBegan:function(a){this.Na=g;this.te(a)},onTouchesMoved:function(a){this.Na&&this.te(a)},te:function(a){if(0<a.length){var a=a[0].getLocation(),b=cc.p(0,0);this.C&&(b=this.C.convertToWorldSpace(cc.p(0,
0)));this.c.setPosition(cc.pSub(a,b))}},onTouchesEnded:function(){this.Na=j},onMouseDragged:function(a){var a=a.getLocation(),b=cc.p(0,0);this.C&&(b=this.C.convertToWorldSpace(cc.p(0,0)));this.c.setPosition(cc.pSub(a,b));return g},update:function(){this.c&&this.getChildByTag(zf).setString(this.c.getParticleCount().toFixed(0))},Y:function(){var a=this.c.getSourcePosition();0===a.x&&0===a.y&&this.c.setPosition(200,70)},M:function(){return Yf.length-1-Af},K:function(){return Af}}),Ef=V.extend({onEnter:function(){this._super();
this.c=cc.ParticleFireworks.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.c.setShapeType&&this.c.setShapeType(cc.cb);this.Y()},title:m("ParticleFireworks")}),If=V.extend({onEnter:function(){this._super();this.c=cc.ParticleFire.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.ab);this.Y()},title:m("ParticleFire")}),
Gf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSun.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.ab);this.Y()},title:m("ParticleSun")}),Df=V.extend({onEnter:function(){this._super();this.c=cc.ParticleGalaxy.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.ab);
this.Y()},title:m("ParticleGalaxy")}),Cf=V.extend({e:"ParticleFlower",onEnter:function(){this._super();this.c=cc.ParticleFlower.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.c.setShapeType&&this.c.setShapeType(cc.cb);this.Y()},title:aa("e")}),Nf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(80);this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));
this.c.setShapeType&&this.c.setShapeType(cc.cb);this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(90);this.c.setAngleVar(360);this.c.setSpeed(160);this.c.setSpeedVar(20);this.c.setRadialAccel(-120);this.c.setRadialAccelVar(0);this.c.setTangentialAccel(30);this.c.setTangentialAccelVar(0);this.c.setPosition(160,240);this.c.setPosVar(cc.p(0,0));this.c.setLife(4);this.c.setLifeVar(1);this.c.setStartSpin(0);this.c.setStartSizeVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.u(0.5,
0.5,0.5,1));this.c.setStartColorVar(cc.u(0.5,0.5,0.5,1));this.c.setEndColor(cc.u(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));this.c.setStartSize(80);this.c.setStartSizeVar(40);this.c.setEndSize(cc.zb);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(g);this.Y()},title:m("ParticleBigFlower")}),Of=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(150);this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars2.png"));
this.c.setShapeType&&this.c.setShapeType(cc.cb);this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(90);this.c.setAngleVar(360);this.c.setSpeed(160);this.c.setSpeedVar(20);this.c.setRadialAccel(-120);this.c.setRadialAccelVar(0);this.c.setTangentialAccel(30);this.c.setTangentialAccelVar(0);this.c.setPosition(160,240);this.c.setPosVar(cc.p(0,0));this.c.setLife(3);this.c.setLifeVar(1);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(2E3);this.c.setStartColor(cc.u(0.5,
0.5,0.5,1));this.c.setStartColorVar(cc.u(0.5,0.5,0.5,1));this.c.setEndColor(cc.u(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));this.c.setStartSize(30);this.c.setStartSizeVar(0);this.c.setEndSize(cc.zb);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j);this.Y()},title:m("ParticleRotFlower")}),Hf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleMeteor.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.c.setShapeType&&this.c.setShapeType(cc.ab);this.Y()},title:m("ParticleMeteor")}),Ff=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSpiral.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.ab);this.Y()},title:m("ParticleSpiral")}),Kf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleExplosion.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));
this.c.setShapeType&&this.c.setShapeType(cc.cb);this.c.setAutoRemoveOnFinish(g);this.Y()},title:m("ParticleExplosion")}),Jf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSmoke.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.Y()},title:m("ParticleSmoke")}),Lf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSnow.create();this.C.addChild(this.c,10);this.c.setLife(3);this.c.setLifeVar(1);this.c.setGravity(cc.p(0,
-10));this.c.setSpeed(130);this.c.setSpeedVar(30);var a=this.c.getStartColor();a.r=0.9;a.g=0.9;a.b=0.9;this.c.setStartColor(a);a=this.c.getStartColorVar();a.b=0.1;this.c.setStartColorVar(a);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/snow.png"));this.c.setShapeType&&this.c.setShapeType(cc.cb);this.Y()},title:m("ParticleSnow")}),Mf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleRain.create();
this.C.addChild(this.c,10);this.c.setLife(4);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.ab);this.Y()},title:m("ParticleRain")}),Pf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleSystem.createWithTotalParticles(200);this.C.addChild(this.c,10);r.getWinSize();this.c.setDuration(-1);this.c.setGravity(cc.p(0,0));this.c.setAngle(0);this.c.setAngleVar(360);this.c.setRadialAccel(70);this.c.setRadialAccelVar(10);
this.c.setTangentialAccel(80);this.c.setTangentialAccelVar(0);this.c.setSpeed(50);this.c.setSpeedVar(10);this.c.setLife(2);this.c.setLifeVar(0.3);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setStartColor(cc.u(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.u(0.5,0.5,0.5,1));this.c.setEndColor(cc.u(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));this.c.setStartSize(1);this.c.setStartSizeVar(1);this.c.setEndSize(32);this.c.setEndSizeVar(8);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
this.c.setShapeType&&this.c.setShapeType(cc.ab);this.c.setBlendAdditive(j);this.Y()},title:m("Varying size")}),Qf=V.extend({onEnter:function(){this._super();this.c=cc.ParticleFlower.create();this.C.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars.png"));this.c.setShapeType&&this.c.setShapeType(cc.cb);this.c.setLifeVar(0);this.c.setLife(10);this.c.setSpeed(100);this.c.setSpeedVar(0);this.c.setEmissionRate(1E4);this.Y()},title:m("Ring Demo")});
V.extend({onEnter:function(){this._super();this.C.getParent().removeChild(this.C,g);this.C=h;var a=cc.ParallaxNode.create();this.addChild(a,5);var b=cc.Sprite.create("res/Images/background3.png"),c=cc.Sprite.create("res/Images/background3.png");a.addChild(b,1,cc.p(0.5,1),cc.p(0,250));a.addChild(c,2,cc.p(1.5,1),cc.p(0,50));this.c=cc.ParticleFlower.create();this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));b.addChild(this.c,10);this.c.setPosition(250,200);b=cc.ParticleSun.create();
c.addChild(b,10);b.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));c=cc.MoveBy.create(4,cc.p(300,0));b=c.reverse();c=cc.Sequence.create(c,b,h);a.runAction(cc.RepeatForever.create(c))},title:m("Parallax + Particles")});
var Rf=V.extend({e:"",ctor:function(a){this._super();this.e=a},onEnter:function(){this._super();this.setColor(cc.o(0,0,0));this.removeChild(this.C,g);this.C=h;this.c=cc.ParticleSystem.create("res/Particles/"+this.e+".plist");this.addChild(this.c,10);"Flower"==this.e&&this.c.setShapeType&&this.c.setShapeType(cc.cb);this.Y()},Y:function(){var a=this.c.getSourcePosition();0===a.x&&0===a.y&&this.c.setPosition(r.getWinSize().width/2,r.getWinSize().height/2-50)},title:aa("e")}),Sf=V.extend({onEnter:function(){this._super();
this.setColor(cc.o(0,0,0));this.removeChild(this.C,g);this.C=h;this.c=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars-grayscale.png"));this.c.setDuration(cc.rc);this.c.setEmitterMode(cc.sc);this.c.setStartRadius(0);this.c.setStartRadiusVar(0);this.c.setEndRadius(160);this.c.setEndRadiusVar(0);this.c.setRotatePerSecond(180);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);var a=
r.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(5);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.u(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.u(0.5,0.5,0.5,1));this.c.setEndColor(cc.u(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));this.c.setStartSize(32);this.c.setStartSizeVar(0);this.c.setEndSize(cc.zb);this.c.setEmissionRate(this.c.getTotalParticles()/
this.c.getLife());this.c.setBlendAdditive(j)},title:m("Radius Mode: Spiral")}),Tf=V.extend({onEnter:function(){this._super();this.setColor(cc.o(0,0,0));this.removeChild(this.C,g);this.C=h;this.c=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/stars-grayscale.png"));this.c.setDuration(cc.rc);this.c.setEmitterMode(cc.sc);this.c.setStartRadius(100);this.c.setStartRadiusVar(0);this.c.setEndRadius(cc.td);this.c.setEndRadiusVar(0);
this.c.setRotatePerSecond(45);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);var a=r.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(4);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.u(0.5,0.5,0.5,1));this.c.setStartColorVar(cc.u(0.5,0.5,0.5,1));this.c.setEndColor(cc.u(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));
this.c.setStartSize(32);this.c.setStartSizeVar(0);this.c.setEndSize(cc.zb);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j)},title:m("Radius Mode: Semi Circle")}),Uf=V.extend({onEnter:function(){this._super();this.setColor(cc.o(0,0,0));this.removeChild(this.C,g);this.C=h;this.c=cc.ParticleSystem.createWithTotalParticles(100);this.addChild(this.c,10);this.c.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));this.c.setShapeType&&this.c.setShapeType(cc.ab);
this.c.setDuration(cc.rc);this.c.setEmitterMode(cc.sc);this.c.setStartRadius(50);this.c.setStartRadiusVar(0);this.c.setEndRadius(cc.td);this.c.setEndRadiusVar(0);this.c.setRotatePerSecond(0);this.c.setRotatePerSecondVar(0);this.c.setAngle(90);this.c.setAngleVar(0);var a=r.getWinSize();this.c.setPosition(a.width/2,a.height/2);this.c.setPosVar(cc.p(0,0));this.c.setLife(5);this.c.setLifeVar(0);this.c.setStartSpin(0);this.c.setStartSpinVar(0);this.c.setEndSpin(0);this.c.setEndSpinVar(0);this.c.setStartColor(cc.u(0.5,
0.5,0.5,1));this.c.setStartColorVar(cc.u(0.5,0.5,0.5,1));this.c.setEndColor(cc.u(0.1,0.1,0.1,0.2));this.c.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));this.c.setStartSize(16);this.c.setStartSizeVar(0);this.c.setEndSize(cc.zb);this.c.setEmissionRate(this.c.getTotalParticles()/this.c.getLife());this.c.setBlendAdditive(j);a=cc.RotateBy.create(16,360);this.c.runAction(cc.RepeatForever.create(a))},title:m("Issue 704. Free + Rot"),d:m("Emitted particles should not rotate")}),Vf=V.extend({Eb:0,onEnter:function(){this._super();
this.setColor(cc.o(0,0,0));this.removeChild(this.C,g);this.C=h;var a=cc.ParticleSystem.create("res/Particles/SpinningPeas.plist");a.setTextureWithRect(cc.TextureCache.getInstance().addImage("res/Images/particles.png"),cc.rect(0,0,32,32));this.addChild(a,10);this.c=a;this.c.setDrawMode&&this.c.setDrawMode(cc.yf);this.c.setPosition(r.getWinSize().width/2,r.getWinSize().height/2-50);this.Eb=0;this.schedule(this.fi,2)},title:m("Issue 870. SubRect"),d:m("Every 2 seconds the particle should change"),fi:function(){this.Eb=
(this.Eb+1)%4;var a=cc.rect(32*this.Eb,0,32,32);this.c.setTextureWithRect(this.c.getTexture(),a)}}),Wf=V.extend({Eb:0,onEnter:function(){this._super();var a=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");a.setStartColor(cc.u(1,0,0,1));var b=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");b.setStartColor(cc.u(0,1,0,1));var c=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");c.setStartColor(cc.u(0,0,1,1));a.setPosition(u.width/1.25,u.height/1.25);b.setPosition(u.width/2,u.height/
2);c.setPosition(u.width/4,u.height/4);var d=cc.ParticleBatchNode.createWithTexture(a.getTexture());d.addChild(a);d.addChild(b);d.addChild(c);this.addChild(d,10);this.removeChild(this.C,g);this.C=h;this.c=a},title:m("Particle Batch Test"),d:m("You should 3 particles. They are batched")}),Xf=V.extend({Eb:0,onEnter:function(){this._super();var a=cc.ParticleSystem.create("res/Particles/LavaFlow.plist");a.setPosition(u.width/2,u.height/2);this.addChild(a);this.schedule(this.fh,2);this.removeChild(this.C,
g);this.C=h;this.c=a},fh:function(){this.c.setTotalParticles(50);this.scheduleOnce(this.eh,1)},eh:function(){this.c.setTotalParticles(400)},title:m("Particle Resize Test"),d:m("In 2 seconds, the emitter should have only 15 particles. Shall not crash.")});var $f=1E3,ag=0,bg="PerformanceNodeChildrenTest;PerformanceParticleTest;PerformanceSpriteTest;PerformanceTextureTest;PerformanceTouchesTest;PerformanceAnimationTest;Automated Sprite Performance Test".split(";"),og=cc.LayerGradient.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.k(0,0,0,255),cc.k(98,99,117,255))},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.Menu.create();b.setPosition(cc.p(0,0));cc.MenuItemFont.setFontName("Arial");
cc.MenuItemFont.setFontSize(24);for(var c=0;c<bg.length;c++){var d=cc.MenuItemFont.create(bg[c],this.Rd,this);d.setPosition(cc.p(a.width/2,a.height-(c+1)*ea));b.addChild(d,$f+c)}this.addChild(b)},Rd:function(a){switch(a.getZOrder()-$f){case 0:a=new cg;a.Kc(dg);cc.Director.getInstance().replaceScene(a);break;case 1:a=new eg;a.rb(1,fg);cc.Director.getInstance().replaceScene(a);break;case 2:Math.seedrandom("perftest");a=new gg;a.rb(1,50);cc.Director.getInstance().replaceScene(a);break;case 3:hg=0;a=
ig.jc();cc.Director.getInstance().replaceScene(a);break;case 4:jg=0;var a=cc.Scene.create(),b=new kg(g,2,jg);a.addChild(b);cc.Director.getInstance().replaceScene(a);break;case 5:lg=0;a=mg.jc();cc.Director.getInstance().replaceScene(a);break;case 6:(new ng).G()}}}),pg=cc.Layer.extend({Vf:g,Fb:1,O:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();this.O=ag},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.MenuItemFont.setFontName("Arial");
cc.MenuItemFont.setFontSize(24);var b=cc.MenuItemFont.create("Back",this.$h,this);b.setPosition(cc.p(a.width-50,25));b=cc.Menu.create(b);b.setPosition(cc.p(0,0));if(this.Vf){var c=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.Hd,this),d=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.hc,this),f=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.Uc,this);c.setPosition(cc.p(a.width/2-100,30));d.setPosition(cc.p(a.width/2,30));f.setPosition(cc.p(a.width/
2+100,30));b.addChild(c,$f);b.addChild(d,$f);b.addChild(f,$f)}this.addChild(b)},hc:function(){this.Ia()},Uc:function(){this.O++;ag=this.O%=this.Fb;this.Ia()},Hd:function(){this.O--;0>this.O&&(this.O+=this.Fb);ag=this.O;this.Ia()},Ia:l(),$h:function(){(new xa).G()}}),xa=x.extend({G:function(){this.addChild(new og);cc.Director.getInstance().replaceScene(this)}});var dg=50,qg=0,ug=pg.extend({Fb:4,Ia:function(){var a=this.getParent().P,b=h;switch(this.O){case 0:b=new cg;break;case 1:b=new rg;break;case 2:b=new sg;break;case 3:b=new tg}qg=this.O;b&&(b.Kc(a),cc.Director.getInstance().replaceScene(b))}}),wg=cc.Scene.extend({wa:h,P:h,Z:h,ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},Kc:function(a){var b=cc.Director.getInstance().getWinSize(),c=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(c,1);c.setPosition(cc.p(b.width/
2,b.height-32));c.setColor(cc.o(255,255,40));c=this.d();c.length&&(c=cc.LabelTTF.create(c,"Thonburi",16),this.addChild(c,1),c.setPosition(cc.p(b.width/2,b.height-80)));this.Z=this.wa=0;this.P=a;cc.MenuItemFont.setFontSize(65);a=cc.MenuItemFont.create(" - ",this.tb,this);a.setColor(cc.o(0,200,20));c=cc.MenuItemFont.create(" + ",this.Va,this);c.setColor(cc.o(0,200,20));a=cc.Menu.create(a,c);a.alignItemsHorizontally();a.setPosition(cc.p(b.width/2,b.height/2+15));this.addChild(a,1);a=cc.LabelTTF.create("0 nodes",
"Marker Felt",30);a.setColor(cc.o(0,200,20));a.setPosition(cc.p(b.width/2,b.height/2-15));this.addChild(a,1,vg);a=new ug(g,4,qg);this.addChild(a);this.xb();this.oc()},title:m("No title"),d:m(""),oc:l(),tb:function(){this.P-=dg;0>this.P&&(this.P=0);this.xb();this.oc()},Va:function(){this.P+=dg;1500<this.P&&(this.P=1500);this.xb();this.oc()},xb:function(){if(this.P!=this.wa){var a=this.P+" nodes";this.getChildByTag(vg).setString(a);this.wa=this.P}},Mv:aa("P")}),xg=wg.extend({n:h,ea:h,ctor:function(){this._super();
cc.da&&(this.ea=new cc.Af)},oc:function(){var a=cc.Director.getInstance().getWinSize();if(this.Z<this.P)for(var b=0;b<this.P-this.Z;b++){var c=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(0,0,32,32));this.n.addChild(c);c.setPosition(cc.p(Math.random()*a.width,Math.random()*a.height))}else if(this.Z>this.P)for(b=0;b<this.Z-this.P;b++)this.n.removeChildAtIndex(this.Z-b-1,g);this.Z=this.P},Kc:function(a){this.n=cc.SpriteBatchNode.create("res/Images/spritesheet1.png");this.addChild(this.n);
this._super(a);cc.da&&(this.ea=cc.zf.Yh(this.Ya(),this));this.scheduleUpdate()},update:l(),Ya:m("none")});xg.extend({update:function(){var a=this.n.getChildren();cc.da&&cc.tc(this.ea);for(var b=0;b<a.length;b++)a[b].setVisible(j);cc.da&&cc.uc(this.ea)},title:m("A - Iterate SpriteSheet"),d:m("Iterate children using Fast Enum API. See console"),Ya:m("iter fast enum")});
var cg=xg.extend({update:function(){var a=this.n.getChildren();cc.da&&cc.tc(this.ea);for(var b=0;b<a.length;b++)a[b].setVisible(j);cc.da&&cc.uc(this.ea)},title:m("B - Iterate SpriteSheet"),d:m("Iterate children using Array API. See console"),Ya:m("iter c-array")}),yg=wg.extend({n:h,ctor:function(){this._super();cc.da&&(this.ea=new cc.Af)},oc:function(){var a=cc.Director.getInstance().getWinSize();if(this.Z<this.P)for(var b=0;b<this.P-this.Z;b++){var c=cc.Sprite.createWithTexture(this.n.getTexture(),
cc.rect(0,0,32,32));this.n.addChild(c);c.setPosition(cc.p(Math.random()*a.width,Math.random()*a.height));c.setVisible(j)}else if(this.Z>this.P)for(b=0;b<this.Z-this.P;b++)this.n.removeChildAtIndex(this.Z-b-1,g);this.Z=this.P},Kc:function(a){this.n=cc.SpriteBatchNode.create("res/Images/spritesheet1.png");this.addChild(this.n);this._super(a);cc.da&&(this.ea=cc.zf.Yh(this.Ya(),this));this.scheduleUpdate()},update:l(),Ya:m("none")}),rg=yg.extend({update:function(){var a=0.15*this.Z;if(0<a){for(var b=
[],c=[],d=0;d<a;d++){var f=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(0,0,32,32));b.push(f);c[d]=50*(2*Math.random()-1)}cc.da&&cc.tc(this.ea)}for(d=0;d<a;d++)this.n.addChild(b[d],c[d],2E3+d);cc.da&&cc.uc(this.ea);for(d=0;d<a;d++)this.n.removeChildByTag(2E3+d,g);delete c},title:m("C - Add to spritesheet"),d:m("Adds %10 of total sprites with random z. See console"),Ya:m("add sprites")}),sg=yg.extend({update:function(){var a=0.15*this.Z;if(0<a){for(var b=[],c=0;c<a;c++){var d=cc.Sprite.createWithTexture(this.n.getTexture(),
cc.rect(0,0,32,32));b.push(d)}for(c=0;c<a;c++)this.n.addChild(b[c],50*(2*Math.random()-1),2E3+c);cc.da&&cc.tc(this.ea);for(c=0;c<a;c++)this.n.removeChildByTag(2E3+c,g);cc.da&&cc.uc(this.ea)}},title:m("D - Del from spritesheet"),d:m("Remove %10 of total sprites placed randomly. See console"),Ya:m("remove sprites")}),tg=yg.extend({update:function(){var a=0.15*this.Z;if(0<a){for(var b=[],c=0;c<a;c++){var d=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(0,0,32,32));b.push(d)}for(c=0;c<a;c++)this.n.addChild(b[c],
50*(2*Math.random()-1),2E3+c);cc.da&&cc.tc(this.ea);for(c=0;c<a;c++)this.n.reorderChild(this.n.getChildren()[c],50*(2*Math.random()-1));cc.da&&cc.uc(this.ea)}for(c=0;c<a;c++)this.n.removeChildByTag(2E3+c,g)},title:m("E - Reorder from spritesheet"),d:m("Reorder %10 of total sprites placed randomly. See console"),Ya:m("reorder sprites")});var zf=4,fg=50,zg=0,Dg=pg.extend({Fb:4,Ia:function(){var a=this.getParent(),b=a.L,a=a.ba,c=h;switch(this.O){case 0:c=new eg;break;case 1:c=new Ag;break;case 2:c=new Bg;break;case 3:c=new Cg}zg=this.O;c&&(c.rb(b,a),cc.Director.getInstance().replaceScene(c))}}),Eg=cc.Scene.extend({wa:h,ba:h,L:h,ctor:function(){this._super();cc.associateWithNative(this,cc.Scene);this.init()},rb:function(a,b){this.L=a;var c=cc.Director.getInstance().getWinSize();this.wa=0;this.ba=b;cc.MenuItemFont.setFontSize(65);var d=
cc.MenuItemFont.create(" - ",this.tb,this);d.setColor(cc.o(0,200,20));var f=cc.MenuItemFont.create(" + ",this.Va,this);f.setColor(cc.o(0,200,20));d=cc.Menu.create(d,f);d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,c.height/2+15));this.addChild(d,1);d=cc.LabelTTF.create("0 nodes","Marker Felt",30);d.setColor(cc.o(0,200,20));d.setPosition(cc.p(c.width/2,c.height-90));this.addChild(d,1,vg);d=cc.LabelAtlas.create("0000","res/Images/fps_images.png",16,24,".");this.addChild(d,0,zf);d.setPosition(cc.p(c.width-
66,50));d=new Dg(g,4,zg);this.addChild(d,1,1E3);cc.MenuItemFont.setFontSize(40);d=cc.Menu.create();for(f=1;3>=f;++f){var i=cc.MenuItemFont.create(f.toString(),this.ee,this);i.setTag(f);d.addChild(i,10);1>=f?i.setColor(cc.o(200,20,20)):i.setColor(cc.o(0,200,20))}d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,80));this.addChild(d,2);d=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(d,1);d.setPosition(cc.p(c.width/2,c.height-32));d.setColor(cc.o(255,255,40));this.xb();this.Kd();this.schedule(this.step)},
title:m("No title"),step:function(){var a=this.getChildByTag(zf),b=this.getChildByTag(3).getParticleCount();a.setString(b)},Kd:function(){var a=h;this.removeChildByTag(3,g);a=cc.TextureCache.getInstance().addImage("res/Images/fire.png");cc.TextureCache.getInstance().removeTexture(a);a=cc.ParticleSystem.createWithTotalParticles(this.ba);switch(this.L){case 1:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.La);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));
break;case 2:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Rb);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));break;case 3:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Ef);a.setTexture(cc.TextureCache.getInstance().addImage("res/Images/fire.png"));break;default:a=h,cc.log("Shall not happen!")}this.addChild(a,0,3);this.ga();"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.La)},tb:function(){this.ba-=
fg;0>this.ba&&(this.ba=0);this.xb();this.Kd()},Va:function(){this.ba+=fg;1E3<this.ba&&(this.ba=1E3);this.xb();this.Kd()},ee:function(a){this.L=a.getTag();this.getChildByTag(1E3).hc(a)},xb:function(){if(this.ba!=this.wa){var a=this.ba+" particles";this.getChildByTag(vg).setString(a);this.wa=this.ba}},tg:aa("L"),Lv:aa("ba"),ga:l()}),eg=Eg.extend({title:function(){return"A "+this.L+" size=4"},ga:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,
-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());b.setStartColor(cc.u(0.5,0.5,0.5,1));b.setStartColorVar(cc.u(0.5,0.5,0.5,1));b.setEndColor(cc.u(0.1,0.1,0.1,0.2));b.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));b.setEndSize(4);b.setStartSize(4);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),
Ag=Eg.extend({title:function(){return"B "+this.L+" size=8"},ga:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());b.setStartColor(cc.u(0.5,0.5,0.5,1));b.setStartColorVar(cc.u(0.5,
0.5,0.5,1));b.setEndColor(cc.u(0.1,0.1,0.1,0.2));b.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));b.setEndSize(8);b.setStartSize(8);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),Bg=Eg.extend({title:function(){return"C "+this.L+" size=32"},ga:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/
2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());b.setStartColor(cc.u(0.5,0.5,0.5,1));b.setStartColorVar(cc.u(0.5,0.5,0.5,1));b.setEndColor(cc.u(0.1,0.1,0.1,0.2));b.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));b.setEndSize(32);b.setStartSize(32);b.setEndSizeVar(0);b.setStartSizeVar(0);b.setBlendAdditive(j)}}),Cg=Eg.extend({title:function(){return"D "+this.L+" size=64"},ga:function(){var a=cc.Director.getInstance().getWinSize(),b=this.getChildByTag(3);
b.setDuration(-1);b.setGravity(cc.p(0,-90));b.setAngle(90);b.setAngleVar(0);b.setRadialAccel(0);b.setRadialAccelVar(0);b.setSpeed(180);b.setSpeedVar(50);b.setPosition(cc.p(a.width/2,100));b.setPosVar(cc.p(a.width/2,0));b.setLife(2);b.setLifeVar(1);b.setEmissionRate(b.getTotalParticles()/b.getLife());b.setStartColor(cc.u(0.5,0.5,0.5,1));b.setStartColorVar(cc.u(0.5,0.5,0.5,1));b.setEndColor(cc.u(0.1,0.1,0.1,0.2));b.setEndColorVar(cc.u(0.1,0.1,0.1,0.2));b.setEndSize(64);b.setStartSize(64);b.setEndSizeVar(0);
b.setStartSizeVar(0);b.setBlendAdditive(j)}});var vg=1,Fg=0,Gg=cc.Class.extend({L:h,n:h,Kb:h,xh:function(a){switch(this.L){case 1:case 4:case 7:this.Kb.removeChildByTag(a+100,g);break;case 2:case 3:case 5:case 6:case 8:case 9:this.n.removeChildAtIndex(a,g)}},jg:function(a){"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.La);var b=h;switch(this.L){case 1:b=cc.Sprite.create("res/Images/grossinis_sister1.png");this.Kb.addChild(b,0,a+100);break;case 2:case 3:b=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(0,0,52,
139));this.n.addChild(b,0,a+100);break;case 4:var c=parseInt(14*Math.random())+1,c=10>c?"0"+c:c.toString(),b=cc.Sprite.create("res/Images/grossini_dance_"+c+".png");this.Kb.addChild(b,0,a+100);break;case 5:case 6:c=0|14*Math.random();b=85*(c%5);c=121*(0|c/5);b=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(b,c,85,121));this.n.addChild(b,0,a+100);break;case 7:b=0|64*Math.random();c=parseInt(b/8);b=parseInt(b%8);b=cc.Sprite.create("res/Images/sprites_test/sprite-"+b+"-"+c+".png");this.Kb.addChild(b,
0,a+100);break;case 8:case 9:b=0|64*Math.random(),c=32*(0|b/8),b=32*(b%8),b=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(b,c,32,32)),this.n.addChild(b,0,a+100)}"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.ne);return b},rb:function(a,b){this.L=a;this.Kb=b;this.n=h;var c=cc.TextureCache.getInstance();c.removeTexture(c.addImage("res/Images/grossinis_sister1.png"));c.removeTexture(c.addImage("res/Images/grossini_dance_atlas.png"));c.removeTexture(c.addImage("res/Images/spritesheet1.png"));
switch(this.L){case 2:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.La);this.n=cc.SpriteBatchNode.create("res/Images/grossinis_sister1.png",100);b.addChild(this.n,0);break;case 3:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Rb);this.n=cc.SpriteBatchNode.create("res/Images/grossinis_sister1.png",100);b.addChild(this.n,0);break;case 5:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.La);this.n=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",
100);b.addChild(this.n,0);break;case 6:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Rb);this.n=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",100);b.addChild(this.n,0);break;case 8:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.La);this.n=cc.SpriteBatchNode.create("res/Images/spritesheet1.png",100);b.addChild(this.n,0);break;case 9:"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Rb),this.n=cc.SpriteBatchNode.create("res/Images/spritesheet1.png",
100),b.addChild(this.n,0)}"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.ne)}}),Ng=pg.extend({Fb:7,Ia:function(){var a=h,b=this.getParent(),c=b.L,b=b.la;Math.seedrandom("perftest");switch(this.O){case 0:a=new gg;break;case 1:a=new Hg;break;case 2:a=new Ig;break;case 3:a=new Jg;break;case 4:a=new Kg;break;case 5:a=new Lg;break;case 6:a=new Mg}Fg=this.O;a&&(a.rb(c,b),cc.Director.getInstance().replaceScene(a))}}),Og=cc.Scene.extend({wa:h,la:h,Bc:h,L:1,ctor:function(){this._super();
cc.associateWithNative(this,cc.Scene);this.init()},title:m("No title"),rb:function(a,b){this.L=a;this.Bc=new Gg;this.Bc.rb(a,this);var c=cc.Director.getInstance().getWinSize();this.la=this.wa=0;var d=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(d,1);d.setPosition(cc.p(c.width/2,c.height-32));d.setColor(cc.o(255,255,40));cc.MenuItemFont.setFontSize(65);d=cc.MenuItemFont.create(" - ",this.tb,this);d.setColor(cc.o(0,200,20));var f=cc.MenuItemFont.create(" + ",this.Va,this);f.setColor(cc.o(0,
200,20));d=cc.Menu.create(d,f);d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,c.height-65));this.addChild(d,1);d=cc.LabelTTF.create("0 nodes","Marker Felt",30);d.setColor(cc.o(0,200,20));d.setPosition(cc.p(c.width/2,c.height-90));this.addChild(d,1,vg);d=new Ng(g,7,Fg);this.addChild(d,1,2E3);cc.MenuItemFont.setFontSize(32);d=cc.Menu.create();for(f=1;9>=f;++f){var i=cc.MenuItemFont.create(f.toString(),this.ee,this);i.setTag(f);d.addChild(i,10);3>=f?i.setColor(cc.o(200,20,20)):6>=f?i.setColor(cc.o(0,
200,20)):i.setColor(cc.o(0,20,200))}d.alignItemsHorizontally();d.setPosition(cc.p(c.width/2,80));for(this.addChild(d,2);this.la<b;)this.Va(this)},nc:function(){if(this.la!=this.wa){var a=this.la+" nodes";this.getChildByTag(vg).setString(a);this.wa=this.la}},ee:function(a){this.L=a.getTag();this.getChildByTag(2E3).hc(a)},Va:function(){if(!(1E3<=this.la)){for(var a=0;50>a;a++)this.ga(this.Bc.jg(this.la)),this.la++;this.nc()}},tb:function(){if(!(0>=this.la)){for(var a=0;50>a;a++)this.la--,this.Bc.xh(this.la);
this.nc()}},ga:l(),tg:aa("L"),Kv:aa("la")}),gg=Og.extend({ga:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)))},title:function(){return"A ("+this.L+") position"}}),Hg=Og.extend({ga:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));a.setScale(100*Math.random()/50)},title:function(){return"B ("+this.L+") scale"}}),Ig=
Og.extend({ga:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));a.setRotation(360*Math.random());a.setScale(2*Math.random())},title:function(){return"C ("+this.L+") scale + rot"}}),Jg=Og.extend({ga:function(a){a.setPosition(cc.p(-1E3,-1E3))},title:function(){return"D ("+this.L+") 100% out"}}),Kg=Og.extend({ga:function(a){var b=cc.Director.getInstance().getWinSize();0.2>Math.random()?a.setPosition(cc.p(parseInt(Math.random()*
b.width),parseInt(Math.random()*b.height))):a.setPosition(cc.p(-1E3,-1E3))},title:function(){return"E ("+this.L+") 80% out"}}),Lg=Og.extend({ga:function(a){var b=cc.Director.getInstance().getWinSize();a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height)));var b=cc.RotateBy.create(0.5+1E3*Math.random()/500,360*Math.random()),c=b.reverse(),b=cc.RepeatForever.create(cc.Sequence.create(b,c));a.runAction(b);b=cc.ScaleBy.create(0.5+1E3*Math.random()/500,0.5,0.5);b=cc.RepeatForever.create(cc.Sequence.create(b,
b.reverse()));a.runAction(b)},title:function(){return"F ("+this.L+") actions"}}),Mg=Og.extend({ga:function(a){var b=cc.Director.getInstance().getWinSize();0.2>Math.random()?a.setPosition(cc.p(parseInt(Math.random()*b.width),parseInt(Math.random()*b.height))):a.setPosition(cc.p(-1E3,-1E3));var b=cc.RotateBy.create(0.5+1E3*Math.random()/500,360*Math.random()),c=b.reverse(),b=cc.RepeatForever.create(cc.Sequence.create(b,c));a.runAction(b);b=cc.ScaleBy.create(0.5+1E3*Math.random()/500,0.5,0.5);b=cc.RepeatForever.create(cc.Sequence.create(b,
b.reverse()));a.runAction(b)},title:function(){return"G ("+this.L+") actions 80% out"}});function Pg(a){this.name=a;this.totalTime=this.numberOfCalls=0;this.Tc=1E4;this.Rc=0;this.ag=function(){var a=1E3*r.getSecondsPerFrame();this.totalTime+=a;this.numberOfCalls++;this.Tc=Math.min(this.Tc,a);this.Rc=Math.max(this.Rc,a)};this.reset=function(){this.totalTime=0;this.Tc=1E5;this.numberOfCalls=this.Rc=0};this.Ic=function(){cc.log("Profiling info for: "+this.name+"\nNumber of calls: "+this.numberOfCalls+"\nAverage Time: "+this.totalTime/this.numberOfCalls/1E3+"\nMin Time: "+this.Tc/1E3+"\nMax Time: "+
this.Rc/1E3+"\nTotal Time: "+this.totalTime/1E3+"\n")}}
var Qg=-1,Rg=[cc.Layer.extend({e:"",h:"",ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a=cc.LabelTTF.create(this.e,"Arial",28);this.addChild(a,1);a.setPosition(cc.p(u.width/2,u.height-50));""!==this.h&&(a=cc.LabelTTF.create(this.h,"Thonburi",16),this.addChild(a,1),a.setPosition(cc.p(u.width/2,u.height-80)));var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.H,this),b=cc.MenuItemImage.create("res/Images/r1.png",
"res/Images/r2.png",this.J,this),c=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.I,this),d=cc.Menu.create(a,b,c);d.setPosition(0,0);var f=b.getContentSize();a.setPosition(u.width/2-2*f.width,f.height/2);b.setPosition(u.width/2,f.height/2);c.setPosition(u.width/2+2*f.width,f.height/2);this.addChild(d,1)},J:function(){var a=new ng;a.addChild(new Rg[Qg]);r.replaceScene(a)},I:function(){var a=new ng;a.addChild(Sg());r.replaceScene(a)},H:function(){var a=new ng;a.addChild(Tg());
r.replaceScene(a)}}).extend({e:"Performance Test 1",h:"Let it run until you see the 'done' message. See console for results.",ctor:function(){this._super();this.lf=[this.Vh,this.Wh];this.ng=[this.lg,this.mg];this.mf=[100,500,1E3,2E3,5E3,1E4];this.Jc=0;this.lc=-1;this.ic();this.scheduleUpdate();this.schedule(this.Je,5);this.Ld=g},ic:function(){-1!=this.lc&&this.ng[this.Jc].bind(this)();this.lc++;if(this.lc>=this.mf.length&&(this.lc=0,this.Jc++,this.Jc>=this.lf.length))return cc.log("No more tests"),
j;var a=this.mf[this.lc];this.lf[this.Jc].bind(this)(a);return g},Vh:function(a){this.ce=new Pg("Test A - Total Sprites: "+a);Math.seedrandom("perftest");var b=cc.Node.create();this.addChild(b,0,10);for(var c=0;c<a;c++){var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);d.setPosition(Math.random()*u.width,Math.random()*u.height)}},lg:function(){this.removeChildByTag(10,g)},Wh:function(a){this.ce=new Pg("Test B - Total Sprites: "+a);Math.seedrandom("perftest");var b=cc.SpriteBatchNode.create("res/Images/grossini.png",
a);this.addChild(b,0,10);for(var c=0;c<a;c++){var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);d.setPosition(Math.random()*u.width,Math.random()*u.height)}},mg:function(){this.removeChildByTag(10,g)},update:function(){this.Ld?this.Ld=j:this.ce.ag()},Je:function(){this.ce.Ic();this.Ld=g;this.ic()||this.unschedule(this.Je)}})],ng=x.extend({G:function(){Qg=-1;this.addChild(Sg());r.replaceScene(this)}});function Sg(){Qg++;Qg%=Rg.length;return new Rg[Qg]}
function Tg(){Qg--;0>Qg&&(Qg+=Rg.length);return new Rg[Qg]};var hg=0,ig=pg.extend({Ia:function(){var a=h;switch(this.O){case 0:a=ig.jc()}hg=this.O;a&&cc.Director.getInstance().replaceScene(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-32));b.setColor(cc.o(255,255,40));b=this.d();b.length&&(b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80)));this.Xc()},title:m("no title"),
d:m("no subtitle"),Xc:l()}).extend({Xc:function(){cc.log("--------");cc.log("--- PNG 128x128 ---");this.Yc("res/Images/test_image.png");cc.log("--- PNG 512x512 ---");this.Yc("res/Images/texture512x512.png");cc.log("EMPTY IMAGE");cc.log("--- PNG 1024x1024 ---");this.Yc("res/Images/texture1024x1024.png");cc.log("LANDSCAPE IMAGE");cc.log("--- PNG 1024x1024 ---");this.Yc("res/Images/landscape-1024x1024.png")},title:m("Texture Performance Test"),d:m("See console for results"),Yc:function(a){var b=Date.now(),
c,d=cc.TextureCache.getInstance();if("opengl"in sys.capabilities)var f=cc.Texture2D.getDefaultAlphaPixelFormat();cc.log("RGBA 8888");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.La);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);cc.log("RGBA 4444");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Rb);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);
cc.log("RGBA 5551");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Hf);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);cc.log("RGB 565");"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(cc.Gf);b=Date.now();(c=d.addImage(a))?cc.log("  seconds:"+(Date.now()-b)/1E3):cc.log(" ERROR");d.removeTexture(c);"opengl"in sys.capabilities&&cc.Texture2D.setDefaultAlphaPixelFormat(f)}});
ig.jc=function(){var a=cc.Scene.create(),b=new ig(j,1,hg);a.addChild(b);return a};var jg=0,Vg=pg.extend({Fb:2,zc:h,Gb:0,Jb:0,Ib:0,Hb:0,Fa:h,Ia:function(){var a=h;switch(this.O){case 0:a=new kg(g,2,this.O);break;case 1:a=new Ug(g,2,this.O)}jg=this.O;if(a){var b=cc.Scene.create();b.addChild(a);cc.Director.getInstance().replaceScene(b)}},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",32);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-50));this.scheduleUpdate();this.zc=cc.LabelTTF.create("00.0","Arial",
16);this.zc.setPosition(cc.p(a.width/2,a.height/2));this.addChild(this.zc);this.Gb=this.Jb=this.Ib=this.Hb=this.Fa=0},title:m("No title"),update:function(a){this.Fa+=a;if(1<this.Fa){var a=(this.Gb/this.Fa).toFixed(1),b=(this.Jb/this.Fa).toFixed(1),c=(this.Ib/this.Fa).toFixed(1),d=(this.Hb/this.Fa).toFixed(1);this.Gb=this.Jb=this.Ib=this.Hb=this.Fa=0;this.zc.setString(a+" "+b+" "+c+" "+d)}}}),kg=Vg.extend({onEnter:function(){this._super();this.setTouchEnabled(g)},title:m("Targeted touches"),registerWithTouchDispatcher:function(){cc.Director.getInstance().getTouchDispatcher().addTargetedDelegate(this,
0,g)},onTouchBegan:function(){this.Gb++;return g},onTouchMoved:function(){this.Jb++},onTouchEnded:function(){this.Ib++},onTouchCancelled:function(){this.Hb++}}),Ug=Vg.extend({onEnter:function(){this._super();this.setTouchEnabled(g)},title:m("Standard touches"),registerWithTouchDispatcher:function(){cc.Director.getInstance().getTouchDispatcher().addStandardDelegate(this,0)},onTouchesBegan:function(a){this.Gb+=a.length},onTouchesMoved:function(a){this.Jb+=a.length},onTouchesEnded:function(a){this.Ib+=
a.length},onTouchesCancelled:function(a){this.Hb+=a.length}});var lg=0,mg=pg.extend({Ia:function(){var a=h;switch(this.O){case 0:a=mg.jc()}lg=this.O;a&&cc.Director.getInstance().replaceScene(a)},onEnter:function(){this._super();var a=cc.Director.getInstance().getWinSize(),b=cc.LabelTTF.create(this.title(),"Arial",40);this.addChild(b,1);b.setPosition(cc.p(a.width/2,a.height-32));b.setColor(cc.o(255,255,40));b=this.d();b.length&&(b=cc.LabelTTF.create(b,"Thonburi",16),this.addChild(b,1),b.setPosition(cc.p(a.width/2,a.height-80)))},title:m("no title"),d:m("no subtitle"),
Xc:l()}).extend({xa:h,Ne:h,$b:h,init:function(){this._super();var a=cc.Director.getInstance().getWinSize();cc.MenuItemFont.setFontSize(65);var b=cc.MenuItemFont.create(" - ",this.tb,this);b.setColor(cc.o(0,200,20));var c=cc.MenuItemFont.create(" + ",this.Va,this);c.setColor(cc.o(0,200,20));b=cc.Menu.create(b,c);b.alignItemsHorizontally();b.setPosition(cc.p(a.width/2,a.height/2+100));this.addChild(b,1);b=cc.LabelTTF.create("0 nodes","Marker Felt",24);b.setColor(cc.o(0,200,20));b.setPosition(cc.p(a.width/
2,a.height-90));this.addChild(b,1,vg);this.xa=0;this.Ge()},Xc:function(){this.init()},title:m("Animation Performance Test"),d:m(""),Ge:function(){this.$b=cc.Node.create();this.addChild(this.$b);for(var a=cc.Director.getInstance().getWinSize(),b=0;10>b;b++){var c=new Wg;c.init();c.setPosition(cc.p(a.width/2-15*b-200,a.height/2-15*b));this.xa++;cc.log("create"+this.xa);this.$b.addChild(c,0,this.xa)}a=cc.MoveBy.create(1,cc.p(20,0));this.$b.runAction(cc.RepeatForever.create(a));this.nc()},Va:function(){this.Ge()},
tb:function(){if(0<this.xa)for(var a=0;10>a;a++)cc.log("remove"+this.xa),this.$b.removeChildByTag(this.xa,g),this.xa--;this.nc()},nc:function(){if(this.xa!=this.Ne){var a=this.xa+" nodes";this.getChildByTag(vg).setString(a);this.Ne=this.xa}}}),Wg=cc.Node.extend({Pv:h,Qv:h,ew:h,fw:h,Rv:h,ctor:function(){this._super();cc.associateWithNative(this,cc.Node)},init:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/crystals.plist");var a=0;rightData=Array(10);for(a=
0;10>a;a++){var b=cc.Sprite.createWithSpriteFrameName("crystals/4.png");b.setPosition(cc.p(50,10*a-40));b.setRotation(-90);b.setScale(1);this.addChild(b);rightData[a]=b;0==a&&(rightItem=b)}for(a=0;10>a;a++){b=cc.Sprite.createWithSpriteFrameName("crystals/1.png");b.setPosition(cc.p(5*a,50));this.addChild(b);b.setScale(1.5);b.setRotation(350);var c=cc.RotateBy.create(0.01,5);b.runAction(cc.RepeatForever.create(c))}leftData=Array(10);for(a=0;10>a;a++)b=cc.Sprite.createWithSpriteFrameName("crystals/2.png"),
b.setPosition(cc.p(10,5*a-20)),b.setRotation(90),this.addChild(b),leftData[a]=b,0==a&&(leftItem=b)},jw:function(){leftX=leftItem.getPositionX()}});mg.jc=function(){var a=cc.Scene.create(),b=new mg(j,1,lg);a.addChild(b);return a};(function(a,b,c,d,f,i,k){function o(a){var b,d,f=this,i=a.length,k=0,o=f.i=f.Me=f.Tv=0;f.eb=[];f.Dv=[];for(i||(a=[i++]);k<c;)f.eb[k]=k++;for(k=0;k<c;k++)b=f.eb[k],o=o+b+a[k%i]&c-1,d=f.eb[o],f.eb[k]=d,f.eb[o]=b;f.g=function(a){var b=f.eb,d=f.i+1&c-1,i=b[d],k=f.Me+i&c-1,o=b[k];b[d]=o;b[k]=i;for(var p=b[i+o&c-1];--a;)d=d+1&c-1,i=b[d],k=k+i&c-1,o=b[k],b[d]=o,b[k]=i,p=p*c+b[i+o&c-1];f.i=d;f.Me=k;return p};f.g(c)}function q(a,b){var c,d,f;c=[];f=typeof a;if(b&&"object"==f)for(d in a)if(5>d.indexOf("S"))try{c.push(q(a[d],
b-1))}catch(i){}return c.length?c:a+("string"!=f?"\x00":"")}function v(a,b){var d,f,a=a+"";for(f=d=0;f<a.length;f++){var i=b,k=f&c-1,o=(d^=19*b[f&c-1])+a.charCodeAt(f);i[k]=o&c-1}a="";for(f in b)a+=String.fromCharCode(b[f]);return a}b.seedrandom=function(p,t){var J=[],N,p=v(q(t?[p,a]:arguments.length?p:[(new Date).getTime(),a,window],3),J);N=new o(J);v(N.eb,a);b.random=function(){for(var a=N.g(d),b=k,o=0;a<f;)a=(a+o)*c,b*=c,o=N.g(1);for(;a>=i;)a/=2,b/=2,o>>>=1;return(a+o)/b};return p};k=b.pow(c,d);
f=b.pow(2,f);i=2*f;v(b.random(),a)})([],Math,256,6,52);var Xg=-1,Yg=cc.p(0,0);function W(){y.call(this,cc.k(0,0,0,255),cc.k(98,99,117,255));this.e="No title";this.h="No Subtitle";this.ha=j}cc.inherits(W,y);n=W.prototype;
n.onEnter=function(){y.prototype.onEnter.call(this);var a=36,b=this.e.length,a=1.6*(u.width/b);0.09<a/u.width&&(a=0.09*u.width);this.label=cc.LabelTTF.create(this.e,"Gill Sans",a);this.addChild(this.label,100);var c=this.ha;c===g?this.label.setPosition(Yg):this.label.setPosition(u.width/2,11*u.height/12);var d=this.h;""!==d?(b=this.h.length,b=1.3*(u.width/b),b>0.4*a&&(b=0.4*a),this.fd=cc.LabelTTF.create(d,"Thonburi",b),this.addChild(this.fd,90),c?this.fd.setPosition(cc.p(u.width/2,3*u.height/8)):
this.fd.setPosition(cc.p(u.width/2,4*u.height/5))):this.fd=h;d=this.getChildByTag(10);a=d.getChildByTag(1);c=d.getChildByTag(2);d=d.getChildByTag(3);[a,c,d].forEach(function(a){a.getNormalImage().setOpacity(45);a.getSelectedImage().setOpacity(45)});this.removeChildByTag(11);this.removeChildByTag(12)};n.Mb=function(){for(var a="",b=0;b<arguments.length;b++)0!==b&&(a+="\n"),a+="- "+arguments[b];a=cc.LabelTTF.create(a,"Gill Sans",0.07*u.height);a.setPosition(Yg);this.addChild(a,80)};
function Zg(a,b){var c=cc.Sprite.create(b);c.setPosition(Yg);a.addChild(c,70)}n.J=function(){var a=new Ia;a.addChild(new $g[Xg]);r.replaceScene(a)};n.I=function(){var a=new Ia;a.addChild(ah());r.replaceScene(a)};n.H=function(){var a=new Ia;a.addChild(bh());r.replaceScene(a)};n.M=function(){return $g.length-1-Xg};n.K=function(){return Xg};function ch(){W.call(this);this.e="cocos2d JS";this.h="Game Development Kit";this.ha=g}cc.inherits(ch,W);
function dh(){W.call(this);this.e="Goals";this.h="";this.ha=j;this.Mb("Rapid prototyping","Rapid game development","Multiplatform: Mobile & Web","High quality code","Good performance")}cc.inherits(dh,W);function eh(){W.call(this);this.e="Options";this.h="HTML5 engines";this.ha=j;this.Mb("cocos2d HTML5","Impact JS","LimeJS","Construct 2","etc...")}cc.inherits(eh,W);
function fh(){W.call(this);this.e="HTML5 Features";this.h="";this.ha=j;this.Mb("Rapid prototyping","Rapid game development","Multiplatform: Mobile & Web","High quality code ???","Good Performance ???")}cc.inherits(fh,W);function gh(){W.call(this);this.e="HTML5 Mobile performance";this.h="Bad performance, even with accel frameworks";this.ha=j;Zg(this,"res/Presentation/comparison.png")}cc.inherits(gh,W);
function hh(){W.call(this);this.e="Performance";this.h="But what we want is...";this.ha=j;this.Mb("Hundreds of sprites... at 60 FPS","Physics... at 60 FPS","Particles... at 60 FPS")}cc.inherits(hh,W);function ih(){W.call(this);this.Xb=cc.SpriteBatchNode.create("res/Images/grossini.png",50);this.addChild(this.Xb);this.Ta=function(a){this.Xb.addChild(this.createPhysicsSprite(a))};this.e="Performance";this.h="Physics and Sprites";this.qb();jh(this)}cc.inherits(ih,W);n=ih.prototype;n.mh=function(){this.Hc.setVisible(!this.Hc.isVisible())};
function jh(a){cc.MenuItemFont.setFontSize(16);var b=cc.MenuItemFont.create("Toggle Physics Debug",a.mh,a),b=cc.Menu.create(b);a.addChild(b,99);b.setPosition(cc.p(u.width-80,u.height-100))}
n.qb=function(){this.z=new cp.Space;for(var a=this.z.getStaticBody(),a=[new cp.SegmentShape(a,cp.v(0,0),cp.v(u.width,0),0),new cp.SegmentShape(a,cp.v(0,u.height),cp.v(u.width,u.height),0),new cp.SegmentShape(a,cp.v(0,0),cp.v(0,u.height),0),new cp.SegmentShape(a,cp.v(u.width,0),cp.v(u.width,u.height),0)],b=0;b<a.length;b++){var c=a[b];c.setElasticity(1);c.setFriction(1);this.z.addStaticShape(c)}this.z.gravity=cp.v(0,-100);this.Hc=cc.PhysicsDebugNode.create(this.z.handle);this.Hc.setVisible(j);this.addChild(this.Hc,
100)};n.createPhysicsSprite=function(a){var b=new cp.Body(1,cp.momentForBox(1,48,108));b.setPos(a);this.z.addBody(b);a=cp.BoxShape(b,48,108);a.setElasticity(0.5);a.setFriction(0.5);this.z.addShape(a);a=cc.PhysicsSprite.create("res/Images/grossini.png");a.setBody(b.handle);return a};
n.onEnter=function(){W.prototype.onEnter.call(this);for(var a=0;20>a;a++)this.Ta(cp.v(40+Math.random()*(u.width-80),u.height/2+80*Math.random()));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)};n.onExitTransitionDidStart=function(){r.setDisplayStats(j)};n.onEnterTransitionDidFinish=function(){r.setDisplayStats(g);this.scheduleUpdate()};n.update=function(a){this.z.step(a)};n.onMouseDown=function(a){for(var b=0;10>b;b++)this.Ta(a.getLocation())};
n.onTouchesEnded=function(a){for(var b=a.length,c=0;c<b;c++)this.Ta(a[c].getLocation())};
function kh(){W.call(this);this.e="Performance";this.h="Particles";var a=cc.ParticleFireworks.create();this.addChild(a);a.setPosition(Yg);var b=cc.ParticleSun.create();this.addChild(b);b.setPosition(cc.p(u.width/4,u.height/2));b=cc.ParticleMeteor.create();this.addChild(b);b.setPosition(cc.p(3*u.width/4,u.height/2));b=cc.ParticleSystem.create("res/Particles/Flower.plist");this.addChild(b);b.setPosition(Yg);this.Ze=a;"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
this.onMouseDown=function(a){this.Ze.setPosition(a.getLocation())};this.onMouseDragged=function(a){return this.onMouseDown(a)};this.onTouchesEnded=function(a){for(var b=a.length,f=0;f<b;f++)this.Ze.setPosition(a[f].getLocation())};this.onTouchesMoved=function(a,b){return this.onTouchesEnded(a,b)};this.onExitTransitionDidStart=function(){r.setDisplayStats(j)};this.onEnterTransitionDidFinish=function(){r.setDisplayStats(g)}}cc.inherits(kh,W);
function lh(){W.call(this);this.e="Improving the performance";this.h='Redefining "fast" for mobile';this.ha=g}cc.inherits(lh,W);function mh(){W.call(this);this.e="HTML5 Mobile Accelerators";this.h="";this.ha=j;Zg(this,"res/Presentation/html5accelerator.png")}cc.inherits(mh,W);function nh(){W.call(this);this.e="cocos2d Acceleration";this.h="";this.ha=j;Zg(this,"res/Presentation/gdkaccelerator.png")}cc.inherits(nh,W);
function oh(){W.call(this);this.e="Components";this.h="";this.ha=j;this.Mb("Game engine: cocos2d","Physics engine: Chipmunk","World Editor: CocosBuilder")}cc.inherits(oh,W);function ph(){W.call(this);this.e="Who is using it";this.h="";this.ha=j;this.Mb("Zynga","...and you ?")}cc.inherits(ph,W);function qh(){W.call(this);this.e="Demo";this.h="";this.ha=g}cc.inherits(qh,W);function rh(){W.call(this);this.e="Thanks";this.h="";this.ha=g}cc.inherits(rh,W);function Ia(){x.call(this)}cc.inherits(Ia,x);
Ia.prototype.G=function(){Xg=-1;Yg=cc.p(u.width/2,u.height/2);this.addChild(ah());r.replaceScene(this)};var $g=[ch,dh,eh,fh,gh,hh,ih,kh,lh,mh,nh,oh,qh,ph,rh];function ah(){Xg++;Xg%=$g.length;return new $g[Xg]}function bh(){Xg--;0>Xg&&(Xg+=$g.length);return new $g[Xg]};var sh=-1,wh=y.extend({title:m("ProgressActionsTest"),title:m(""),H:function(){var a=new ya;a.addChild(th());r.replaceScene(a)},J:function(){var a=new ya;a.addChild(new uh[sh]);r.replaceScene(a)},I:function(){var a=new ya;a.addChild(vh());r.replaceScene(a)},M:function(){return uh.length-1-sh},K:function(){return sh}}),xh=wh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));
c.setType(cc.Ab);this.addChild(c);c.setPosition(200,u.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));a.setType(cc.Ab);a.setReverseDirection(g);this.addChild(a);a.setPosition(u.width-200,u.height/2);a.runAction(cc.RepeatForever.create(b))},title:m("ProgressTo Radial")}),yh=wh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));
c.setType(cc.ka);c.setMidpoint(cc.p(0,0));c.setBarChangeRate(cc.p(1,0));this.addChild(c);c.setPosition(200,u.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));a.setType(cc.ka);a.setMidpoint(cc.p(1,0));a.setBarChangeRate(cc.p(1,0));this.addChild(a);a.setPosition(u.width-200,u.height/2);a.runAction(cc.RepeatForever.create(b))},title:m("ProgressTo Horizontal")}),zh=wh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,
100),b=cc.ProgressTo.create(2,100),c=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));c.setType(cc.ka);c.setMidpoint(cc.p(0,0));c.setBarChangeRate(cc.p(0,1));this.addChild(c);c.setPosition(200,u.height/2);c.runAction(cc.RepeatForever.create(a));a=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));a.setType(cc.ka);a.setMidpoint(cc.p(0,1));a.setBarChangeRate(cc.p(0,1));this.addChild(a);a.setPosition(u.width-200,u.height/2);a.runAction(cc.RepeatForever.create(b))},
title:m("ProgressTo Vertical")}),Ah=wh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));b.setType(cc.Ab);this.addChild(b);b.setMidpoint(cc.p(0.25,0.75));b.setPosition(200,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/blocks.png"));b.setType(cc.Ab);b.setMidpoint(cc.p(0.75,0.25));this.addChild(b);b.setPosition(u.width-200,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},
title:m("Radial w/ Different Midpoints")}),Bh=wh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(2,100),b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));b.setType(cc.ka);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,0));this.addChild(b);b.setPosition(150,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));b.setType(cc.ka);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,
1));this.addChild(b);b.setPosition(u.width/2,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));b.setType(cc.ka);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(0,1));this.addChild(b);b.setPosition(u.width-150,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},title:m("ProgressTo Bar Mid")}),Ch=wh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(6,100),b=cc.Sequence.create(cc.TintTo.create(1,
255,0,0),cc.TintTo.create(1,0,255,0),cc.TintTo.create(1,0,0,255)),c=cc.Sequence.create(cc.FadeTo.create(1,0),cc.FadeTo.create(1,255)),d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister1.png"));d.setType(cc.ka);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(1,0));this.addChild(d);d.setPosition(150,u.height/2);d.runAction(cc.RepeatForever.create(a.copy()));d.runAction(cc.RepeatForever.create(b.copy()));d.addChild(cc.LabelTTF.create("Tint","Marker Felt",20));d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));
d.setType(cc.ka);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(1,1));this.addChild(d);d.setPosition(u.width/2,u.height/2);d.runAction(cc.RepeatForever.create(a.copy()));d.runAction(cc.RepeatForever.create(c.copy()));d.addChild(cc.LabelTTF.create("Fade","Marker Felt",20));d=cc.ProgressTimer.create(cc.Sprite.create("res/Images/grossinis_sister2.png"));d.setType(cc.ka);d.setMidpoint(cc.p(0.5,0.5));d.setBarChangeRate(cc.p(0,1));this.addChild(d);d.setPosition(u.width-150,u.height/2);d.runAction(cc.RepeatForever.create(a.copy()));
d.runAction(cc.RepeatForever.create(b.copy()));d.runAction(cc.RepeatForever.create(c.copy()));d.addChild(cc.LabelTTF.create("Tint and Fade","Marker Felt",20))},title:m("ProgressTo Bar Mid")}),Dh=wh.extend({onEnter:function(){this._super();var a=cc.ProgressTo.create(6,100);cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/grossini.plist");var b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png"));b.setType(cc.ka);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,
0));this.addChild(b);b.setPosition(150,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_02.png"));b.setType(cc.ka);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(1,1));this.addChild(b);b.setPosition(u.width/2,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()));b=cc.ProgressTimer.create(cc.Sprite.createWithSpriteFrameName("grossini_dance_03.png"));b.setType(cc.Ab);b.setMidpoint(cc.p(0.5,0.5));b.setBarChangeRate(cc.p(0,
1));this.addChild(b);b.setPosition(u.width-150,u.height/2);b.runAction(cc.RepeatForever.create(a.copy()))},title:m("Progress With Sprite Frame")}),ya=x.extend({G:function(){sh=-1;this.addChild(vh());r.replaceScene(this)}}),uh=[xh,yh,zh,Ah,Bh,Ch,Dh];function vh(){sh++;sh%=uh.length;return new uh[sh]}function th(){sh--;0>sh&&(sh+=uh.length);return new uh[sh]};var Eh=-1,Ih=y.extend({ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255))},title:m("Render Texture"),d:m(""),code:m(""),J:function(){var a=new za;a.addChild(new Fh[Eh]);r.replaceScene(a)},I:function(){var a=new za;a.addChild(Gh());r.replaceScene(a)},H:function(){var a=new za;a.addChild(Hh());r.replaceScene(a)},M:function(){return Fh.length-1-Eh},K:function(){return Eh}}),Jh=Ih.extend({va:h,Ba:h,Oa:h,Ma:0,onEnter:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):
"mouse"in sys.capabilities&&this.setMouseEnabled(g);this.va=cc.Sprite.create("res/Images/fire.png");this.va.retain();this.va.setColor(cc.xd);this.va.setOpacity(20);var a=cc.MenuItemFont.create("Save",this.Ch,this),b=cc.MenuItemFont.create("Clear",this.bg.bind(this)),a=cc.Menu.create(a,b);a.alignItemsVertically();a.setPosition(u.width-70,u.height-80);this.addChild(a,10);a=cc.RenderTexture.create(u.width,u.height);a.setPosition(u.width/2,u.height/2);this.addChild(a,1);this.Ba=a;this.Oa=cc.p(u.width/
2,u.height/2)},onExit:function(){this.va.release()},Ch:function(){var a="image-"+this.Ma+".png";this.Ba.saveToFile("image-"+this.Ma+".jpg",cc.je);this.Ba.saveToFile(a,cc.ke);cc.log("images saved!");this.Ma++},bg:function(){this.Ba.clear(Math.random(),Math.random(),Math.random(),1)},Ie:function(a){var b=cc.pDistance(a,this.Oa);if(1<b){this.Ba.begin();for(var c=0;c<b;c++){var d=c/b;this.va.setPosition(a.x+(this.Oa.x-a.x)*d,a.y+(this.Oa.y-a.y)*d);this.va.setRotation(360*Math.random());this.va.setScale(2*
Math.random());this.va.setColor(cc._c3b(255*Math.random(),255,255));this.va.visit()}this.Ba.end()}this.Oa=a},onTouchesBegan:function(a){this.Oa=a[0].getLocation();return g},onTouchesMoved:function(a){this.Ie(a[0].getLocation());return g},onMouseDown:function(a){this.Oa=a.getLocation();return g},onMouseDragged:function(a){this.Ie(a.getLocation());return g},d:m("Testing 'save'")}),Kh=Ih.extend({va:h,Ba:h,Oa:h,Ma:0,ctor:function(){this._super();var a=cc.Sprite.create("res/animations/grossini.png"),b=
cc.RenderTexture.create(u.width/2,u.height/2);b.setPosition(u.width/2,u.height/2);this.addChild(b,1);a.setPosition(u.width/4,u.height/4);b.begin();a.visit();b.end();var a=cc.FadeOut.create(2),c=a.reverse(),d=cc.DelayTime.create(0.25),a=cc.Sequence.create(a,d,c,d.copy()),a=cc.RepeatForever.create(a);b.getSprite().runAction(a)},title:m("Issue 1464"),d:m("Sprites should fade in / out correctly"),B:2.1,s:function(){return JSON.stringify({"0":0,1:0,2:0,3:255,4:0,5:0,6:0,7:255,8:0,9:0,10:0,11:255,12:0,
13:0,14:0,15:255,16:0,17:0,18:0,19:255,20:0,21:0,22:0,23:255,24:0,25:0,26:0,27:255,28:0,29:0,30:0,31:255,32:0,33:0,34:0,35:255,36:0,37:0,38:0,39:255,40:0,41:0,42:0,43:255,44:0,45:0,46:0,47:255,48:0,49:0,50:0,51:255,52:0,53:0,54:0,55:255,56:0,57:0,58:0,59:255,60:0,61:0,62:0,63:255})},q:function(){var a=this.readPixels(u.width/2-2,u.height/2-2,4,4);return JSON.stringify(a)}}),za=x.extend({G:function(){Eh=-1;this.addChild(Gh());r.replaceScene(this)}}),Fh=[Jh,Kh];
function Gh(){Eh++;Eh%=Fh.length;return new Fh[Eh]}function Hh(){Eh--;0>Eh&&(Eh+=Fh.length);return new Fh[Eh]};var Aa=x.extend({G:function(){this.addChild(Lh.create());this.runAction(cc.RotateBy.create(4,-360));r.replaceScene(this)}}),Mh=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b,c=r.getWinSize();a=c.width;b=c.height;var d=cc.Sprite.create("res/Images/grossini.png"),c=cc.Sprite.create("res/Images/grossinis_sister1.png"),f=cc.Sprite.create("res/Images/grossinis_sister2.png");d.setScale(1.5);c.setScale(1.5);f.setScale(1.5);
d.setPosition(a/2,b/2);c.setPosition(40,b/2);f.setPosition(a-40,b/2);a=cc.RotateBy.create(16,-3600);this.addChild(d);this.addChild(c);this.addChild(f);d.runAction(a);a=cc.JumpBy.create(4,cc.p(-400,0),100,4);d=a.reverse();b=cc.RotateBy.create(4,720);var i=b.reverse();c.runAction(cc.Repeat.create(cc.Sequence.create(d,a),5));f.runAction(cc.Repeat.create(cc.Sequence.create(a.copy(),d.copy()),5));c.runAction(cc.Repeat.create(cc.Sequence.create(b,i),5));f.runAction(cc.Repeat.create(cc.Sequence.create(i.copy(),
b.copy()),5))}});Mh.create=function(){return new Mh};var Nh=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b;b=r.getWinSize();a=b.width;b=b.height;var c=cc.LabelTTF.create("cocos2d","Tahoma",64);c.setPosition(a/2,b/2);this.addChild(c)}});Nh.create=function(){return new Nh};
var Lh=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init()},onEnter:function(){this._super();var a,b,c=r.getWinSize();a=c.width;b=c.height;var c=cc.LayerColor.create(cc.k(0,0,255,255)),d=cc.LayerColor.create(cc.k(255,0,0,255)),f=cc.LayerColor.create(cc.k(0,255,0,255)),i=cc.LayerColor.create(cc.k(255,255,255,255));c.setScale(0.5);c.setPosition(-a/4,-b/4);c.addChild(Mh.create());d.setScale(0.5);d.setPosition(a/4,-b/4);f.setScale(0.5);f.setPosition(-a/4,b/
4);f.addChild(Nh.create());i.setScale(0.5);i.setPosition(a/4,b/4);this.addChild(c,-1);this.addChild(i);this.addChild(f);this.addChild(d);a=cc.RotateBy.create(8,720);c.runAction(a);d.runAction(a.copy());f.runAction(a.copy());i.runAction(a.copy())}});Lh.create=function(){return new Lh};SceneTestLayer1=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();var a=r.getWinSize(),b=cc.MenuItemFont.create("Test pushScene",this.Xg,this),c=cc.MenuItemFont.create("Test pushScene w/transition",this.Yg,this),d=cc.MenuItemFont.create("Quit",function(){cc.log("quit!")},this),b=cc.Menu.create(b,c,d);b.alignItemsVertically();this.addChild(b);b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);b.setPosition(cc.p(a.width-40,a.height/2));a=cc.RotateBy.create(2,
360);a=cc.RepeatForever.create(a);b.runAction(a);this._super()},onEnter:function(){cc.log("SceneTestLayer1#onEnter");this._super()},onEnterTransitionDidFinish:function(){cc.log("SceneTestLayer1#onEnterTransitionDidFinish");this._super()},kf:l(),Xg:function(){var a=new SceneTestScene,b=new SceneTestLayer2;a.addChild(b,0);r.pushScene(a)},Yg:function(){var a=new SceneTestScene,b=new SceneTestLayer2;a.addChild(b,0);r.pushScene(cc.TransitionSlideInT.create(1,a))},Se:l()});
SceneTestLayer2=cc.Layer.extend({mw:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Layer);this.init();var a=r.getWinSize(),b=cc.MenuItemFont.create("replaceScene",this.bh,this),c=cc.MenuItemFont.create("replaceScene w/transition",this.dh,this),d=cc.MenuItemFont.create("Go Back",this.Ig,this),b=cc.Menu.create(b,c,d);b.alignItemsVertically();this.addChild(b);b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);b.setPosition(cc.p(a.width-40,a.height/2));a=cc.RotateBy.create(2,
360);a=cc.RepeatForever.create(a);b.runAction(a)},kf:l(),Ig:function(){r.popScene()},bh:function(){var a=new SceneTestScene,b=new SceneTestLayer3;a.addChild(b,0);r.replaceScene(a)},dh:function(){var a=new SceneTestScene,b=new SceneTestLayer3;a.addChild(b,0);r.replaceScene(cc.TransitionSlideInT.create(2,a))}});
SceneTestLayer3=cc.LayerColor.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.LayerColor);this.init(cc.k(0,128,255,255));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.LabelTTF.create("Touch to popScene","Arial",28);this.addChild(a);var b=r.getWinSize();a.setPosition(cc.p(b.width/2,b.height/2));a=cc.Sprite.create("res/Images/grossini.png");this.addChild(a);a.setPosition(cc.p(b.width-40,b.height/2));b=cc.RotateBy.create(2,
360);b=cc.RepeatForever.create(b);a.runAction(b)},kf:l(),onTouchesEnded:function(){r.popScene()},onMouseUp:function(){r.popScene()}});SceneTestScene=x.extend({G:function(){this.addChild(new SceneTestLayer1);r.replaceScene(this)}});var Oh=-1,Rh=y.extend({title:m("No title"),d:m(""),H:function(){var a=new Ba,b;Oh--;0>Oh&&(Oh+=Ph.length);b=new Ph[Oh];a.addChild(b);r.replaceScene(a)},I:function(){var a=new Ba,b=Qh();a.addChild(b);r.replaceScene(a)},J:function(){var a=new Ba,b=new Ph[Oh];a.addChild(b);r.replaceScene(a)},M:function(){return Ph.length-1-Oh},K:function(){return Oh}}),Sh=Rh.extend({ta:0,onEnter:function(){this._super();this.schedule(this.Re,0.5);this.schedule(this.ae,0.5);this.ta=0},title:m("Self-remove an scheduler"),
d:m("1 scheduler will be autoremoved in 3 seconds. See console"),Re:function(a){this.ta+=a;cc.log("Time: "+this.ta);3<this.ta&&(this.unschedule(this.Re),cc.log("scheduler removed"))},ae:function(){cc.log("This scheduler should not be removed")}}),Th=Rh.extend({onEnter:function(){this._super();this.schedule(this.Wa,0.5);this.schedule(this.Xa,0.5);this.schedule(this.Zd,3)},title:m("Pause / Resume"),d:m("Scheduler should be paused after 3 seconds. See console"),Wa:function(){cc.log("tick1")},Xa:function(){cc.log("tick2")},
Zd:function(){r.getScheduler().pauseTarget(this)}}),Uh=Rh.extend({onEnter:function(){this._super();this.schedule(this.Wa,0.5);this.schedule(this.Xa,1);this.schedule(this.fc,1.5);this.schedule(this.gc,1.5);this.schedule(this.be,4)},title:m("Unschedule All callbacks"),d:m("All scheduled callbacks will be unscheduled in 4 seconds. See console"),Wa:function(){cc.log("tick1")},Xa:function(){cc.log("tick2")},fc:function(){cc.log("tick3")},gc:function(){cc.log("tick4")},be:function(){this.unscheduleAllCallbacks()}}),
Vh=Rh.extend({onEnter:function(){this._super();this.schedule(this.Wa,0.5);this.schedule(this.Xa,1);this.schedule(this.fc,1.5);this.schedule(this.gc,1.5);this.schedule(this.be,4)},title:m("Unschedule All callbacks #2"),d:m("Unschedules all callbacks after 4s. Uses CCScheduler. See console"),Wa:function(){cc.log("tick1")},Xa:function(){cc.log("tick2")},fc:function(){cc.log("tick3")},gc:function(){cc.log("tick4")},be:function(){r.getScheduler().unscheduleAllCallbacks()}}),Wh=Rh.extend({onEnter:function(){this._super();
this.schedule(this.Wa,0.5);this.schedule(this.Xa,1);this.schedule(this.Te,4)},title:m("Schedule from Schedule"),d:m("Will unschedule and schedule callbacks in 4s. See console"),Wa:function(){cc.log("tick1")},Xa:function(){cc.log("tick2")},fc:function(){cc.log("tick3")},gc:function(){cc.log("tick4")},Te:function(){this.unschedule(this.Wa);this.unschedule(this.Xa);this.unschedule(this.Te);this.schedule(this.fc,1);this.schedule(this.gc,1)}}),Xh=cc.Node.extend({ue:"",ctor:function(a,b){cc.associateWithNative(this,
cc.Layer);this.init();this._super();this.ue=a;this.scheduleUpdateWithPriority(b)},update:function(){cc.log(this.ue)}}),Yh=Rh.extend({onEnter:function(){this._super();this.addChild(new Xh("---",50));this.addChild(new Xh("3rd",0));this.addChild(new Xh("1st",-10));this.addChild(new Xh("4th",10));this.addChild(new Xh("5th",20));this.addChild(new Xh("2nd",-5));this.schedule(this.ah,4)},title:m("Schedule update with priority"),d:m("3 scheduled updates. Priority should work. Stops in 4s. See console"),ah:function(){for(var a=
this.getChildren(),b=0;b<a.length;b++){var c=a[b];c&&c.unscheduleAllCallbacks()}}}),Zh=Rh.extend({onEnter:function(){this._super();this.scheduleUpdate();this.schedule(this.ae);this.schedule(this.gh,4)},title:m("Schedule Update + custom callback"),d:m("Update + custom callback at the same time. Stops in 4s. See console"),update:function(a){cc.log("update called:"+a)},ae:function(a){cc.log("custom callback called:"+a)},gh:function(){this.unscheduleAllCallbacks()}}),$h=Rh.extend({onEnter:function(){this._super();
this.schedule(this.ub,2)},title:m("Schedule Update in 2 sec"),d:m("Update schedules in 2 secs. Stops 2 sec later. See console"),update:function(a){cc.log("update called:"+a)},ub:function(){this.unschedule(this.ub);this.scheduleUpdate();this.schedule(this.We,2)},We:function(){this.unscheduleUpdate();this.unschedule(this.We)}}),ai=Rh.extend({Tb:1,Cc:0,onEnter:function(){this._super();this.Tb=1;this.Cc=0;this.schedule(this.ub,this.Tb)},title:m("Reschedule Callback"),d:m("Interval is 1 second, then 2, then 3..."),
ub:function(a){this.Cc++;cc.log("schedUpdate: "+a.toFixed(2));3<this.Cc&&(this.Tb+=1,this.schedule(this.ub,this.Tb),this.Cc=0)}}),bi=Rh.extend({ta:0,onEnter:function(){this._super();this.ta=0;var a=r.getScheduler();a.scheduleUpdateForTarget(this,0,j);var b=cc.le;a.scheduleCallbackForTarget(this,this.ub,0.25,b,2,j)},title:m("Schedule / Unschedule using Scheduler"),d:m("After 5 seconds all callbacks should be removed"),update:function(a){cc.log("update: "+a)},ub:function(a){cc.log("onSchedUpdate delta: "+
a);this.ta+=a;3<this.ta&&r.getScheduler().unscheduleAllCallbacksForTarget(this);cc.log("onSchedUpdate accum: "+this.ta)}}),Ba=x.extend({G:function(){Oh=-1;this.addChild(Qh());r.replaceScene(this)}}),Ph=[Sh,Th,Uh,Vh,Wh,Yh,Zh,$h,ai,bi];function Qh(){Oh++;Oh%=Ph.length;return new Ph[Oh]};var X=1,Ja=2,G=0,H=1,Fc=2,ci=-1,Y=cc.SpriteFrameCache.getInstance(),Z=y.extend({e:"",h:"",ctor:function(){0===arguments.length?this._super(cc.k(0,0,0,255),cc.k(98,99,117,255)):this._super.apply(this,arguments)},J:function(){var a=new Ca;a.addChild(new di[ci]);r.replaceScene(a)},I:function(){var a=new Ca;a.addChild(ei());r.replaceScene(a)},H:function(){var a=new Ca;a.addChild(fi());r.replaceScene(a)},M:function(){return di.length-1-ci},K:function(){return ci}}),gi=Z.extend({e:"Non Batched Sprite ",
h:"Tap screen to add more sprites",ctor:function(){this._super();this.ob(cc.p(u.width/2,u.height/2));"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},ob:function(a){var b=0|14*Math.random(),b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85*(b%5),121*(0|b/5),85,121));this.addChild(b);b.setPosition(cc.p(a.x,a.y));var a=Math.random(),a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):0.8>
a?cc.TintBy.create(2,0,-255,-255):cc.FadeOut.create(2),c=a.reverse(),a=cc.Sequence.create(a,c);b.runAction(cc.RepeatForever.create(a))},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b];if(!c)break;this.ob(c.getLocation())}},onMouseDown:function(a){this.ob(a.getLocation());return g}}),hi=Z.extend({e:"Batched Sprite ",h:"Tap screen to add more sprites",ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);
this.addChild(cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",50),0,1);this.ob(cc.p(u.width/2,u.height/2))},ob:function(a){var b=this.getChildByTag(1),c=0|14*Math.random(),d=85*(c%5),c=121*(0|c/5),d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(d,c,85,121));b.addChild(d);d.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):0.8>a?cc.TintBy.create(2,0,-255,-255):cc.FadeOut.create(2);b=a.reverse();
a=cc.Sequence.create(a,b);d.runAction(cc.RepeatForever.create(a))},onTouchesEnded:function(a){for(var b=0;b<a.length;b++){var c=a[b];if(!c)break;this.ob(c.getLocation())}},onMouseDown:function(a){this.ob(a.getLocation());return g}}),ii=Z.extend({e:"Sprite: Color & Opacity",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(0,121,85,121)),b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121)),c=cc.Sprite.create("res/Images/grossini_dance_atlas.png",
cc.rect(170,121,85,121)),d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,121,85,121)),f=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(0,121,85,121)),i=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121)),k=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(170,121,85,121)),o=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,121,85,121));a.setPosition(cc.p(u.width/5,u.height/3));b.setPosition(cc.p(2*(u.width/
5),u.height/3));c.setPosition(cc.p(3*(u.width/5),u.height/3));d.setPosition(cc.p(4*(u.width/5),u.height/3));f.setPosition(cc.p(u.width/5,2*(u.height/3)));i.setPosition(cc.p(2*(u.width/5),2*(u.height/3)));k.setPosition(cc.p(3*(u.width/5),2*(u.height/3)));o.setPosition(cc.p(4*(u.width/5),2*(u.height/3)));var q=cc.FadeIn.create(2),v=q.reverse(),q=cc.RepeatForever.create(cc.Sequence.create(q,v)),v=cc.TintBy.create(2,0,-255,-255),p=v.reverse(),v=cc.RepeatForever.create(cc.Sequence.create(v,p)),p=cc.TintBy.create(2,
-255,0,-255),t=p.reverse(),p=cc.RepeatForever.create(cc.Sequence.create(p,t)),t=cc.TintBy.create(2,-255,-255,0),J=t.reverse(),t=cc.RepeatForever.create(cc.Sequence.create(t,J));f.runAction(v);i.runAction(p);k.runAction(t);o.runAction(q);this.addChild(a,0,G);this.addChild(b,0,H);this.addChild(c,0,Fc);this.addChild(d,0,3);this.addChild(f,0,4);this.addChild(i,0,5);this.addChild(k,0,6);this.addChild(o,0,7);this.schedule(this.de,2)},de:function(){var a=this.getChildByTag(4);this.removeChild(a,j);this.addChild(a,
0,4)}}),ji=Z.extend({e:"SpriteBatchNode: Color & Opacity",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121)),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(170,121,85,121)),f=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,121,85,121)),i=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(0,121,85,121)),k=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121)),o=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(170,121,85,121)),q=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,121,85,121));b.setPosition(cc.p(1*(u.width/5),1*(u.height/3)));c.setPosition(cc.p(2*(u.width/5),1*(u.height/3)));d.setPosition(cc.p(3*(u.width/5),1*(u.height/3)));f.setPosition(cc.p(4*(u.width/5),1*(u.height/3)));i.setPosition(cc.p(1*(u.width/5),2*(u.height/3)));k.setPosition(cc.p(2*
(u.width/5),2*(u.height/3)));o.setPosition(cc.p(3*(u.width/5),2*(u.height/3)));q.setPosition(cc.p(4*(u.width/5),2*(u.height/3)));var v=cc.FadeIn.create(2),p=v.reverse(),v=cc.RepeatForever.create(cc.Sequence.create(v,p)),p=cc.TintBy.create(2,0,-255,-255),p=cc.RepeatForever.create(cc.Sequence.create(p,p.reverse())),t=cc.TintBy.create(2,-255,0,-255),J=t.reverse(),t=cc.RepeatForever.create(cc.Sequence.create(t,J)),J=cc.TintBy.create(2,-255,-255,0),N=J.reverse(),J=cc.RepeatForever.create(cc.Sequence.create(J,
N));i.runAction(p);k.runAction(t);o.runAction(J);q.runAction(v);a.addChild(b,0,G);a.addChild(c,0,H);a.addChild(d,0,Fc);a.addChild(f,0,3);a.addChild(i,0,4);a.addChild(k,0,5);a.addChild(o,0,6);a.addChild(q,0,7);this.schedule(this.de,2)},de:function(){var a=this.getChildByTag(1),b=a.getChildByTag(4);a.removeChild(b,j);a.addChild(b,0,4)}}),ki=Z.extend({pa:0,e:"Sprite: Z order",ctor:function(){this._super();this.pa=1;for(var a,b=u.width/11,c=0;5>c;c++)a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",
cc.rect(0,121,85,121)),a.setPosition(cc.p((c+1)*b,u.height/2)),this.addChild(a,c);for(c=5;10>c;c++)a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,0,85,121)),a.setPosition(cc.p((c+1)*b,u.height/2)),this.addChild(a,14-c);a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(255,0,85,121));this.addChild(a,-1,G);a.setPosition(cc.p(u.width/2,u.height/2-20));a.setScaleX(10);a.setColor(cc.o(255,0,0));this.schedule(this.oa,1)},oa:function(){var a=this.getChildByTag(G),b=a.getZOrder();
-1>b&&(this.pa=1);10<b&&(this.pa=-1);b+=3*this.pa;this.reorderChild(a,b)}}),li=Z.extend({pa:0,e:"SpriteBatch: Z order",ctor:function(){this._super();this.pa=1;var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);for(var b,c=u.width/11,d=0;5>d;d++)b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,121,85,121)),b.setPosition(cc.p((d+1)*c,u.height/2)),a.addChild(b,d);for(d=5;10>d;d++)b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,0,85,121)),b.setPosition(cc.p((d+
1)*c,u.height/2)),a.addChild(b,14-d);b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(255,0,85,121));a.addChild(b,-1,G);b.setPosition(cc.p(u.width/2,u.height/2-20));b.setScaleX(10);b.setColor(cc.o(255,0,0));this.schedule(this.oa,1)},oa:function(){var a=this.getChildByTag(1),b=a.getChildByTag(G),c=b.getZOrder();-1>c&&(this.pa=1);10<c&&(this.pa=-1);c+=3*this.pa;a.reorderChild(b,c)}}),mi=Z.extend({e:"SpriteBatchNode: reorder #1",h:"Should not crash",ctor:function(){this._super();for(var a=[],b=cc.SpriteBatchNode.create("res/animations/ghosts.png"),
c=0;10>c;c++){var d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(0,0,50,50));a.push(d);b.addChild(d,10)}for(c=0;10>c;c++)5!=c&&b.reorderChild(a[c],9);d=b.getChildren();for(c=0;c<d.length;c++){a=d[c];if(!a)break;a.getAtlasIndex()}b=b.getDescendants();for(c=0;c<b.length;c++){a=b[c];if(!a)break;a.getAtlasIndex()}}}),ni=Z.extend({e:"SpriteBatchNode: reorder issue #744",h:"Should not crash",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",15);this.addChild(a,
0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,85,121));b.setPosition(cc.p(u.width/2,u.height/2));a.addChild(b,3);a.reorderChild(b,1)}}),oi=Z.extend({n:h,R:h,V:h,Aa:h,e:"SpriteBatchNode: reorder issue #766",h:"In 2 seconds 1 sprite will be reordered",ctor:function(){this._super();this.n=cc.SpriteBatchNode.create("res/Images/piece.png",15);this.addChild(this.n,1,0);this.R=this.Qd(2);this.R.setPosition(cc.p(200,160));this.V=this.Qd(3);this.V.setPosition(cc.p(264,160));this.Aa=this.Qd(4);
this.Aa.setPosition(cc.p(328,160));this.schedule(this.oa,2)},oa:function(){this.unschedule(this.oa);this.n.reorderChild(this.R,4)},Qd:function(a){var b=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(128,0,64,64));this.n.addChild(b,a+1,0);var c=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(0,0,64,64));c.setOpacity(128);b.addChild(c,a,3);c=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(64,0,64,64));b.addChild(c,a+2,3);return b}}),pi=Z.extend({e:"SpriteBatchNode: reorder issue #767",
h:"Should not crash",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist","res/animations/ghosts.png");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png");this.addChild(a,0,G);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));b.setPosition(cc.p(u.width/2,u.height/2));a.addChild(b,0,H);var c=b.getContentSize(),d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));d.setPosition(cc.p(-25+c.width/2,0+c.height/2));b.addChild(d,-1,2);var f=
d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));a.setPosition(cc.p(25+c.width/2,0+c.height/2));b.addChild(a,1,3);b=d.getContentSize();c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));c.setScale(0.65);c.setPosition(cc.p(0+f.width/2,-50+f.height/2));d.addChild(c,-1);c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));c.setScale(0.65);c.setPosition(cc.p(0+f.width/2,50+f.height/2));d.addChild(c,1);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));
d.setScale(0.65);d.setPosition(cc.p(0+b.width/2,-50+b.height/2));a.addChild(d,-1);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.65);d.setPosition(cc.p(0+b.width/2,50+b.height/2));a.addChild(d,1);this.schedule(this.yh,1)},yh:function(){var a=this.getChildByTag(G).getChildByTag(H),b=a.getChildByTag(2),c=a.getChildByTag(3),d=1;1==b.getZOrder()&&(d=-1);a.reorderChild(b,d);a.reorderChild(c,-d)}}),qi=Z.extend({pa:0,Yf:0,e:"Sprite: openGL Z vertex",h:"Scene should rotate",
ctor:function(){this._super(cc.k(255,0,0,80),cc.k(255,98,117,20));if("opengl"in sys.capabilities){gl.enable(gl.DEPTH_TEST);var a=cc.ShaderCache.getInstance().getProgram(cc.me),b=a.getProgram(),c=gl.getUniformLocation(b,cc.oe);gl.useProgram(b);a.setUniformLocationF32(c,0.5);this.pa=1;b=u.width/12;c=cc.Node.create();c.setContentSize(cc.size(u.width,u.height));c.setAnchorPoint(cc.p(0.5,0.5));c.setPosition(cc.p(u.width/2,u.height/2));this.addChild(c,0);for(var d,f=0;5>f;f++)d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",
cc.rect(0,121,85,121)),d.setPosition(cc.p((f+1)*b,u.height/2)),d.setVertexZ(10+40*f),d.setShaderProgram(a),c.addChild(d,0);for(f=5;11>f;f++)d=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,0,85,121)),d.setPosition(cc.p((f+1)*b,u.height/2)),d.setVertexZ(10+40*(10-f)),d.setShaderProgram(a),c.addChild(d,0);this.runAction(cc.OrbitCamera.create(10,1,0,0,360,0,0))}else cc.log("Only runs when OpenGL is enabled")},onEnter:function(){this._super();"opengl"in sys.capabilities&&(r.setProjection(cc.Qb),
gl.enable(gl.DEPTH_TEST),this.getChildByTag(10).setVertexZ(1),this.getChildByTag(11).setVertexZ(1),this.getChildByTag(12).setVertexZ(1))},onExit:function(){"opengl"in sys.capabilities&&(r.setProjection(cc.$a),gl.disable(gl.DEPTH_TEST));this._super()}}),ri=Z.extend({pa:0,Yf:0,e:"SpriteBatchNode: openGL Z vertex",h:"Scene should rotate",ctor:function(){this._super(cc.k(255,0,0,80),cc.k(255,98,117,20));if("opengl"in sys.capabilities){var a=cc.ShaderCache.getInstance().getProgram(cc.me),b=a.getProgram(),
c=gl.getUniformLocation(b,cc.oe);gl.useProgram(b);a.setUniformLocationF32(c,0.5);b=u.width/12;c=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);c.setContentSize(cc.size(u.width,u.height));c.setAnchorPoint(cc.p(0.5,0.5));c.setPosition(cc.p(u.width/2,u.height/2));c.setShaderProgram(a);this.addChild(c,0,1);for(var d=0;5>d;d++)a=cc.Sprite.createWithTexture(c.getTexture(),cc.rect(0,121,85,121)),a.setPosition(cc.p((d+1)*b,u.height/2)),a.setVertexZ(10+40*d),c.addChild(a,0);for(d=5;11>
d;d++)a=cc.Sprite.createWithTexture(c.getTexture(),cc.rect(85,0,85,121)),a.setPosition(cc.p((d+1)*b,u.height/2)),a.setVertexZ(10+40*(10-d)),c.addChild(a,0);this.runAction(cc.OrbitCamera.create(10,1,0,0,360,0,0))}else cc.log("Only runs when OpenGL is enabled")},onEnter:function(){this._super();"opengl"in sys.capabilities&&(r.setProjection(cc.Qb),gl.enable(gl.DEPTH_TEST),this.getChildByTag(10).setVertexZ(1),this.getChildByTag(11).setVertexZ(1),this.getChildByTag(12).setVertexZ(1))},onExit:function(){"opengl"in
sys.capabilities&&(r.setProjection(cc.$a),gl.disable(gl.DEPTH_TEST));this._super()}}),si=Z.extend({e:"Sprite: anchor point",ctor:function(){this._super();for(var a=0;3>a;a++){var b=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(b),c=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85*a,121,85,121));c.setPosition(cc.p(u.width/4*(a+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,10);switch(a){case 0:c.setAnchorPoint(cc.p(0,
0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());c.runAction(b);this.addChild(c,a)}}}),ti=Z.extend({e:"SpriteBatchNode: anchor point",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);for(var b=0;3>b;b++){var c=cc.RotateBy.create(10,360),c=cc.RepeatForever.create(c),d=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85*b,121,85,121));d.setPosition(cc.p(u.width/
4*(b+1),u.height/2));var f=cc.Sprite.create("res/Images/r1.png");f.setScale(0.25);f.setPosition(d.getPosition());this.addChild(f,1);switch(b){case 0:d.setAnchorPoint(cc.p(0,0));break;case 1:d.setAnchorPoint(cc.p(0.5,0.5));break;case 2:d.setAnchorPoint(cc.p(1,1))}f.setPosition(d.getPosition());d.runAction(c);a.addChild(d,b)}}}),ui=Z.extend({e:"SpriteBatchNode transformation",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",1);this.addChild(a,0,1);
a.ignoreAnchorPointForPosition(g);a.setAnchorPoint(cc.p(0.5,0.5));a.setContentSize(cc.size(u.width,u.height));for(var b=cc.RotateBy.create(5,360),c=b.reverse(),b=cc.Sequence.create(b,c),b=cc.RepeatForever.create(b),c=cc.ScaleBy.create(5,1.5),d=c.reverse(),c=cc.Sequence.create(c,d),c=cc.RepeatForever.create(c),d=u.width/4,f=0;3>f;f++){var i=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85*f,121,85,121));i.setPosition(cc.p((f+1)*d,u.height/2));var k=cc.RotateBy.create(5,360),k=cc.RepeatForever.create(k);
i.runAction(k.copy());a.addChild(i,f)}a.runAction(c);a.runAction(b)}}),vi=Z.extend({e:"Sprite Flip X & Y",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121));a.setPosition(cc.p(u.width/2-100,u.height/2));this.addChild(a,0,G);a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121));a.setPosition(cc.p(u.width/2+100,u.height/2));this.addChild(a,0,H);this.schedule(this.dc,1)},dc:function(){var a=this.getChildByTag(G),
b=this.getChildByTag(H);a.setFlipX(!a.isFlippedX());b.setFlipY(!b.isFlippedY())}}),wi=Z.extend({e:"SpriteBatchNode Flip X & Y",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",10);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(u.width/2-100,u.height/2));a.addChild(b,0,G);b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(u.width/2+100,u.height/2));
a.addChild(b,0,H);this.schedule(this.dc,1)},dc:function(){var a=this.getChildByTag(1),b=a.getChildByTag(G),a=a.getChildByTag(H);b.setFlipX(!b.isFlippedX());a.setFlipY(!a.isFlippedY())}}),xi=Z.extend({e:"Sprite Aliased",h:"You should see pixelated sprites",ctor:function(){this._super();var a=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,121,85,121));a.setPosition(cc.p(u.width/2-100,u.height/2));this.addChild(a,0,G);var b=cc.Sprite.create("res/Images/grossini_dance_atlas.png",cc.rect(85,
121,85,121));b.setPosition(cc.p(u.width/2+100,u.height/2));this.addChild(b,0,H);var c=cc.ScaleBy.create(2,5),d=c.reverse(),c=cc.Sequence.create(c,d),c=cc.RepeatForever.create(c),d=cc.ScaleBy.create(2,5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);a.runAction(c);b.runAction(d)},onEnter:function(){this._super();if("browser"==sys.platform){var a=cc.LabelTTF.create("Not supported on HTML5-canvas","Times New Roman",30);this.addChild(a);a.setPosition(cc.p(u.width/2,u.height/2))}else this.getChildByTag(G).getTexture().setAliasTexParameters()},
onExit:function(){"browser"!=sys.platform&&this.getChildByTag(G).getTexture().setAntiAliasTexParameters();this._super()}}),yi=Z.extend({e:"SpriteBatchNode Aliased",h:"You should see pixelated sprites",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",10);this.addChild(a,0,1);var b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(85,121,85,121));b.setPosition(cc.p(u.width/2-100,u.height/2));a.addChild(b,0,G);var c=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(85,121,85,121));c.setPosition(cc.p(u.width/2+100,u.height/2));a.addChild(c,0,H);var a=cc.ScaleBy.create(2,5),d=a.reverse(),a=cc.Sequence.create(a,d),a=cc.RepeatForever.create(a),d=cc.ScaleBy.create(2,5),f=d.reverse(),d=cc.Sequence.create(d,f),d=cc.RepeatForever.create(d);b.runAction(a);c.runAction(d)},onEnter:function(){this._super();if("browser"==sys.platform){var a=cc.LabelTTF.create("Not supported on HTML5-canvas","Times New Roman",30);this.addChild(a);a.setPosition(cc.p(u.width/2,u.height/
2))}else this.getChildByTag(1).getTexture().setAliasTexParameters()},onExit:function(){"browser"!=sys.platform&&this.getChildByTag(1).getTexture().setAntiAliasTexParameters();this._super()}}),zi=Z.extend({Ec:j,mb:h,Vb:h,e:"Sprite New texture (tap)",ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);this.addChild(cc.Node.create(),0,1);this.mb=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas.png");
this.Vb=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas-mono.png");this.Ec=g;for(var a=0;30>a;a++)this.Gd()},Gd:function(){var a=cc.p(Math.random()*u.width,Math.random()*u.height),b=0|14*Math.random(),c=85*(b%5),d=121*(0|b/5),b=this.getChildByTag(1),c=cc.Sprite.createWithTexture(this.mb,cc.rect(c,d,85,121));b.addChild(c);c.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):cc.FadeOut.create(2);
b=a.reverse();a=cc.Sequence.create(a,b);c.runAction(cc.RepeatForever.create(a))},bc:function(){var a=this.getChildByTag(1).getChildren(),b,c;if(this.Ec){for(c=0;c<a.length;c++){b=a[c];if(!b)break;b.setTexture(this.Vb)}this.Ec=j}else{for(c=0;c<a.length;c++){b=a[c];if(!b)break;b.setTexture(this.mb)}this.Ec=g}},onTouchesEnded:function(){this.bc()},onMouseDown:function(){this.bc();return g}}),Ai=Z.extend({mb:h,Vb:h,e:"SpriteBatchNode new texture (tap)",ctor:function(){this._super();"touches"in sys.capabilities?
this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g);var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",50);this.addChild(a,0,1);this.mb=a.getTexture();this.Vb=cc.TextureCache.getInstance().addImage("res/Images/grossini_dance_atlas-mono.png");for(a=0;30>a;a++)this.Gd()},Gd:function(){var a=cc.p(Math.random()*u.width,Math.random()*u.height),b=this.getChildByTag(1),c=0|14*Math.random(),d=85*(c%5),c=121*(0|c/5),d=cc.Sprite.createWithTexture(b.getTexture(),cc.rect(d,
c,85,121));b.addChild(d);d.setPosition(cc.p(a.x,a.y));a=Math.random();a=0.2>a?cc.ScaleBy.create(3,2):0.4>a?cc.RotateBy.create(3,360):0.6>a?cc.Blink.create(1,3):cc.FadeOut.create(2);b=a.reverse();a=cc.Sequence.create(a,b);d.runAction(cc.RepeatForever.create(a))},bc:function(){var a=this.getChildByTag(1);a.getTexture()==this.mb?a.setTexture(this.Vb):a.setTexture(this.mb)},onTouchesEnded:function(){this.bc()},onMouseDown:function(){this.bc();return g}}),Bi=Z.extend({R:h,V:h,Ma:0,e:"Sprite vs. SpriteBatchNode animation",
h:"Testing issue #792",onEnter:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");Y.addSpriteFrames("res/animations/grossini_blue.plist","res/animations/grossini_blue.png");this.R=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");this.R.setPosition(cc.p(u.width/2-80,u.height/2));var a=cc.SpriteBatchNode.create("res/animations/grossini.png");a.addChild(this.R);this.addChild(a);
for(var a=[],b="",c=1;15>c;c++)b="grossini_dance_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);c=cc.Animation.create(a,0.3);this.R.runAction(cc.RepeatForever.create(cc.Animate.create(c)));this.R.setFlipX(j);this.R.setFlipY(j);this.V=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");this.V.setPosition(cc.p(u.width/2+80,u.height/2));this.addChild(this.V);for(var d=[],c=1;15>c;c++)b="grossini_dance_gray_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),d.push(b);for(c=1;5>c;c++)b="grossini_blue_0"+
c+".png",b=Y.getSpriteFrame(b),d.push(b);d=d.concat(a);a=cc.Animation.create(d,0.3);this.V.runAction(cc.RepeatForever.create(cc.Animate.create(a)));this.V.setFlipX(j);this.V.setFlipY(j);this.schedule(this.Ve,0.5);this.Ma=0},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_blue.plist")},Ve:function(){this.unschedule(this.Ve);this.schedule(this.dc,
1)},dc:function(){this.Ma++;var a=j,b=j;switch(this.Ma%4){case 0:b=a=j;break;case 1:a=g;b=j;break;case 2:a=j;b=g;break;case 3:b=a=g}this.R.setFlipX(a);this.R.setFlipY(b);this.V.setFlipX(a);this.V.setFlipY(b)}}),Ci=Z.extend({e:"SpriteFrame Alias Name",h:"SpriteFrames are obtained using the alias name",onEnter:function(){this._super();Y.addSpriteFrames("res/animations/grossini-aliases.plist","res/animations/grossini-aliases.png");var a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(cc.p(u.width/
2,u.height/2));var b=cc.SpriteBatchNode.create("res/animations/grossini-aliases.png");b.addChild(a);this.addChild(b);for(var b=[],c="",d=1;15>d;d++)c="dance_"+(10>d?"0"+d:d),c=Y.getSpriteFrame(c),b.push(c);b=cc.Animation.create(b,0.3);a.runAction(cc.RepeatForever.create(cc.Animate.create(b)))},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini-aliases.plist")}}),Di=Z.extend({e:"Sprite offset + anchor + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());
for(var c=[],d="",f=1;15>f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));b.runAction(cc.RepeatForever.create(cc.RotateBy.create(10,360)));this.addChild(b,0)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),Ei=Z.extend({e:"SpriteBatchNode offset + anchor + rot",ctor:function(){this._super();
Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,
0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;15>i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));c.runAction(cc.RepeatForever.create(cc.RotateBy.create(10,360)));a.addChild(c,b)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),
Fi=Z.extend({e:"Sprite offset + anchor + scale",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,
0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));c=cc.ScaleBy.create(2,2);f=c.reverse();c=cc.Sequence.create(c,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");
Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),Gi=Z.extend({e:"SpriteBatchNode offset + anchor + scale",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(u.width/
4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));d=cc.ScaleBy.create(2,
2);i=d.reverse();d=cc.Sequence.create(d,i);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist");Y.removeSpriteFramesFromFile("res/animations/grossini_gray.plist")}}),Hi=Z.extend({e:"Sprite offset + anchor + skew",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=
cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(u.width/4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,
0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.SkewBy.create(2,45,0),f=c.reverse(),d=cc.SkewBy.create(2,0,45),i=d.reverse(),c=cc.Sequence.create(c,f,d,i);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}}}),Ii=Z.extend({e:"SpriteBatchNode offset + anchor + skew",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");
this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",
f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));var d=cc.SkewBy.create(2,45,0),i=d.reverse(),f=cc.SkewBy.create(2,0,45),k=f.reverse(),d=cc.Sequence.create(d,i,f,k);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),Ji=Z.extend({e:"Sprite anchor + skew + scale",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");
for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),
c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.SkewBy.create(2,45,0),f=c.reverse(),d=cc.SkewBy.create(2,0,45),i=d.reverse(),c=cc.Sequence.create(c,f,d,i);b.runAction(cc.RepeatForever.create(c));c=cc.ScaleBy.create(2,2);f=c.reverse();c=cc.Sequence.create(c,f);b.runAction(cc.RepeatForever.create(c));this.addChild(b,0)}}}),Ki=Z.extend({e:"SpriteBatchNode anchor + skew + scale",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,
0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));var d=cc.SkewBy.create(2,45,0),i=d.reverse(),f=cc.SkewBy.create(2,0,45),k=f.reverse(),d=cc.Sequence.create(d,i,f,k);c.runAction(cc.RepeatForever.create(d));d=cc.ScaleBy.create(2,2);i=d.reverse();d=cc.Sequence.create(d,i);c.runAction(cc.RepeatForever.create(d));
a.addChild(c,b)}}}),Li=Z.extend({e:"Sprite offset + anchor + flip",h:"issue #1078",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");for(var a=0;3>a;a++){var b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(u.width/4*(a+1),u.height/2));var c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,1);
switch(a){case 0:b.setAnchorPoint(cc.p(0,0));break;case 1:b.setAnchorPoint(cc.p(0.5,0.5));break;case 2:b.setAnchorPoint(cc.p(1,1))}c.setPosition(b.getPosition());for(var c=[],d="",f=1;14>=f;f++)d="grossini_dance_"+(10>f?"0"+f:f)+".png",d=Y.getSpriteFrame(d),c.push(d);c=cc.Animation.create(c,0.3);b.runAction(cc.RepeatForever.create(cc.Animate.create(c)));var c=cc.FlipY.create(g),f=cc.FlipY.create(j),d=cc.DelayTime.create(1),i=cc.DelayTime.create(1),c=cc.Sequence.create(d,c,i,f);b.runAction(cc.RepeatForever.create(c));
this.addChild(b,0)}}}),Mi=Z.extend({e:"SpriteBatchNode offset + anchor + flip",h:"issue #1078",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");Y.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");var a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;3>b;b++){var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=
cc.Sprite.create("res/Images/r1.png");d.setScale(0.25);d.setPosition(c.getPosition());this.addChild(d,200);switch(b){case 0:c.setAnchorPoint(cc.p(0,0));break;case 1:c.setAnchorPoint(cc.p(0.5,0.5));break;case 2:c.setAnchorPoint(cc.p(1,1))}d.setPosition(c.getPosition());for(var d=[],f="",i=1;14>=i;i++)f="grossini_dance_"+(10>i?"0"+i:i)+".png",f=Y.getSpriteFrame(f),d.push(f);d=cc.Animation.create(d,0.3);c.runAction(cc.RepeatForever.create(cc.Animate.create(d)));d=cc.FlipY.create(g);i=cc.FlipY.create(j);
f=cc.DelayTime.create(1);d=cc.Sequence.create(f,d,f.copy(),i);c.runAction(cc.RepeatForever.create(d));a.addChild(c,b)}}}),Ni=Z.extend({e:"Sprite: Animation + flip",ctor:function(){this._super();var a=cc.TextureCache.getInstance().addImage("res/animations/dragon_animation.png"),b=cc.SpriteFrame.createWithTexture(a,cc.rect(0,0,132,132)),c=cc.SpriteFrame.createWithTexture(a,cc.rect(132,0,132,132)),d=cc.SpriteFrame.createWithTexture(a,cc.rect(264,0,132,132)),f=cc.SpriteFrame.createWithTexture(a,cc.rect(396,
0,132,132)),i=cc.SpriteFrame.createWithTexture(a,cc.rect(0,132,132,132)),k=cc.SpriteFrame.createWithTexture(a,cc.rect(132,132,132,132)),a=cc.Sprite.createWithSpriteFrame(b);a.setPosition(cc.p(u.width/2,u.height/2));this.addChild(a);var o=[];o.push(b);o.push(c);o.push(d);o.push(f);o.push(i);o.push(k);b=cc.Animation.create(o,0.2);b=cc.Animate.create(b);b=cc.Sequence.create(b,cc.FlipX.create(g),b.copy(),cc.FlipX.create(j));a.runAction(cc.RepeatForever.create(b))},onExit:function(){this._super()}}),Oi=
Z.extend({Dc:j,e:"Hybrid.Sprite* sprite Test",ctor:function(){this._super();var a=cc.Node.create(),b=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,Ja);this.addChild(b,0,1);Y.addSpriteFrames("res/animations/grossini.plist");for(b=1;250>=b;b++){var c=Math.round(14*Math.random());0===c&&(c=1);c=Y.getSpriteFrame("grossini_dance_"+(10>c?"0"+c:c)+".png");c=cc.Sprite.createWithSpriteFrame(c);a.addChild(c,b,b);var d=-1E3,f=-1E3;0.2>Math.random()&&(d=Math.random()*u.width,f=
Math.random()*u.height);c.setPosition(cc.p(d,f));d=cc.RotateBy.create(4,360);c.runAction(cc.RepeatForever.create(d))}this.Dc=j;this.schedule(this.Ah,2)},onExit:function(){this._super();Y.removeSpriteFramesFromFile("res/animations/grossini.plist")},Ah:function(){var a=this.getChildByTag(Ja),b=this.getChildByTag(1),c=[],d;this.Dc&&(d=b,b=a,a=d);for(var f=a.getChildren(),i=0;i<f.length;i++){d=f[i];if(!d)break;c.push(d)}a.removeAllChildren(j);for(i=0;i<c.length;i++){d=c[i];if(!d)break;b.addChild(d,i,
i)}this.Dc=!this.Dc}}),Pi=Z.extend({e:"SpriteBatchNode Grand Children",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);Y.addSpriteFrames("res/animations/grossini.plist");var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/3,u.height/2));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(50,50));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-50,-50));a.addChild(b);b.addChild(c);b.addChild(d);for(var a=[],f="",d=1;15>d;d++)f="grossini_dance_"+(10>d?"0"+d:d)+".png",f=Y.getSpriteFrame(f),a.push(f);a=cc.Animation.create(a,0.2);b.runAction(cc.RepeatForever.create(cc.Animate.create(a)));var a=cc.MoveBy.create(2,cc.p(200,0)),d=a.reverse(),f=cc.RotateBy.create(2,360),i=cc.ScaleBy.create(2,2),k=i.reverse(),o=f.reverse();c.runAction(cc.RepeatForever.create(o));b.runAction(cc.RepeatForever.create(f));b.runAction(cc.RepeatForever.create(cc.Sequence.create(a,
d)));b.runAction(cc.RepeatForever.create(cc.Sequence.create(i,k)))},onExit:function(){this._super()}}),Qi=Z.extend({e:"SpriteBatchNode Children Z",ctor:function(){this._super();var a,b,c,d;Y.addSpriteFrames("res/animations/grossini.plist");a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/3,u.height/2));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,2);b.addChild(d,-2);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(2*u.width/3,u.height/2));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/2-90,u.height/4));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(u.width/2-60,u.height/4));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(u.width/
2-30,u.height/4));a.addChild(b,10);a.addChild(c,-10);a.addChild(d,-5);a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);this.addChild(a,0,1);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(u.width/2+30,u.height/4));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(u.width/2+60,u.height/4));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(u.width/
2+90,u.height/4));a.addChild(b,-10);a.addChild(c,-5);a.addChild(d,-2)},onExit:function(){this._super()}}),Ri=Z.extend({e:"Sprite & SpriteBatchNode Visibility",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);a.setPosition(cc.p(u.width/3,u.height/2));this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);b.runAction(cc.Blink.create(5,10));a=cc.Node.create();a.setPosition(cc.p(2*u.width/3,u.height/2));this.addChild(a,0);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,
30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));a.addChild(b);b.addChild(c,-2);b.addChild(d,2);b.runAction(cc.Blink.create(5,10))},onExit:function(){this._super()}}),Si=Z.extend({e:"Sprite & SpriteBatchNode Visibility",h:"No sprites should be visible",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.SpriteBatchNode.create("res/animations/grossini.png",50);a.setPosition(cc.p(u.width/3,u.height/2));
this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));b.setPosition(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));b.setVisible(j);a.addChild(b);b.addChild(c,-2);b.addChild(d,2);a=cc.Node.create();a.setPosition(cc.p(2*u.width/3,u.height/2));this.addChild(a,0);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_01.png"));
b.setPosition(cc.p(0,0));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));b.setVisible(j);a.addChild(b);b.addChild(c,-2);b.addChild(d,2)}}),Ti=Z.extend({e:"Sprite: children + anchor",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.Node.create();this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));
b.setPosition(cc.p(u.width/4,u.height/2));b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));var f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");
c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/2,u.height/2));b.setAnchorPoint(cc.p(0.5,0.5));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));
f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/2+u.width/4,u.height/2));b.setAnchorPoint(cc.p(1,1));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10)},onExit:function(){this._super()}}),Ui=Z.extend({e:"SpriteBatchNode: children + anchor",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");var a=cc.SpriteBatchNode.create("res/animations/grossini.png",
50);this.addChild(a,0);var b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/4,u.height/2));b.setAnchorPoint(cc.p(0,0));var c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));var f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);
a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/2,u.height/2));b.setAnchorPoint(cc.p(0.5,0.5));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));
d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_08.png"));b.setPosition(cc.p(u.width/2+u.width/4,u.height/2));b.setAnchorPoint(cc.p(1,1));c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_02.png"));
c.setPosition(cc.p(20,30));d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_03.png"));d.setPosition(cc.p(-20,30));f=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossini_dance_04.png"));f.setPosition(cc.p(0,0));f.setScale(0.5);a.addChild(b);b.addChild(c,-2);b.addChild(d,-2);b.addChild(f,3);c=cc.Sprite.create("res/Images/r1.png");c.setScale(0.25);c.setPosition(b.getPosition());this.addChild(c,10)},onExit:function(){this._super()}}),Vi=Z.extend({e:"Sprite/BatchNode + child + scale + rot",
ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini_family.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=cc.Node.create(),c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(u.width/4,u.height/4));c.setScaleX(0.5);c.setScaleY(2);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,
360);b=cc.RepeatForever.create(a);a=cc.SpriteBatchNode.create("res/animations/grossini_family.png");c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(3*u.width/4,u.height/4));c.setScaleX(0.5);c.setScaleY(2);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.Node.create();c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));
c.setPosition(cc.p(u.width/4,2*u.height/3));c.setScaleX(1.5);c.setScaleY(0.5);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b);a=cc.RotateBy.create(10,360);b=cc.RepeatForever.create(a);a=cc.SpriteBatchNode.create("res/animations/grossini_family.png");c=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister1.png"));c.setPosition(cc.p(3*u.width/4,2*u.height/3));c.setScaleX(1.5);
c.setScaleY(0.5);c.runAction(b);b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("grossinis_sister2.png"));b.setPosition(cc.p(50,0));this.addChild(a);a.addChild(c);c.addChild(b)}}),Wi=Z.extend({e:"Sprite/BatchNode + child + scale + rot",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=a.reverse(),c=cc.RepeatForever.create(a),a=cc.Node.create();this.addChild(a);var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));
d.setPosition(cc.p(u.width/2,u.height/2));d.runAction(b.copy());a.addChild(d);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));a.setPosition(cc.p(-50+f.width/2,0+f.height/2));a.runAction(c.copy());d.addChild(a);var i=a.getContentSize(),b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));b.setPosition(cc.p(50+f.width/2,0+f.height/2));b.runAction(c.copy());d.addChild(b);c=a.getContentSize();d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));
d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,-100+i.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,100+i.height/2));a.addChild(d);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,-100+c.height/2));b.addChild(a);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+
c.width/2,100+c.height/2));b.addChild(a)}}),Xi=Z.extend({e:"SpriteBatchNode multiple levels of children",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.RotateBy.create(10,360),b=cc.RepeatForever.create(a),a=a.reverse(),c=cc.RepeatForever.create(a),a=cc.SpriteBatchNode.create("res/animations/ghosts.png");this.addChild(a);var d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("father.gif"));d.setPosition(cc.p(u.width/2,u.height/2));d.runAction(b.copy());a.addChild(d);
var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister1.gif"));a.setPosition(cc.p(-50+f.width/2,0+f.height/2));a.runAction(c.copy());d.addChild(a);var i=a.getContentSize(),b=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("sister2.gif"));b.setPosition(cc.p(50+f.width/2,0+f.height/2));b.runAction(c.copy());d.addChild(b);c=a.getContentSize();d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,-100+i.height/2));
a.addChild(d);d=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));d.setScale(0.45);d.setPosition(cc.p(0+i.width/2,100+i.height/2));a.addChild(d);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,-100+c.height/2));b.addChild(a);a=cc.Sprite.createWithSpriteFrame(Y.getSpriteFrame("child1.gif"));a.setScale(0.45);a.setFlipY(g);a.setPosition(cc.p(0+c.width/2,100+c.height/2));b.addChild(a)}}),Yi=Z.extend({e:"Sprite without texture",
h:"opacity and color should work",ctor:function(){this._super();var a=cc.Sprite.create();a.setTextureRect(cc.rect(0,0,300,300));a.setColor(cc.o(255,0,0));a.setOpacity(128);a.setPosition(cc.p(3*u.width/4,u.height/2));this.addChild(a,100);a=cc.Sprite.create();a.setTextureRect(cc.rect(0,0,300,300));a.setColor(cc.o(0,0,255));a.setOpacity(128);a.setPosition(cc.p(u.width/4,u.height/2));this.addChild(a,100)}}),Zi=cc.Sprite.extend({Wf:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)}});
Zi.Nh=function(){var a=Y.getSpriteFrame("father.gif"),b=new Zi;b.initWithSpriteFrame(a);return b};var $i=cc.Sprite.extend({Wf:0,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)}});$i.Mh=function(){var a=new $i;a.init("res/Images/grossini.png");return a};
var aj=Z.extend({e:"Sprite subclass",h:"Testing initWithTexture:rect method",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png"),b=Zi.Nh();b.setPosition(cc.p(u.width/4,u.height/2));a.addChild(b);this.addChild(a);a=$i.Mh();this.addChild(a);a.setPosition(cc.p(3*(u.width/4),u.height/2))}}),bj=Z.extend({e:"AnimationCache",h:"Sprite should be animated",ctor:function(){this._super();Y.addSpriteFrames("res/animations/grossini.plist");
Y.addSpriteFrames("res/animations/grossini_gray.plist");Y.addSpriteFrames("res/animations/grossini_blue.plist");var a=[],b;b="";for(var c=1;15>c;c++)b="grossini_dance_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance");a=[];for(c=1;15>c;c++)b="grossini_dance_gray_"+(10>c?"0"+c:c)+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance_gray");a=
[];for(c=1;4>c;c++)b="grossini_blue_0"+c+".png",b=Y.getSpriteFrame(b),a.push(b);a=cc.Animation.create(a,0.2);cc.AnimationCache.getInstance().addAnimation(a,"dance_blue");b=cc.AnimationCache.getInstance();c=b.getAnimation("dance");c.setRestoreOriginalFrame(g);a=b.getAnimation("dance_gray");a.setRestoreOriginalFrame(g);b=b.getAnimation("dance_blue");b.setRestoreOriginalFrame(g);c=cc.Animate.create(c);a=cc.Animate.create(a);b=cc.Animate.create(b);a=cc.Sequence.create(c,a,b);b=Y.getSpriteFrame("grossini_dance_01.png");
b=cc.Sprite.createWithSpriteFrame(b);b.setPosition(cc.p(u.width/2,u.height/2));this.addChild(b);b.runAction(a)}}),cj=Z.extend({qa:h,R:h,V:h,Aa:h,Qa:h,Ra:h,e:"node sort same index",h:"tag order in console should be 2,1,3,4,5",ctor:function(){this._super();this.qa=cc.Node.create();this.addChild(this.qa,0,0);this.R=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.R.setPosition(cc.p(100,160));this.qa.addChild(this.R,-6,1);this.V=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,
64,64));this.V.setPosition(cc.p(164,160));this.qa.addChild(this.V,-6,2);this.Qa=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.Qa.setPosition(cc.p(292,160));this.qa.addChild(this.Qa,-3,4);this.Aa=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.Aa.setPosition(cc.p(228,160));this.qa.addChild(this.Aa,-4,3);this.Ra=cc.Sprite.create("res/Images/piece.png",cc.rect(128,0,64,64));this.Ra.setPosition(cc.p(356,160));this.qa.addChild(this.Ra,-3,5);this.schedule(this.oa)},
oa:function(){this.unschedule(this.oa);cc.log("Before reorder--");for(var a=0,b,c=this.qa.getChildren(),a=0;a<c.length;a++)b=c[a],cc.log("tag:"+b.getTag()+"  z: "+b.getZOrder());this.qa.reorderChild(this.qa.getChildren()[0],-6);this.qa.sortAllChildren();cc.log("After reorder--");c=this.qa.getChildren();for(a=0;a<c.length;a++)b=c[a],cc.log("tag:"+b.getTag()+"  z: "+b.getZOrder())}}),dj=Z.extend({n:h,R:h,V:h,Aa:h,Qa:h,Ra:h,e:"SpriteBatchNodeReorder same index",h:"tag order in console should be 2,3,4,5,1",
ctor:function(){this._super();this.n=cc.SpriteBatchNode.create("res/Images/piece.png",15);this.addChild(this.n,1,0);this.R=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(128,0,64,64));this.R.setPosition(cc.p(100,160));this.n.addChild(this.R,3,1);this.V=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(128,0,64,64));this.V.setPosition(cc.p(164,160));this.n.addChild(this.V,4,2);this.Aa=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(128,0,64,64));this.Aa.setPosition(cc.p(228,
160));this.n.addChild(this.Aa,4,3);this.Qa=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(128,0,64,64));this.Qa.setPosition(cc.p(292,160));this.n.addChild(this.Qa,5,4);this.Ra=cc.Sprite.createWithTexture(this.n.getTexture(),cc.rect(128,0,64,64));this.Ra.setPosition(cc.p(356,160));this.n.addChild(this.Ra,6,5);this.scheduleOnce(this.oa,2)},oa:function(){this.n.reorderChild(this.Qa,4);this.n.reorderChild(this.Ra,4);this.n.reorderChild(this.R,4);this.n.sortAllChildren();for(var a=this.n.getDescendants(),
b=0;b<a.length;b++)cc.log("tag:"+a[b].getTag())}}),ej=Z.extend({n:h,Ed:h,e:"SpriteBatchNode reorder 1 child",ctor:function(){this._super();Y.addSpriteFrames("res/animations/ghosts.plist");var a=cc.SpriteBatchNode.create("res/animations/ghosts.png");this.n=a;this.addChild(a);var b=cc.Sprite.createWithSpriteFrameName("father.gif");b.setPosition(cc.p(u.width/2,u.height/2));a.addChild(b);var c=b.getContentSize(),d=cc.Sprite.createWithSpriteFrameName("sister1.gif");d.setPosition(cc.p(-10+c.width/2,0+c.height/
2));b.addChild(d,1);var f=d.getContentSize(),a=cc.Sprite.createWithSpriteFrameName("sister2.gif");a.setPosition(cc.p(50+c.width/2,0+c.height/2));b.addChild(a,2);b=d.getContentSize();c=cc.Sprite.createWithSpriteFrameName("child1.gif");c.setScale(0.45);c.setPosition(cc.p(0+f.width/2,-50+f.height/2));d.addChild(c,1);c=cc.Sprite.createWithSpriteFrameName("child1.gif");c.setScale(0.45);c.setPosition(cc.p(0+f.width/2,50+f.height/2));d.addChild(c,2);this.Ed=d;d=cc.Sprite.createWithSpriteFrameName("child1.gif");
d.setScale(0.45);d.setFlipY(g);d.setPosition(cc.p(0+b.width/2,-50+b.height/2));a.addChild(d);d=cc.Sprite.createWithSpriteFrameName("child1.gif");d.setScale(0.45);d.setFlipY(g);d.setPosition(cc.p(0+b.width/2,50+b.height/2));a.addChild(d);this.scheduleOnce(this.oa,2)},oa:function(){this.Ed.getParent().reorderChild(this.Ed,-1);this.n.sortAllChildren()}}),fj=Z.extend({e:"SpriteBatchNode + children + skew",h:"SpriteBatchNode skew + negative scale with children",ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");
a.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");a=cc.SpriteBatchNode.create("res/animations/grossini.png");this.addChild(a);for(var b=0;2>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.SkewBy.create(2,45,0),f=d.reverse(),i=cc.SkewBy.create(2,0,45),k=i.reverse();1==b&&c.setScale(-1);d=cc.Sequence.create(d,f,i,k);c.runAction(cc.RepeatForever.create(d));d=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");
d.setPosition(cc.p(c.getContentSize().width/2,c.getContentSize().height/2));d.setScale(0.8);c.addChild(d);a.addChild(c,b)}}}),gj=Z.extend({e:"Sprite + children + skew",h:"Sprite skew + negative scale with children",ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");a.addSpriteFrames("res/animations/grossini_gray.plist","res/animations/grossini_gray.png");a=cc.Node.create();this.addChild(a);for(var b=0;2>b;b++){var c=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");
c.setPosition(cc.p(u.width/4*(b+1),u.height/2));var d=cc.SkewBy.create(2,45,0),f=d.reverse(),i=cc.SkewBy.create(2,0,45),k=i.reverse();1==b&&c.setScale(-1);d=cc.Sequence.create(d,f,i,k);c.runAction(cc.RepeatForever.create(d));d=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");d.setPosition(cc.p(c.getContentSize().width/2,c.getContentSize().height/2));c.addChild(d);d.setScale(0.8);a.addChild(c,b)}}}),hj=cc.Sprite.extend({ie:j,ctor:function(){this._super();cc.associateWithNative(this,cc.Sprite)},
initWithTexture:function(a,b){return this._super(a,b)?g:j},setContentSize:function(a){a=cc.size(a.width,a.height);2==cc.CONTENT_SCALE_FACTOR()&&!this.ie&&(a.width*=2,a.height*=2);this._super(a)},setVertexRect:function(a){2==cc.CONTENT_SCALE_FACTOR()&&!this.ie&&(a.size.width*=2,a.size.height*=2);this._super(a)}});hj.create=function(a){var b=new hj;b.init(a);return b};
var ij=Z.extend({e:"Sprite Double resolution",h:"Retina Display. SD (left) should be equal to HD (right)",ctor:function(){this._super();var a=hj.create("res/Images/grossini_dance_08.png");this.addChild(a);a.setPosition(cc.p(u.width/4,u.height/2));var b=hj.create("res/Images/grossini_dance_08.png");a.addChild(b);b.setPosition(cc.p(-30,0));var c=cc.Sprite.create("res/Images/grossini.png");a.addChild(c);b.setPosition(cc.p(a.getContentSize().height,0));b=cc.Sprite.create("res/Images/grossini.png");this.addChild(b);
b.setPosition(cc.p(3*(u.width/4),u.height/2));c=hj.create("res/Images/grossini_dance_08.png");b.addChild(c);c.setPosition(cc.p(-30,0));var d=cc.Sprite.create("res/Images/grossini.png");b.addChild(d);c.setPosition(cc.p(b.getContentSize().height,0));c=cc.ScaleBy.create(2,0.5);d=c.reverse();c=cc.Sequence.create(c,d);d=c.copy();a.runAction(c);b.runAction(d)}}),jj=Z.extend({e:"AnimationCache - Load file",h:"Sprite should be animated",ctor:function(){this._super();var a=Y;a.addSpriteFrames("res/animations/grossini.plist");
a.addSpriteFrames("res/animations/grossini_gray.plist");a.addSpriteFrames("res/animations/grossini_blue.plist");cc.AnimationCache.purgeSharedAnimationCache();var b=cc.AnimationCache.getInstance();b.addAnimations("res/animations/animations.plist");var c=b.getAnimation("dance_1");c.setRestoreOriginalFrame(g);a=b.getAnimation("dance_2");a.setRestoreOriginalFrame(g);b=b.getAnimation("dance_3");b.setRestoreOriginalFrame(g);c=cc.Animate.create(c);a=cc.Animate.create(a);b=cc.Animate.create(b);a=cc.Sequence.create(c,
a,b);b=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");b.setPosition(cc.p(u.width/2,u.height/2));this.addChild(b);b.runAction(a)}}),kj=Z.extend({e:"SpriteBatch - Bug 1217",h:"Adding big family to spritebatch. You shall see 3 heads",ctor:function(){this._super();var a=cc.SpriteBatchNode.create("res/Images/grossini_dance_atlas.png",15),b=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57)),c=cc.Sprite.createWithTexture(a.getTexture(),cc.rect(0,0,57,57)),d=cc.Sprite.createWithTexture(a.getTexture(),
cc.rect(0,0,57,57));b.setColor(cc.o(255,0,0));c.setColor(cc.o(0,255,0));d.setColor(cc.o(0,0,255));b.setPosition(cc.p(20,200));c.setPosition(cc.p(100,0));d.setPosition(cc.p(100,0));a.setPosition(cc.p(0,0));b.addChild(c);c.addChild(d);a.addChild(b);this.addChild(a)}}),lj=Z.extend({e:"Texture Color Cache Issue Test",h:"You should see two different sprites colored green and blue",ctor:function(){this._super();var a=cc.SpriteFrameCache.getInstance();a.addSpriteFrames("res/animations/tcc_issue_1.plist",
"res/animations/tcc_issue_1.png");a.addSpriteFrames("res/animations/tcc_issue_2.plist","res/animations/tcc_issue_2.png");a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(1*(u.width/3),u.height/2);var b=cc.Sprite.createWithSpriteFrameName("grossinis_sister1.png");b.setPosition(2*(u.width/3),u.height/2);this.addChild(a);this.addChild(b);a.setColor(cc.o(1,255,1));b.setColor(cc.o(1,1,255))}}),mj=Z.extend({e:"Texture Color Cache Issue Test #2",h:"You should see two different sprites magenta and yellow",
ctor:function(){this._super();var a=cc.SpriteFrameCache.getInstance();a.addSpriteFrames("res/animations/tcc_issue_1.plist","res/animations/tcc_issue_1.png");a.addSpriteFrames("res/animations/tcc_issue_2.plist","res/animations/tcc_issue_2.png");a=cc.Sprite.createWithSpriteFrameName("grossini_dance_01.png");a.setPosition(1*(u.width/3),u.height/2);var b=cc.Sprite.createWithSpriteFrameName("grossinis_sister1.png");b.setPosition(2*(u.width/3),u.height/2);this.addChild(a);this.addChild(b);for(var c=0;10>
c;++c)b.setColor(cc.o(128,128,128+c)),a.setColor(cc.o(128,128,128+c));a.setColor(cc.o(255,255,0));b.setColor(cc.o(255,0,255))}}),nj=Z.extend({e:"Sub Sprite (rotated source)",h:"createWithSpriteFrameName(); sub sprite",ctor:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/blocks9ss.plist");var a=cc.Sprite.createWithSpriteFrameName("blocks9r.png"),b=u.width/2,c=0+u.height/2;a.setTextureRect(cc.rect(32,32,32,32),g,cc.rect(32,32,32,32));a.setPosition(cc.p(b,c));this.addChild(a)}}),
Ca=x.extend({G:function(){ci=-1;this.addChild(ei());r.replaceScene(this)}}),di=[gi,hi,Bi,Ci,si,ti,Di,Ei,Fi,Gi,Ni,ii,ji,ki,li,mi,ni,oi,pi,qi,ri,ui,vi,wi,xi,yi,zi,Ai,Oi,Pi,Qi,Ri,Si,Ti,Ui,Vi,Wi,Xi,Yi,aj,bj,Hi,Ii,Ji,Ki,Li,Mi,dj,ej,cj,gj,fj,ij,kj,jj,lj,mj,nj];function ei(){ci++;ci%=di.length;return new di[ci]}function fi(){ci--;0>ci&&(ci+=di.length);return new di[ci]};var Q=-1,Y=cc.SpriteFrameCache.getInstance(),rj=cc.LayerGradient.extend({e:"",h:"",ctor:function(){this._super();cc.associateWithNative(this,cc.LayerGradient);this.init(cc.k(0,0,0,255),cc.k(98,99,117,255));cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/blocks9ss.plist");cc.log("sprite frames added to sprite frame cache...")},onEnter:function(){this._super();var a=cc.LabelTTF.create(this.e,"Arial",28);this.addChild(a,1);a.setPosition(cc.p(u.width/2,u.height-50));""!==this.h&&(a=cc.LabelTTF.create(this.h,
"Thonburi",16),this.addChild(a,1),a.setPosition(cc.p(u.width/2,u.height-80)));var a=cc.MenuItemImage.create("res/Images/b1.png","res/Images/b2.png",this.H,this),b=cc.MenuItemImage.create("res/Images/r1.png","res/Images/r2.png",this.J,this),c=cc.MenuItemImage.create("res/Images/f1.png","res/Images/f2.png",this.I,this),d=cc.Menu.create(a,b,c);d.setPosition(cc.p(0,0));var f=b.getContentSize();a.setPosition(cc.p(u.width/2-2*f.width,f.height/2));b.setPosition(cc.p(u.width/2,f.height/2));c.setPosition(cc.p(u.width/
2+2*f.width,f.height/2));this.addChild(d,1)},onExit:function(){this._super()},J:function(){var a=new Da;a.addChild(new oj[Q]);r.replaceScene(a)},I:function(){var a=new Da;a.addChild(pj());r.replaceScene(a)},H:function(){var a=new Da;a.addChild(qj());r.replaceScene(a)}}),sj=rj.extend({e:"Scale9Sprite created empty and updated from SpriteBatchNode",h:"updateWithBatchNode(); capInsets=full size",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9BatchNodeBasic ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");
cc.log("batchNode created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(0,0,96,96));cc.log("... updateWithBatchNode");d.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(d);cc.log("this..addChild");cc.log("... S9BatchNodeBasic done.")}}),tj=rj.extend({e:"Scale9Sprite from sprite sheet",h:"createWithSpriteFrameName(); default cap insets",ctor:function(){this._super();var a=u.width/2,b=0+u.height/
2;cc.log("S9FrameNameSpriteSheet ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheet done.")}}),uj=rj.extend({e:"Scale9Sprite from sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetRotated ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png");
cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotated done.")}}),vj=rj.extend({e:"Scale9Sprite created empty and updated from SpriteBatchNode",h:"updateWithBatchNode(); capInsets=full size; rendered 4 X width, 2 X height",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9BatchNodeScaledNoInsets ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode_scaled created with : res/Images/blocks9.png");
var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(0,0,96,96));cc.log("... updateWithBatchNode");d.setPosition(cc.p(a,b));cc.log("... setPosition");d.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(d);cc.log("this..addChild");cc.log("... S9BtchNodeScaledNoInsets done.")}}),wj=rj.extend({e:"Scale9Sprite from sprite sheet",h:"createWithSpriteFrameName(); default cap insets; rendered 4 X width, 2 X height",ctor:function(){this._super();
var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetScaledNoInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetScaledNoInsets done.")}}),xj=rj.extend({e:"Scale9Sprite from sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets; rendered 4 X width, 2 X height",
ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetRotatedScaledNoInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(384,192));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedScaledNoInsets done.")}}),yj=rj.extend({e:"Scale9Sprite created empty and updated from SpriteBatchNode",
h:"updateWithBatchNode(); capInsets=(32, 32, 32, 32)",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9BatchNodeScaleWithCapInsets ...");var c=cc.SpriteBatchNode.create("res/Images/blocks9.png");cc.log("batchNode_scaled_with_insets created with : res/Images/blocks9.png");var d=cc.Scale9Sprite.create();cc.log("... created");d.updateWithBatchNode(c,cc.rect(0,0,96,96),j,cc.rect(32,32,32,32));cc.log("... updateWithBatchNode");d.setContentSize(cc.size(432,240));cc.log("... setContentSize");
d.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(d);cc.log("this..addChild");cc.log("... S9BatchNodeScaleWithCapInsets done.")}}),zj=rj.extend({e:"Scale9Sprite scaled with insets sprite sheet",h:"createWithSpriteFrameName(); cap insets=(32, 32, 32, 32)",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setPosition(cc.p(a,
b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetInsets done.")}}),Aj=rj.extend({e:"Scale9Sprite scaled with insets sprite sheet",h:"createWithSpriteFrameName(); default cap insets; rendered scaled 4.5 X width, 2.5 X height",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetInsetsScaled ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setContentSize(cc.size(432,
240));cc.log("... setContentSize");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetInsetsScaled done.")}}),Bj=rj.extend({e:"Scale9Sprite scaled with insets sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); cap insets=(32, 32, 32, 32)",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetRotatedInsets ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9r.png",
cc.rect(32,32,32,32));cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedInsets done.")}}),Cj=rj.extend({e:"Scale9Sprite from a spritesheet created with TexturePacker",h:"createWithSpriteFrameName('button_normal.png');createWithSpriteFrameName('button_actived.png');",ctor:function(){this._super();cc.SpriteFrameCache.getInstance().addSpriteFrames("res/Images/ui.plist");var a=u.width/4,b=0+u.height/
2;cc.log("S9_TexturePacker ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("button_normal.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(336,208));cc.log("... setContentSize");this.addChild(c);cc.log("this..addChild");a=3*u.width/4;c=cc.Scale9Sprite.createWithSpriteFrameName("button_actived.png");cc.log("... created");c.setPosition(cc.p(a,b));cc.log("... setPosition");c.setContentSize(cc.size(336,208));cc.log("... setContentSize");this.addChild(c);
cc.log("this..addChild");cc.log("... S9_TexturePacker done.")}}),Dj=rj.extend({e:"Scale9Sprite scaled with insets sprite sheet (stored rotated)",h:"createWithSpriteFrameName(); default cap insets; rendered scaled 4.5 X width, 2.5 X height",ctor:function(){this._super();var a=u.width/2,b=0+u.height/2;cc.log("S9FrameNameSpriteSheetRotatedInsetsScaled ...");var c=cc.Scale9Sprite.createWithSpriteFrameName("blocks9.png",cc.rect(32,32,32,32));cc.log("... created");c.setContentSize(cc.size(432,240));cc.log("... setContentSize");
c.setPosition(cc.p(a,b));cc.log("... setPosition");this.addChild(c);cc.log("this..addChild");cc.log("... S9FrameNameSpriteSheetRotatedInsetsScaled done.")}}),Da=x.extend({G:function(){Q=-1;this.addChild(pj());r.replaceScene(this)}}),oj=[sj,tj,uj,vj,wj,xj,yj,zj,Aj,Bj,Dj,Cj];function pj(){Q++;Q%=oj.length;return new oj[Q]}function qj(){Q--;0>Q&&(Q+=oj.length);return new oj[Q]};var ea=40,$f=1E3,Fj=[{Lc:"CCControlButtonTest",A:function(){var a=ControlSceneManager.getInstance().Hv();cc.Director.getInstance().replaceScene(a)}},{Lc:"CocosBuilderTest",A:function(){var a=new CocosBuilderTestScene;a&&a.G()}},{Lc:"TableViewTest",A:function(){var a=cc.Scene.create(),b=Ej.create();a.addChild(b);cc.Director.getInstance().replaceScene(a)}},{Lc:"EditBoxTest",A:function(){runEditBoxTest()}}],Gj=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer)},onEnter:function(){this._super();
var a=cc.Director.getInstance().getWinSize(),b=cc.Menu.create();b.setPosition(cc.p(0,0));cc.MenuItemFont.setFontName("Arial");cc.MenuItemFont.setFontSize(24);for(var c=0;c<Fj.length;++c){var d=cc.MenuItemFont.create(Fj[c].Lc,this.Rd,this);d.setPosition(cc.p(a.width/2,a.height-(c+1)*ea));b.addChild(d,$f+c)}this.addChild(b)},Rd:function(a){a=a.getZOrder()-$f;Fj[a].A()}}),oa=x.extend({G:function(){this.addChild(new Gj);cc.Director.getInstance().replaceScene(this)}});var Hj=cc.TableViewCell.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.TableViewCell)},draw:function(a){this._super(a)}}),Ej=cc.Layer.extend({ctor:function(){this._super();cc.associateWithNative(this,cc.Layer)},init:function(){if(!this._super())return j;var a=cc.Director.getInstance().getWinSize(),b=cc.TableView.create(this,cc.size(600,60));b.setDirection(cc.Bf);b.setPosition(cc.p(20,a.height/2-150));b.setDelegate(this);this.addChild(b);b.reloadData();b=cc.TableView.create(this,
cc.size(60,350));b.setDirection(cc.Cf);b.setPosition(cc.p(a.width-150,a.height/2-150));b.setDelegate(this);b.setVerticalFillOrder(cc.Df);this.addChild(b);b.reloadData();b=cc.MenuItemFont.create("Back",this.Zh,this);b.setPosition(cc.p(a.width-50,25));a=cc.Menu.create(b);a.setPosition(cc.p(0,0));this.addChild(a);return g},Zh:function(){(new oa).G()},scrollViewDidScroll:l(),scrollViewDidZoom:l(),tableCellTouched:function(a,b){cc.log("cell touched at index: "+b.getIdx())},cellSizeForTable:function(){return cc.size(60,
60)},tableCellAtIndex:function(a,b){var c=b.toFixed(0),d=a.dequeueCell(),f;d?(f=d.getChildByTag(123),f.setString(c)):(d=new Hj,f=cc.Sprite.create("res/Images/Icon.png"),f.setAnchorPoint(cc.p(0,0)),f.setPosition(cc.p(0,0)),d.addChild(f),f=cc.LabelTTF.create(c,"Helvetica",20),f.setPosition(cc.p(0,0)),f.setAnchorPoint(cc.p(0,0)),f.setTag(123),d.addChild(f));return d},numberOfCellsInTableView:m(25)});Ej.create=function(){var a=new Ej;return a&&a.init()?a:h};var X=1,Ij=-1,$=y.extend({ctor:function(){this._super();"touches"in sys.capabilities?this.setTouchEnabled(g):"mouse"in sys.capabilities&&this.setMouseEnabled(g)},title:m("No title"),d:m("drag the screen"),J:function(){var a=new Ea;a.addChild(new Jj[Ij]);r.replaceScene(a)},I:function(){var a=new Ea;a.addChild(Kj());r.replaceScene(a)},H:function(){var a=new Ea;a.addChild(Lj());r.replaceScene(a)},onTouchesMoved:function(a){var b=a[0].getDelta(),a=this.getChildByTag(X),b=cc.pAdd(b,a.getPosition());a.setPosition(b)},
onMouseDragged:function(a){var b=a.getDelta(),a=this.getChildByTag(X),b=cc.pAdd(b,a.getPosition());a.setPosition(b)},M:function(){return Jj.length-1-Ij},K:function(){return Ij}});
$.extend({ctor:function(){this._super();var a=cc.Pf.create("res/TileMaps/tiles.png","res/TileMaps/levelmap.tga",16,16);a.getTexture().setAntiAliasTexParameters();var b=a.getContentSize();this.log("ContentSize: "+b.width+" "+b.height);a.releaseMap();this.addChild(a,0,X);a.setAnchorPoint(cc.p(0,0.5));var b=cc.ScaleBy.create(4,0.8),c=b.reverse(),b=cc.Sequence.create(b,c);a.runAction(cc.RepeatForever.create(b))},title:m("TileMapAtlas")});
$.extend({ctor:function(){this._super();var a=cc.Pf.create("res/TileMaps/tiles.png","res/TileMaps/levelmap.tga",16,16);a.getTexture().setAliasTexParameters();var b=a.getContentSize();this.log("ContentSize: "+b.width+" "+b.height);this.schedule(this.ei,0.2);this.addChild(a,0,X);a.setAnchorPoint(cc.p(0,0));a.setPosition(cc.p(-20,-200))},title:m("Editable TileMapAtlas"),ei:function(){var a=this.getChildByTag(X),b=a.getTileAt(cc.g(13,21));b.r++;b.r%=50;0==b.r&&(b.r=1);a.setTile(b,cc.g(13,21))}});
var Mj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test1.tmx");this.addChild(a,0,X);a.runAction(cc.ScaleBy.create(2,0.5))},title:m("TMX Ortho test")}),Nj=$.extend({ctor:function(){this._super();this.addChild(cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx"),0,X)},title:m("TMX Orthogonal test 2"),onEnter:function(){this._super();r.setProjection(cc.Qb)},onExit:function(){this._super();r.setProjection(cc.$a)}}),Oj=$.extend({ctor:function(){this._super();
var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test3.tmx");this.addChild(a,0,X);a.setScale(0.2);a.setAnchorPoint(cc.p(0.5,0.5))},title:m("TMX anchorPoint test")}),Pj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test4.tmx");this.addChild(a,0,X);a.setAnchorPoint(cc.p(0,0));var a=a.getLayer("Layer 0"),b=a.getLayerSize(),c;c=a.getTileAt(cc.p(0,0));c.setScale(2);c=a.getTileAt(cc.p(b.width-1,0));c.setScale(2);c=a.getTileAt(cc.p(0,b.height-1));c.setScale(2);
c=a.getTileAt(cc.p(b.width-1,b.height-1));c.setScale(2);this.schedule(this.Vc,2)},Vc:function(){this.unschedule(this.Vc);var a=this.getChildByTag(X).getLayer("Layer 0"),b=a.getLayerSize(),b=a.getTileAt(cc.p(b.width-1,0));a.removeChild(b,g)},title:m("TMX width/height test")}),Qj=$.extend({Nv:0,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test2.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getLayer("Layer 0");a.setScale(1);var a=b.getTileAt(cc.p(1,63)),
c=b.getTileAt(cc.p(2,63)),d=b.getTileAt(cc.p(3,62)),f=b.getTileAt(cc.p(2,62));a.setAnchorPoint(cc.p(0.5,0.5));c.setAnchorPoint(cc.p(0.5,0.5));d.setAnchorPoint(cc.p(0.5,0.5));f.setAnchorPoint(cc.p(0.5,0.5));var i=cc.MoveBy.create(0.5,cc.p(0,160)),k=cc.RotateBy.create(2,360),o=cc.ScaleBy.create(2,5),q=cc.FadeOut.create(2),v=cc.FadeIn.create(2),p=cc.ScaleTo.create(1,1),t=cc.CallFunc.create(this.Vc),i=cc.Sequence.create(i,k,o,q,v,p,t);a.runAction(i);c.runAction(i.copy());d.runAction(i.copy());f.runAction(i.copy());
b.getTileGIDAt(cc.p(0,63));this.schedule(this.di,2);this.schedule(this.zh,2);this.schedule(this.ef,1);this.Nd=0},Vc:function(a){var b=a.getParent();b&&b.removeChild(a,g)},di:function(){for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.height;c++)a.setTileGID(this.Nd,cc.p(3,c));this.Nd=(this.Nd+1)%80},zh:function(){for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.width;c++){var d=b.height-1,f=a.getTileGIDAt(cc.p(c,d));a.setTileGID(f+1,cc.p(c,d))}},
ef:function(){this.unschedule(this.ef);for(var a=this.getChildByTag(X).getChildByTag(0),b=a.getLayerSize(),c=0;c<b.height;c++)a.removeTileAt(cc.p(5,c))},title:m("TMX Read/Write test")}),Rj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.k(64,64,64,255)),-1);this.addChild(cc.TMXTiledMap.create("res/TileMaps/hexa-test.tmx"),0,X)},title:m("TMX Hex test")}),Sj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.k(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test.tmx");
this.addChild(a,0,X);var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)))},title:m("TMX Isometric test 0")}),Tj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.k(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test1.tmx");this.addChild(a,0,X);a.getContentSize();a.setAnchorPoint(cc.p(0.5,0.5))},title:m("TMX Isometric test + anchorPoint")}),Uj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.k(64,
64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test2.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getMapSize(),c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)))},title:m("TMX Isometric test 2")}),Vj=$.extend({ctor:function(){this._super();this.addChild(cc.LayerColor.create(cc.k(64,64,64,255)),-1);var a=cc.TMXTiledMap.create("res/TileMaps/iso-test2-uncompressed.tmx");this.addChild(a,0,X);a.getContentSize();var b=a.getMapSize(),
c=a.getTileSize();a.runAction(cc.MoveTo.create(1,cc.p(-b.width*c.width/2,-b.height*c.height/2)));for(var a=a.getChildren(),b=h,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;b.releaseMap()}},title:m("TMX Uncompressed test")}),Wj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test5.tmx");this.addChild(a,0,X);a.getContentSize()},title:m("TMX Tileset test")}),Xj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-objects.tmx");
this.addChild(a,-1,X);a.getContentSize();for(var a=a.getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},onEnter:function(){this._super();this.setAnchorPoint(cc.p(0,0))},draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Group 1").getObjects(),b=0;b<a.length;b++){var c=a[b];if(!c)break;var d=c.x,f=c.y,i=c.width,c=c.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(d,
f),cc.p(d+i,f));cc.drawingUtil.drawLine(cc.p(d+i,f),cc.p(d+i,f+c));cc.drawingUtil.drawLine(cc.p(d+i,f+c),cc.p(d,f+c));cc.drawingUtil.drawLine(cc.p(d,f+c),cc.p(d,f));cc.renderContext.lineWidth=1}},title:m("TMX Ortho object test"),d:m("You should see a white box around the 3 platforms")}),Yj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-objectgroup.tmx");this.addChild(a,-1,X);a.getContentSize();for(var a=a.getObjectGroup("Object Group 1").getObjects(),b,
c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},onEnter:function(){this._super();this.setAnchorPoint(cc.p(0,0))},title:m("TMX Iso object test"),draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Group 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;var f=b.x,i=b.y,k=b.width;b=b.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(f,i),cc.p(f+k,i));cc.drawingUtil.drawLine(cc.p(f+
k,i),cc.p(f+k,i+b));cc.drawingUtil.drawLine(cc.p(f+k,i+b),cc.p(f,i+b));cc.drawingUtil.drawLine(cc.p(f,i+b),cc.p(f,i));cc.renderContext.lineWidth=1}},d:m("You need to parse them manually. See bug #810")}),Zj=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test5.tmx");this.addChild(a,0,X);a.getContentSize();for(var a=a.getLayer("Layer 0"),b=a.getLayerSize(),c=0;c<b.height;c++)for(var d=0;d<b.width;d++)a.setTileGID(1,cc.p(d,c))},title:m("TMX resize test"),
d:m("Should not crash. Testing issue #740")}),$j=$.extend({N:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-zorder.tmx");this.addChild(a,0,X);var b=a.getContentSize();a.setPosition(cc.p(-b.width/2,0));this.N=cc.Sprite.create("res/Images/grossinis_sister1.png");a.addChild(this.N,a.getChildren().length);this.N.setPosition(a.getMapSize().width*a.getTileSize().width/2,0);this.N.setAnchorPoint(cc.p(0.5,0));a=cc.MoveBy.create(10,cc.pMult(cc.p(300,250),1));b=a.reverse();
a=cc.Sequence.create(a,b);this.N.runAction(cc.RepeatForever.create(a));this.schedule(this.bd)},title:m("TMX Iso Zorder"),d:m("Sprite should hide behind the trees"),onExit:function(){this.unschedule(this.bd);this._super()},bd:function(){var a=this.N.getPosition(),b=this.getChildByTag(X),a=4-a.y/48,a=parseInt(Math.max(a,0),10);b.reorderChild(this.N,a)}}),ak=$.extend({N:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-zorder.tmx");this.addChild(a,0,X);a.getContentSize();
this.N=cc.Sprite.create("res/Images/grossinis_sister1.png");a.addChild(this.N,a.getChildren().length,X);this.N.setAnchorPoint(cc.p(0.5,0));var a=cc.MoveBy.create(10,cc.pMult(cc.p(400,450),1)),b=a.reverse(),a=cc.Sequence.create(a,b);this.N.runAction(cc.RepeatForever.create(a));this.schedule(this.bd)},title:m("TMX Ortho Zorder"),d:m("Sprite should hide behind the trees"),bd:function(){var a=this.N.getPosition(),b=this.getChildByTag(X),a=4-(a.y-10)/81,a=Math.max(a,0);b.reorderChild(this.N,a)}}),bk=$.extend({N:h,
lw:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-vertexz.tmx");this.addChild(a,0,X);var b=a.getContentSize();a.setPosition(cc.p(-b.width/2,0));this.N=a.getLayer("Trees").getTileAt(cc.p(29,29));a=cc.MoveBy.create(10,cc.pMult(cc.p(300,250),1));b=a.reverse();a=cc.Sequence.create(a,b);this.N.runAction(cc.RepeatForever.create(a));this.scheduleUpdate()},title:m("TMX Iso VertexZ"),d:m("Sprite should hide behind the trees"),onEnter:function(){this._super();r.setProjection(cc.$a)},
onExit:function(){this._super()},update:function(){this.N.setVertexZ(-((this.N.getPosition().y+32)/16))}}),ck=$.extend({N:h,ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-vertexz.tmx");this.addChild(a,0,X);a.getContentSize();this.N=a.getLayer("trees").getTileAt(cc.p(0,11));this.log("vertexZ: "+this.N.getVertexZ());var a=cc.MoveBy.create(10,cc.pMult(cc.p(400,450),1)),b=a.reverse(),a=cc.Sequence.create(a,b);this.N.runAction(cc.RepeatForever.create(a));this.scheduleUpdate();
this.log("DEPTH BUFFER MUST EXIST IN ORDER")},title:m("TMX Ortho vertexZ"),d:m("Sprite should hide behind the trees"),onEnter:function(){this._super();r.setProjection(cc.$a)},onExit:function(){this._super()},update:function(){this.N.setVertexZ(-((this.N.getPosition().y+81)/81))}}),dk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-movelayer.tmx");this.addChild(a,0,X);a.setPosition(cc.p(-700,-50));a.getContentSize()},title:m("TMX Iso Move Layer"),d:m("Trees should be horizontally aligned")}),
ek=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test-movelayer.tmx");this.addChild(a,0,X);a.getContentSize()},title:m("TMX Ortho Move Layer"),d:m("Trees should be horizontally aligned")}),fk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-tile-property.tmx");this.addChild(a,0,X);if("browser"==sys.platform)for(var b=1;20>=b;b++)this.log("GID:"+b+", Properties:"+JSON.stringify(a.propertiesForGID(b)));else this.log("Test not supported on JSB")},
title:m("TMX Tile Property Test"),d:m("In the console you should see tile properties")}),gk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-rotation-test.tmx");this.addChild(a,0,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);b=cc.ScaleBy.create(2,0.5);a.runAction(b)},title:m("TMX tile flip test")}),hk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/ortho-rotation-test.tmx");this.addChild(a,0,X);var b=
a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);b=cc.ScaleBy.create(2,0.5);a.runAction(b);this.schedule(this.Hg,1)},title:m("TMX tile flip run time test"),d:m("in 2 sec bottom left tiles will flip"),Hg:function(){var a=this.getChildByTag(X).getLayer("Layer 0"),b=cc.p(1,10),c=a.getTileFlagsAt(b),d=a.getTileGIDAt(b),c=(c&cc.gb)>>>0?(c&~cc.gb>>>0)>>>0:(c|cc.gb)>>>0;a.setTileGID(d,b,c);b=cc.p(1,8);c=a.getTileFlagsAt(b);d=a.getTileGIDAt(b);c=(c&cc.gb)>>>0?(c&~cc.gb>>>0)>>>0:(c|cc.gb)>>>
0;a.setTileGID(d,b,c);b=cc.p(2,8);c=a.getTileFlagsAt(b);d=a.getTileGIDAt(b);c=(c&cc.vc)>>>0?(c&~cc.vc>>>0)>>>0:(c|cc.vc)>>>0;a.setTileGID(d,b,c)}}),ik=$.extend({ctor:function(){this._super();this.log("Test not available")},title:m("TMX created from XML test"),d:m("Test not available")}),jk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/orthogonal-test6.tmx");this.addChild(a,0,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);for(var b=a.getChildren(),
c=h,d=0,f=b.length;d<f&&!(c=b[d],!c);d++);a.setAnchorPoint(cc.p(0,0));a.getLayer("Tile Layer 1").setTileGID(3,cc.p(2,2))},title:m("TMX Bug 987"),d:m("You should see an square")}),kk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/iso-test-bug787.tmx");this.addChild(a,0,X);a.setScale(0.25)},title:m("TMX Bug 787"),d:m("You should see a map")}),lk=$.extend({ctor:function(){this._super();var a=cc.TMXTiledMap.create("res/TileMaps/test-object-layer.tmx");this.addChild(a,
-1,X);var b=a.getContentSize();this.log("ContentSize:"+b.width+","+b.height);this.log("---. Iterating over all the group objets");for(var a=a.getObjectGroup("Object Layer 1").getObjects(),c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;for(var f in b)this.log(f+" = "+b[f])}},title:m("TMX GID objects"),d:m("Tiles are created from an object group"),draw:function(){for(var a=this.getChildByTag(X).getObjectGroup("Object Layer 1").getObjects(),b,c=0,d=a.length;c<d;c++){b=a[c];if(!b)break;var f=b.x,i=b.y,k=
b.width;b=b.height;cc.renderContext.lineWidth=3;cc.renderContext.strokeStyle="#ffffff";cc.drawingUtil.drawLine(cc.p(f,i),cc.p(f+k,i));cc.drawingUtil.drawLine(cc.p(f+k,i),cc.p(f+k,i+b));cc.drawingUtil.drawLine(cc.p(f+k,i+b),cc.p(f,i+b));cc.drawingUtil.drawLine(cc.p(f,i+b),cc.p(f,i));cc.renderContext.lineWidth=1}}}),Ea=x.extend({G:function(){Ij=-1;this.addChild(Kj());r.replaceScene(this)}}),Jj=[Mj,Nj,Oj,Pj,Qj,Rj,Sj,Tj,Uj,Vj,Wj,Xj,Yj,Zj,$j,ak,bk,ck,dk,ek,fk,gk,hk,ik,jk,kk,lk];
function Kj(){Ij++;Ij%=Jj.length;return new Jj[Ij]}function Lj(){Ij--;0>Ij&&(Ij+=Jj.length);return new Jj[Ij]};TRANSITION_DURATION=1.2;
var zk=[{title:"JumpZoomTransition",T:function(a,b){return new mk(a,b)}},{title:"TransitionProgressRadialCCW",T:function(a,b){return cc.TransitionProgressRadialCCW.create(a,b)}},{title:"TransitionProgressRadialCW",T:function(a,b){return cc.TransitionProgressRadialCW.create(a,b)}},{title:"TransitionProgressHorizontal",T:function(a,b){return cc.TransitionProgressHorizontal.create(a,b)}},{title:"TransitionProgressVertical",T:function(a,b){return cc.TransitionProgressVertical.create(a,b)}},{title:"TransitionProgressInOut",
T:function(a,b){return cc.TransitionProgressInOut.create(a,b)}},{title:"TransitionProgressOutIn",T:function(a,b){return cc.TransitionProgressOutIn.create(a,b)}},{title:"FadeTransition",T:function(a,b){return new nk(a,b)}},{title:"FadeWhiteTransition",T:function(a,b){return new ok(a,b)}},{title:"ShrinkGrowTransition",T:function(a,b){return new pk(a,b)}},{title:"RotoZoomTransition",T:function(a,b){return new qk(a,b)}},{title:"MoveInLTransition",T:function(a,b){return new rk(a,b)}},{title:"MoveInRTransition",
T:function(a,b){return new sk(a,b)}},{title:"MoveInTTransition",T:function(a,b){return new tk(a,b)}},{title:"MoveInBTransition",T:function(a,b){return new uk(a,b)}},{title:"SlideInLTransition",T:function(a,b){return new vk(a,b)}},{title:"SlideInRTransition",T:function(a,b){return new wk(a,b)}},{title:"SlideInTTransition",T:function(a,b){return new xk(a,b)}},{title:"SlideInBTransition",T:function(a,b){return new yk(a,b)}}],Ak=0,Fa=x.extend({G:function(){this.addChild(new Bk);r.replaceScene(this)}}),
Ck=y.extend({B:TRANSITION_DURATION+0.1,title:function(){return zk[Ak].title},ctor:function(){this._super(this.Ee,this.Fe);var a,b,c=r.getWinSize();a=c.width;b=c.height;var d=cc.Sprite.create(this.backgroundImage);d.setPosition(c.width/2,c.height/2);d.setScale(1.7);this.addChild(d);c=cc.LabelTTF.create(this.title(),"Thonburi",32);this.addChild(c);c.setColor(cc.o(255,32,32));c.setPosition(a/2,b-100);c=cc.LabelTTF.create(this.Ob,"Marker Felt",38);c.setColor(cc.o(16,16,255));c.setPosition(a/2,b/2);this.addChild(c);
this.schedule(this.step,1)},J:function(){var a=new Fa,b=this.Gc();a.addChild(b);(a=zk[Ak].T(TRANSITION_DURATION,a))&&r.replaceScene(a)},I:function(){Ak++;Ak%=zk.length;var a=new Fa,b=this.Gc();a.addChild(b);(a=zk[Ak].T(TRANSITION_DURATION,a))&&r.replaceScene(a)},H:function(){Ak--;0>Ak&&(Ak+=zk.length);var a=new Fa,b=this.Gc();a.addChild(b);(a=zk[Ak].T(TRANSITION_DURATION,a))&&r.replaceScene(a)},step:l(),onEnter:function(){this._super();this.log(""+this.Ob+" onEnter")},onEnterTransitionDidFinish:function(){this._super();
this.log(""+this.Ob+" onEnterTransitionDidFinish")},onExitTransitionDidStart:function(){this._super();this.log(""+this.Ob+" onExitTransitionDidStart")},onExit:function(){this._super();this.log(""+this.Ob+" onExit")},M:function(){return zk.length-1-Ak},K:function(){return Ak}}),Bk=Ck.extend({backgroundImage:"res/Images/background1.png",Ee:cc.k(0,0,0,255),Fe:cc.k(160,99,117,255),Ob:"Scene 1",Gc:function(){return new Dk}}),Dk=Ck.extend({backgroundImage:"res/Images/background2.png",Ee:cc.k(0,0,0,255),
Fe:cc.k(99,160,117,255),Ob:"Scene 2",Gc:function(){return new Bk}});function mk(a,b){return cc.TransitionJumpZoom.create(a,b)}function nk(a,b){return cc.TransitionFade.create(a,b)}function ok(a,b){return cc.TransitionFade.create(a,b,cc.o(255,255,255))}function pk(a,b){return cc.TransitionShrinkGrow.create(a,b)}function qk(a,b){return cc.TransitionRotoZoom.create(a,b)}function rk(a,b){return cc.TransitionMoveInL.create(a,b)}function sk(a,b){return cc.TransitionMoveInR.create(a,b)}
function tk(a,b){return cc.TransitionMoveInT.create(a,b)}function uk(a,b){return cc.TransitionMoveInB.create(a,b)}function vk(a,b){return cc.TransitionSlideInL.create(a,b)}function wk(a,b){return cc.TransitionSlideInR.create(a,b)}function xk(a,b){return cc.TransitionSlideInT.create(a,b)}function yk(a,b){return cc.TransitionSlideInB.create(a,b)};var Ek=-1,Ik=y.extend({e:"",h:"",J:function(){var a=new Ga;a.addChild(new Fk[Ek]);r.replaceScene(a)},I:function(){var a=new Ga;a.addChild(Gk());r.replaceScene(a)},H:function(){var a=new Ga;a.addChild(Hk());r.replaceScene(a)},M:function(){return Fk.length-1-Ek},K:function(){return Ek}}),Jk=Ik.extend({e:"Rect Unit Test",h:"See console for possible errors",onEnter:function(){this._super();this.Za()},Za:function(){var a=[],b,c;this.log("Test 1: rectIntersectsRect 1");b=cc.rect(0,0,5,10);c=cc.rect(4,9,
5,10);(b=cc.df(b,c))||e("Fail rectIntersectsRect 1");a.push(b);this.log("Test 2: rectIntersectsRect 2");b=cc.rect(0,0,5,10);c=cc.rect(40,90,5,10);(b=cc.df(b,c))&&e("Fail rectIntersectsRect 2");a.push(b);this.log("Test 3: rectIntersection");b=cc.rect(0,0,5,10);c=cc.rect(4,9,5,10);b=cc.vh(b,c);(b=cc.cf(b,cc.rect(4,9,1,1)))||e("Fail rectIntersection");a.push(b);this.log("Test 4: rectUnion");b=cc.rect(0,0,5,10);c=cc.rect(4,9,5,10);b=cc.wh(b,c);(b=cc.cf(b,cc.rect(0,0,9,19)))||e("Fail rectUnion");a.push(b);
this.log("Test 5: rectContainsPoint 1");b=cc.rect(0,0,5,10);c=cc.p(1,1);(b=cc.$c(b,c))||e("Fail rectContainsPoint 1");a.push(b);this.log("Test 6: rectContainsPoint 2");b=cc.rect(0,0,5,10);c=cc.p(1,-1);(b=cc.$c(b,c))&&e("Fail rectContainsPoint 2");a.push(b);this.log("Test 7: rect property x");b=cc.rect(1,2,3,4);1!=b.x&&e("Fail rect property x");a.push(b.x);this.log("Test 8: rect property y");b=cc.rect(1,2,3,4);2!=b.y&&e("Fail rect property y");a.push(b.y);this.log("Test 9: rect property width");b=
cc.rect(1,2,3,4);3!=b.width&&e("Fail rect property width");a.push(b.width);this.log("Test 10: rect property height");b=cc.rect(1,2,3,4);4!=b.height&&e("Fail rect property height");a.push(b.height);this.log("Test 11: getBoundingBox()");b=cc.Node.create();b.setContentSize(cc.size(99,101));b=b.getBoundingBox();(101!=b.height||99!=b.width)&&e("Fail getBoundingBox()");a.push(b.height);a.push(b.width);return a},B:0.1,s:function(){return JSON.stringify([g,j,g,g,g,j,1,2,3,4,101,99])},q:function(){var a=this.Za();
return JSON.stringify(a)}}),Kk=Ik.extend({e:"Dictionary To/From Test",h:"Sends and receives a dictionary to JSB",ctor:function(){this._super();this.Za()},Za:function(){cc.SpriteFrameCache.getInstance().addSpriteFrames("res/animations/grossini.plist");var a=cc.AnimationCache.getInstance();a.addAnimations("res/animations/animations-2.plist");var a=a.getAnimation("dance_1").getFrames()[0],b=a.getUserInfo();this.log(JSON.stringify(b));a.setUserInfo({array:[1,2,3,"hello world"],bool0:0,bool1:1,dict:{key1:"value1",
key2:2},number:42,string:"hello!"});b=a.getUserInfo();this.log(JSON.stringify(b));return b},B:0.1,s:function(){var a=this.jf({array:[1,2,3,"hello world"],bool0:0,bool1:1,dict:{key1:"value1",key2:2},number:42,string:"hello!"});return JSON.stringify(a)},q:function(){var a=this.jf(this.Za());return JSON.stringify(a)}}),Ga=x.extend({G:function(){Ek=-1;this.addChild(Gk());r.replaceScene(this)}}),Fk=[Jk,Kk];function Gk(){Ek++;Ek%=Fk.length;return new Fk[Ek]}
function Hk(){Ek--;0>Ek&&(Ek+=Fk.length);return new Fk[Ek]};var Lk=-1,Pk=y.extend({e:"",h:"",ctor:function(){this._super(cc.k(0,0,0,255),cc.k(98,99,117,255))},J:function(){var a=new Ha;a.addChild(new Mk[Lk]);r.replaceScene(a)},I:function(){var a=new Ha;a.addChild(Nk());r.replaceScene(a)},H:function(){var a=new Ha;a.addChild(Ok());r.replaceScene(a)},M:function(){return Mk.length-1-Lk},K:function(){return Lk}}),Qk=Pk.extend({e:"LocalStorage Test ",h:"See the console",ctor:function(){this._super();var a="key_"+Math.random(),b=sys.localStorage;cc.log(1);b.setItem(a,
"Hello world");cc.log(2);var c=b.getItem(a);cc.log(c);cc.log(3);b.removeItem(a);cc.log(4);c=b.getItem(a);cc.log(c)}}),Rk=Pk.extend({e:"Capabilities Test ",h:"See the console",ctor:function(){this._super();var a=sys.capabilities,b;for(b in a)cc.log(b+" = "+a[b])}}),Ha=x.extend({G:function(){Lk=-1;this.addChild(Nk());r.replaceScene(this)}}),Mk=[Qk,Rk];function Nk(){Lk++;Lk%=Mk.length;return new Mk[Lk]}function Ok(){Lk--;0>Lk&&(Lk+=Mk.length);return new Mk[Lk]};var Sk=cc.Scene.create(),Tk=new da;Sk.addChild(Tk);r.runWithScene(Sk);